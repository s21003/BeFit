{"version":3,"file":"ej2-dropdowns.umd.min.js","sources":["../src/common/incremental-search.js","../src/common/highlight-search.js","../src/multi-select/float-label.js","../src/common/virtual-scroll.js","../src/drop-down-base/drop-down-base.js","../src/drop-down-list/drop-down-list.js","../src/drop-down-tree/drop-down-tree.js","../src/combo-box/combo-box.js","../src/auto-complete/auto-complete.js","../src/multi-select/multi-select.js","../src/multi-select/checkbox-selection.js","../src/list-box/list-box.js","../src/mention/mention.js"],"sourcesContent":["/**\n * IncrementalSearch module file\n */\nvar queryString = '';\nvar prevString = '';\nvar tempQueryString = '';\nvar matches = [];\nvar activeClass = 'e-active';\nvar prevElementId = '';\n/**\n * Search and focus the list item based on key code matches with list text content\n *\n * @param  { number } keyCode - Specifies the key code which pressed on keyboard events.\n * @param  { HTMLElement[]} items - Specifies an array of HTMLElement, from which matches find has done.\n * @param { number } selectedIndex - Specifies the selected item in list item, so that search will happen\n * after selected item otherwise it will do from initial.\n * @param  { boolean } ignoreCase - Specifies the case consideration when search has done.\n * @param {string} elementId - Specifies the list element ID.\n * @returns {Element} Returns list item based on key code matches with list text content.\n */\nexport function incrementalSearch(keyCode, items, selectedIndex, ignoreCase, elementId, queryStringUpdated, currentValue, isVirtual, refresh) {\n    if (!queryStringUpdated || queryString === '') {\n        if (tempQueryString != '') {\n            queryString = tempQueryString + String.fromCharCode(keyCode);\n            tempQueryString = '';\n        }\n        else {\n            queryString += String.fromCharCode(keyCode);\n        }\n    }\n    else if (queryString == prevString) {\n        tempQueryString = String.fromCharCode(keyCode);\n    }\n    if (isVirtual) {\n        setTimeout(function () {\n            tempQueryString = '';\n        }, 700);\n        setTimeout(function () {\n            queryString = '';\n        }, 3000);\n    }\n    else {\n        setTimeout(function () {\n            queryString = '';\n        }, 1000);\n    }\n    var index;\n    queryString = ignoreCase ? queryString.toLowerCase() : queryString;\n    if (prevElementId === elementId && prevString === queryString && !refresh) {\n        for (var i = 0; i < matches.length; i++) {\n            if (matches[i].classList.contains(activeClass)) {\n                index = i;\n                break;\n            }\n            if (currentValue && matches[i].textContent.toLowerCase() === currentValue.toLowerCase()) {\n                index = i;\n                break;\n            }\n        }\n        index = index + 1;\n        if (isVirtual) {\n            return matches[index] && matches.length - 1 != index ? matches[index] : matches[matches.length];\n        }\n        return matches[index] ? matches[index] : matches[0];\n    }\n    else {\n        var listItems = items;\n        var strLength = queryString.length;\n        var text = void 0;\n        var item = void 0;\n        selectedIndex = selectedIndex ? selectedIndex + 1 : 0;\n        var i = selectedIndex;\n        matches = [];\n        do {\n            if (i === listItems.length) {\n                i = -1;\n            }\n            if (i === -1) {\n                index = 0;\n            }\n            else {\n                index = i;\n            }\n            item = listItems[index];\n            text = ignoreCase ? item.innerText.toLowerCase() : item.innerText;\n            if (text.substr(0, strLength) === queryString) {\n                matches.push(listItems[index]);\n            }\n            i++;\n        } while (i !== selectedIndex);\n        prevString = queryString;\n        prevElementId = elementId;\n        if (isVirtual) {\n            var indexUpdated = false;\n            for (var i_1 = 0; i_1 < matches.length; i_1++) {\n                if (currentValue && matches[i_1].textContent.toLowerCase() === currentValue.toLowerCase()) {\n                    index = i_1;\n                    indexUpdated = true;\n                    break;\n                }\n            }\n            if (currentValue && indexUpdated) {\n                index = index + 1;\n            }\n            return matches[index] ? matches[index] : matches[0];\n        }\n        return matches[0];\n    }\n}\n/**\n * Search the list item based on given input value matches with search type.\n *\n * @param {string} inputVal - Specifies the given input value.\n * @param {HTMLElement[]} items - Specifies the list items.\n * @param {SearchType} searchType - Specifies the filter type.\n * @param {boolean} ignoreCase - Specifies the case sensitive option for search operation.\n * @returns {Element | number} Returns the search matched items.\n */\nexport function Search(inputVal, items, searchType, ignoreCase, dataSource, fields, type) {\n    var listItems = items;\n    ignoreCase = ignoreCase !== undefined && ignoreCase !== null ? ignoreCase : true;\n    var itemData = { item: null, index: null };\n    if (inputVal && inputVal.length) {\n        var strLength = inputVal.length;\n        var queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal;\n        queryStr = escapeCharRegExp(queryStr);\n        var _loop_1 = function (i, itemsData) {\n            var item = itemsData[i];\n            var text = void 0;\n            var filterValue;\n            if (items && dataSource) {\n                var checkField_1 = item;\n                var fieldValue_1 = fields.text.split('.');\n                dataSource.filter(function (data) {\n                    Array.prototype.slice.call(fieldValue_1).forEach(function (value) {\n                        /* eslint-disable security/detect-object-injection */\n                        if (type === 'object' && (!data.isHeader && checkField_1.textContent.toString().indexOf(data[value]) !== -1) && checkField_1.getAttribute('data-value') === data[fields.value].toString() || type === 'string' && checkField_1.textContent.toString().indexOf(data) !== -1) {\n                            filterValue = type === 'object' ? data[value] : data;\n                        }\n                    });\n                });\n            }\n            text = dataSource && filterValue ? (ignoreCase ? filterValue.toString().toLocaleLowerCase() : filterValue).replace(/^\\s+|\\s+$/g, '') : (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\\s+|\\s+$/g, '');\n            /* eslint-disable security/detect-non-literal-regexp */\n            if ((searchType === 'Equal' && text === queryStr) || (searchType === 'StartsWith' && text.substr(0, strLength) === queryStr) || (searchType === 'EndsWith' && text.substr(text.length - queryStr.length) === queryStr) || (searchType === 'Contains' && new RegExp(queryStr, \"g\").test(text))) {\n                itemData.item = item;\n                itemData.index = i;\n                return { value: { item: item, index: i } };\n            }\n        };\n        for (var i = 0, itemsData = listItems; i < itemsData.length; i++) {\n            var state_1 = _loop_1(i, itemsData);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return itemData;\n        /* eslint-enable security/detect-non-literal-regexp */\n    }\n    return itemData;\n}\n/* eslint-enable security/detect-object-injection */\nexport function escapeCharRegExp(value) {\n    return value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\nexport function resetIncrementalSearchValues(elementId) {\n    if (prevElementId === elementId) {\n        prevElementId = '';\n        prevString = '';\n        queryString = '';\n        matches = [];\n    }\n}\n","/**\n * Function helps to find which highlightSearch is to call based on your data.\n *\n * @param  {HTMLElement} element - Specifies an li element.\n * @param  {string} query - Specifies the string to be highlighted.\n * @param  {boolean} ignoreCase - Specifies the ignoreCase option.\n * @param  {HightLightType} type - Specifies the type of highlight.\n * @returns {void}\n */\nexport function highlightSearch(element, query, ignoreCase, type) {\n    var isHtmlElement = /<[^>]*>/g.test(element.innerText);\n    if (isHtmlElement) {\n        element.innerText = element.innerText.replace(/[\\u00A0-\\u9999<>&]/g, function (match) { return \"&#\" + match.charCodeAt(0) + \";\"; });\n    }\n    if (query === '') {\n        return;\n    }\n    else {\n        var ignoreRegex = ignoreCase ? 'gim' : 'gm';\n        // eslint-disable-next-line\n        query = /^[a-zA-Z0-9- ]*$/.test(query) ? query : query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n        var replaceQuery = type === 'StartsWith' ? '^(' + query + ')' : type === 'EndsWith' ?\n            '(' + query + ')$' : '(' + query + ')';\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        findTextNode(element, new RegExp(replaceQuery, ignoreRegex));\n    }\n}\n/* eslint-enable jsdoc/require-param, valid-jsdoc */\n/**\n *\n * @param {HTMLElement} element - Specifies the element.\n * @param {RegExp} pattern - Specifies the regex to match the searched text.\n * @returns {void}\n */\nfunction findTextNode(element, pattern) {\n    for (var index = 0; element.childNodes && (index < element.childNodes.length); index++) {\n        if (element.childNodes[index].nodeType === 3 && element.childNodes[index].textContent.trim() !== '') {\n            var value = element.childNodes[index].nodeValue.trim().replace(pattern, '<span class=\"e-highlight\">$1</span>');\n            element.childNodes[index].nodeValue = '';\n            element.innerHTML = element.innerHTML.trim() + value;\n            break;\n        }\n        else {\n            findTextNode(element.childNodes[index], pattern);\n        }\n    }\n}\n/**\n * Function helps to remove highlighted element based on your data.\n *\n * @param  {HTMLElement} content - Specifies an content element.\n * @returns {void}\n */\nexport function revertHighlightSearch(content) {\n    var contentElement = content.querySelectorAll('.e-highlight');\n    for (var i = contentElement.length - 1; i >= 0; i--) {\n        var parent_1 = contentElement[i].parentNode;\n        var text = document.createTextNode(contentElement[i].textContent);\n        parent_1.replaceChild(text, contentElement[i]);\n    }\n}\n","/**\n * FloatLable Moduel\n * Specifies whether to display the floating label above the input element.\n */\nimport { removeClass, addClass, detach } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, createElement, getUniqueID } from '@syncfusion/ej2-base';\nvar FLOATLINE = 'e-float-line';\nvar FLOATTEXT = 'e-float-text';\nvar LABELTOP = 'e-label-top';\nvar LABELBOTTOM = 'e-label-bottom';\n/* eslint-disable valid-jsdoc */\n/**\n * Function to create Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLElement} searchWrapper - Search wrapper of multiselect.\n * @param {HTMLElement} element - The given html element.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function createFloatLabel(overAllWrapper, searchWrapper, element, inputElement, value, floatLabelType, placeholder) {\n    var floatLinelement = createElement('span', { className: FLOATLINE });\n    var floatLabelElement = createElement('label', { className: FLOATTEXT });\n    var id = element.getAttribute('id') ? element.getAttribute('id') : getUniqueID('ej2_multiselect');\n    element.id = id;\n    if (!isNullOrUndefined(element.id) && element.id !== '') {\n        floatLabelElement.id = 'label_' + element.id.replace(/ /g, '_');\n        floatLabelElement.setAttribute('for', element.id);\n        attributes(inputElement, { 'aria-labelledby': floatLabelElement.id });\n    }\n    if (!isNullOrUndefined(inputElement.placeholder) && inputElement.placeholder !== '') {\n        floatLabelElement.innerText = encodePlaceholder(inputElement.placeholder);\n        inputElement.removeAttribute('placeholder');\n    }\n    floatLabelElement.innerText = encodePlaceholder(placeholder);\n    searchWrapper.appendChild(floatLinelement);\n    searchWrapper.appendChild(floatLabelElement);\n    overAllWrapper.classList.add('e-float-input');\n    updateFloatLabelState(value, floatLabelElement);\n    if (floatLabelType === 'Always') {\n        if (floatLabelElement.classList.contains(LABELBOTTOM)) {\n            removeClass([floatLabelElement], LABELBOTTOM);\n        }\n        addClass([floatLabelElement], LABELTOP);\n    }\n}\n/**\n * Function to update status of the Float Label element.\n *\n * @param {string[] | number[] | boolean[]} value - Value of the MultiSelect.\n * @param {HTMLElement} label - Float label element.\n */\nexport function updateFloatLabelState(value, label) {\n    if (value && value.length > 0) {\n        addClass([label], LABELTOP);\n        removeClass([label], LABELBOTTOM);\n    }\n    else {\n        removeClass([label], LABELTOP);\n        addClass([label], LABELBOTTOM);\n    }\n}\n/**\n * Function to remove Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n * @param {HTMLElement} searchWrapper - Search wrapper of multiselect.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function removeFloating(overAllWrapper, componentWrapper, searchWrapper, inputElement, value, floatLabelType, placeholder) {\n    var placeholderElement = componentWrapper.querySelector('.' + FLOATTEXT);\n    var floatLine = componentWrapper.querySelector('.' + FLOATLINE);\n    var placeholderText;\n    if (!isNullOrUndefined(placeholderElement)) {\n        placeholderText = placeholderElement.innerText;\n        detach(searchWrapper.querySelector('.' + FLOATTEXT));\n        setPlaceHolder(value, inputElement, placeholderText);\n        if (!isNullOrUndefined(floatLine)) {\n            detach(searchWrapper.querySelector('.' + FLOATLINE));\n        }\n    }\n    else {\n        placeholderText = (placeholder !== null) ? placeholder : '';\n        setPlaceHolder(value, inputElement, placeholderText);\n    }\n    overAllWrapper.classList.remove('e-float-input');\n}\n/**\n * Function to set the placeholder to the element.\n *\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function setPlaceHolder(value, inputElement, placeholder) {\n    if (value && value.length) {\n        inputElement.placeholder = '';\n    }\n    else {\n        inputElement.placeholder = placeholder;\n    }\n}\n/**\n * Function for focusing the Float Element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n */\nexport function floatLabelFocus(overAllWrapper, componentWrapper) {\n    overAllWrapper.classList.add('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (!isNullOrUndefined(label)) {\n        addClass([label], LABELTOP);\n        if (label.classList.contains(LABELBOTTOM)) {\n            removeClass([label], LABELBOTTOM);\n        }\n    }\n}\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/**\n * Function to focus the Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function floatLabelBlur(overAllWrapper, componentWrapper, value, floatLabelType, placeholder) {\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    overAllWrapper.classList.remove('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (value && value.length <= 0 && floatLabelType === 'Auto' && !isNullOrUndefined(label)) {\n        if (label.classList.contains(LABELTOP)) {\n            removeClass([label], LABELTOP);\n        }\n        addClass([label], LABELBOTTOM);\n    }\n}\nexport function encodePlaceholder(placeholder) {\n    var result = '';\n    if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n        var spanElement = document.createElement('span');\n        spanElement.innerHTML = '<input  placeholder=\"' + placeholder + '\"/>';\n        var hiddenInput = (spanElement.children[0]);\n        result = hiddenInput.placeholder;\n    }\n    return result;\n}\n/* eslint-enable valid-jsdoc */\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { EventHandler, Browser, select, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { debounce, Touch } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        var _this = this;\n        this.sentinelInfo = {\n            'up': {\n                check: function (rect, info) {\n                    var top = rect.top - _this.containerElementRect.top;\n                    info.entered = top >= 0;\n                    return top + (_this.parent.listItemHeight * _this.parent.virtualItemCount / 2) >= 0;\n                },\n                axis: 'Y'\n            },\n            'down': {\n                check: function (rect, info) {\n                    var cHeight = _this.parent.popupContentElement.clientHeight;\n                    var top = rect.bottom;\n                    info.entered = rect.bottom <= _this.containerElementRect.bottom;\n                    return top - (_this.parent.listItemHeight * _this.parent.virtualItemCount / 2) <= _this.parent.listItemHeight * _this.parent.virtualItemCount / 2;\n                }, axis: 'Y'\n            }\n        };\n        this.parent = parent;\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    VirtualScroll.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('observe', this.observe, this);\n        this.parent.on('setGeneratedData', this.setGeneratedData, this);\n        this.parent.on('dataProcessAsync', this.dataProcessAsync, this);\n        this.parent.on('setCurrentViewDataAsync', this.setCurrentViewDataAsync, this);\n        this.parent.on('bindScrollEvent', this.bindScrollEvent, this);\n    };\n    VirtualScroll.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('observe', this.observe);\n        this.parent.off('setGeneratedData', this.setGeneratedData);\n        this.parent.off('dataProcessAsync', this.dataProcessAsync);\n        this.parent.off('setCurrentViewDataAsync', this.setCurrentViewDataAsync);\n        this.parent.off('bindScrollEvent', this.bindScrollEvent);\n    };\n    VirtualScroll.prototype.bindScrollEvent = function (component) {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.component = component.component;\n        this.observe(function (scrollArgs) { return _this.scrollListener(scrollArgs); });\n    };\n    VirtualScroll.prototype.observe = function (callback) {\n        this.containerElementRect = this.parent.popupContentElement.getBoundingClientRect();\n        EventHandler.add(this.parent.popupContentElement, 'wheel mousedown', this.popupScrollHandler, this);\n        this.touchModule = new Touch(this.parent.popupContentElement, {\n            scroll: this.popupScrollHandler.bind(this)\n        });\n        EventHandler.add(this.parent.popupContentElement, 'scroll', this.virtualScrollHandler(callback), this);\n    };\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'VirtualScroll';\n    };\n    VirtualScroll.prototype.popupScrollHandler = function (e) {\n        this.parent.isMouseScrollAction = true;\n        this.parent.isPreventScrollAction = false;\n    };\n    VirtualScroll.prototype.getPageQuery = function (query, virtualStartIndex, virtualEndIndex) {\n        if (virtualEndIndex !== 0 && !this.parent.allowFiltering && this.component !== 'autocomplete') {\n            query = query.skip(virtualStartIndex);\n        }\n        return query;\n    };\n    VirtualScroll.prototype.setGeneratedData = function (qStartIndex, recentlyGeneratedData) {\n        var loopIteration = 0;\n        var endIndex = this.parent.listData.length + this.parent.virtualItemStartIndex;\n        for (var i = this.parent.virtualItemStartIndex; i < endIndex; i++) {\n            var alreadyAddedData = this.parent.generatedDataObject[i];\n            if (!alreadyAddedData) {\n                if (recentlyGeneratedData !== null && this.parent.listData.slice(loopIteration, loopIteration + 1).length > 0) {\n                    var slicedData = this.parent.listData.slice(loopIteration, loopIteration + 1);\n                    if (slicedData.length > 0) {\n                        // Safely assign slicedData to this.parent.generatedDataObject[i]\n                        this.parent.generatedDataObject[i] = slicedData;\n                    }\n                }\n            }\n            loopIteration++;\n        }\n    };\n    VirtualScroll.prototype.generateAndExecuteQueryAsync = function (query, virtualItemStartIndex, virtualItemEndIndex, isQueryGenerated) {\n        if (virtualItemStartIndex === void 0) { virtualItemStartIndex = 0; }\n        if (virtualItemEndIndex === void 0) { virtualItemEndIndex = 0; }\n        if (isQueryGenerated === void 0) { isQueryGenerated = false; }\n        var dataSource = this.parent.dataSource;\n        if (!isQueryGenerated) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (!isNullOrUndefined(this.parent.query)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var newQuery = this.removeSkipAndTakeEvents(this.parent.query.clone());\n                query = this.getPageQuery(newQuery, virtualItemStartIndex, virtualItemEndIndex);\n            }\n            else {\n                query = this.getPageQuery(query, virtualItemStartIndex, virtualItemEndIndex);\n            }\n        }\n        var tempCustomFilter = this.parent.isCustomFilter;\n        if (this.component === 'combobox') {\n            var totalData = 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                totalData = this.parent.dataSource.dataSource.json.length;\n            }\n            else if (this.parent.dataSource && this.parent.dataSource.length > 0) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                totalData = this.parent.dataSource.length;\n            }\n            if (totalData > 0) {\n                this.parent.isCustomFilter = (totalData == this.parent.totalItemCount && this.parent.queryString != this.parent.typedString) ? true : this.parent.isCustomFilter;\n            }\n        }\n        this.parent.resetList(dataSource, this.parent.fields, query);\n        this.parent.isCustomFilter = tempCustomFilter;\n    };\n    VirtualScroll.prototype.removeSkipAndTakeEvents = function (query) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        query.queries = query.queries.filter(function (event) {\n            return event.fn !== 'onSkip' && event.fn !== 'onTake';\n        });\n        return query;\n    };\n    VirtualScroll.prototype.setCurrentViewDataAsync = function (component) {\n        // eslint-disable-next-line\n        var currentData = [];\n        var isResetListCalled = false;\n        var isListUpdated = true;\n        if (isNullOrUndefined(this.component)) {\n            this.component = component.component;\n        }\n        var endIndex = this.parent.viewPortInfo.endIndex;\n        if (this.component === 'multiselect' && this.parent.mode === 'CheckBox' && this.parent.value && Array.isArray(this.parent.value) && this.parent.value.length > 0 && this.parent.enableSelectionOrder) {\n            if (this.parent.viewPortInfo.startIndex < this.parent.value.length) {\n                endIndex = this.parent.viewPortInfo.endIndex - this.parent.value.length;\n                if (this.parent.viewPortInfo.startIndex === 0) {\n                    this.parent.updateVirtualReOrderList(true);\n                    if (this.parent.value.length < this.parent.itemCount) {\n                        var oldUlElement = this.parent.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                        if (oldUlElement) {\n                            this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(oldUlElement);\n                        }\n                        var query = this.parent.getForQuery(this.parent.value).clone();\n                        query = query.skip(0).take(this.parent.itemCount - (this.parent.value.length - this.parent.viewPortInfo.startIndex));\n                        this.parent.appendUncheckList = true;\n                        this.parent.setCurrentView = false;\n                        this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                        isListUpdated = false;\n                        this.parent.appendUncheckList = this.parent.dataSource instanceof DataManager ? this.parent.appendUncheckList : false;\n                        isListUpdated = false;\n                    }\n                    else {\n                        var oldUlElement = this.parent.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                        if (oldUlElement) {\n                            this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(oldUlElement);\n                        }\n                    }\n                    isListUpdated = false;\n                }\n                else if (this.parent.viewPortInfo.startIndex != 0) {\n                    this.parent.updateVirtualReOrderList(true);\n                    var oldUlElement = this.parent.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                    if (oldUlElement) {\n                        this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(oldUlElement);\n                    }\n                    isListUpdated = false;\n                }\n                if (this.parent.viewPortInfo.startIndex != 0 && this.parent.viewPortInfo.startIndex - this.parent.value.length != this.parent.itemCount && (this.parent.viewPortInfo.startIndex + this.parent.itemCount > this.parent.value.length)) {\n                    var query = this.parent.getForQuery(this.parent.value).clone();\n                    query = query.skip(0).take(this.parent.itemCount - (this.parent.value.length - this.parent.viewPortInfo.startIndex));\n                    this.parent.appendUncheckList = true;\n                    this.parent.setCurrentView = false;\n                    this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                    isListUpdated = false;\n                    this.parent.appendUncheckList = this.parent.dataSource instanceof DataManager ? this.parent.appendUncheckList : false;\n                }\n            }\n            else {\n                var reOrderList = this.parent.list.querySelectorAll('.e-reorder')[0];\n                if (this.parent.list.querySelector('.e-virtual-ddl-content') && reOrderList) {\n                    this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(reOrderList);\n                }\n                var query = this.parent.getForQuery(this.parent.value).clone();\n                var skipvalue = this.parent.viewPortInfo.startIndex - this.parent.value.length >= 0 ? this.parent.viewPortInfo.startIndex - this.parent.value.length : 0;\n                query = query.skip(skipvalue);\n                this.parent.setCurrentView = false;\n                this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                isListUpdated = false;\n            }\n            this.parent.totalItemsCount();\n        }\n        if (isListUpdated) {\n            for (var i = this.parent.viewPortInfo.startIndex; i < endIndex; i++) {\n                var index = i;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var alreadyAddedData = this.parent.generatedDataObject[index];\n                if (this.component === 'multiselect' && this.parent.hideSelectedItem) {\n                    if (alreadyAddedData) {\n                        var value = getValue(this.parent.fields.value, alreadyAddedData[0]);\n                        if (this.parent.value && value != null && Array.isArray(this.parent.value) && this.parent.value.length > 0 && this.parent.value.indexOf(value) < 0) {\n                            var query = this.parent.getForQuery(this.parent.value).clone();\n                            if (this.parent.viewPortInfo.endIndex == this.parent.totalItemCount + this.parent.value.length && this.parent.hideSelectedItem) {\n                                query = query.skip(this.parent.totalItemCount - this.parent.itemCount);\n                            }\n                            else {\n                                query = query.skip(this.parent.viewPortInfo.startIndex);\n                            }\n                            this.parent.setCurrentView = false;\n                            this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                            isResetListCalled = true;\n                            break;\n                        }\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        else if ((this.parent.value === null || (this.parent.value && this.parent.value.length === 0))) {\n                            currentData.push(alreadyAddedData[0]);\n                        }\n                    }\n                    if (index === endIndex - 1) {\n                        if (currentData.length != this.parent.itemCount) {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            if (this.parent.hideSelectedItem) {\n                                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                var query = this.parent.getForQuery(this.parent.value).clone();\n                                if (this.parent.viewPortInfo.endIndex == this.parent.totalItemCount + this.parent.value.length && this.parent.hideSelectedItem) {\n                                    query = query.skip(this.parent.totalItemCount - this.parent.itemCount);\n                                }\n                                else {\n                                    query = query.skip(this.parent.viewPortInfo.startIndex);\n                                }\n                                this.parent.setCurrentView = false;\n                                this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                                isResetListCalled = true;\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (alreadyAddedData) {\n                        currentData.push(alreadyAddedData[0]);\n                    }\n                }\n                this.parent.setCurrentView = false;\n            }\n        }\n        if (!isResetListCalled && isListUpdated) {\n            if (this.component === 'multiselect' && this.parent.allowCustomValue && this.parent.viewPortInfo.startIndex == 0 && this.parent.virtualCustomData) {\n                currentData.splice(0, 0, this.parent.virtualCustomData);\n            }\n            var totalData = [];\n            if (this.component === 'multiselect' && this.parent.allowCustomValue && this.parent.viewPortInfo.endIndex == this.parent.totalItemCount) {\n                if (this.parent.virtualCustomSelectData && this.parent.virtualCustomSelectData.length > 0) {\n                    totalData = currentData.concat(this.parent.virtualCustomSelectData);\n                    currentData = totalData;\n                }\n            }\n            var ulElement = this.parent.renderItems(currentData, this.parent.fields, this.component === 'multiselect' && this.parent.mode === 'CheckBox');\n        }\n        if (this.component === 'multiselect') {\n            this.parent.updatevirtualizationList();\n        }\n        this.parent.getSkeletonCount();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var virtualTrackElement = this.parent.list.getElementsByClassName('e-virtual-ddl')[0];\n        if (virtualTrackElement) {\n            (virtualTrackElement).style = this.parent.GetVirtualTrackHeight();\n        }\n        else if (!virtualTrackElement && this.parent.skeletonCount > 0 && this.parent.popupWrapper) {\n            var virualElement = this.parent.createElement('div', {\n                id: this.parent.element.id + '_popup', className: 'e-virtual-ddl', styles: this.parent.GetVirtualTrackHeight()\n            });\n            this.parent.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n        }\n        this.parent.UpdateSkeleton();\n        this.parent.liCollections = this.parent.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var virtualContentElement = this.parent.list.getElementsByClassName('e-virtual-ddl-content')[0];\n        if (virtualContentElement) {\n            (virtualContentElement).style = this.parent.getTransformValues();\n        }\n        if (this.parent.fields.groupBy) {\n            this.parent.scrollStop();\n        }\n        if (this.parent.keyCode == 40 && this.parent.isScrollChanged && this.parent.hideSelectedItem && !isNullOrUndefined(this.parent.currentFocuedListElement)) {\n            var currentSelectElem = this.parent.getElementByValue(this.parent.currentFocuedListElement.getAttribute('data-value'));\n            this.parent.addListFocus(currentSelectElem);\n            this.parent.isScrollChanged = false;\n        }\n    };\n    VirtualScroll.prototype.generateQueryAndSetQueryIndexAsync = function (query, isPopupOpen) {\n        var isStartIndexInitialised = false;\n        var queryStartIndex = 0;\n        var queryEndIndex = 0;\n        var vEndIndex = this.parent.viewPortInfo.endIndex;\n        if (!isPopupOpen && vEndIndex !== 0) {\n            for (var i = this.parent.viewPortInfo.startIndex; i <= vEndIndex; i++) {\n                if (!(i in this.parent.generatedDataObject)) {\n                    if (!isStartIndexInitialised) {\n                        isStartIndexInitialised = true;\n                        queryStartIndex = queryEndIndex = i;\n                    }\n                    else {\n                        queryEndIndex = i === vEndIndex ? i : i + 1;\n                    }\n                }\n            }\n        }\n        if (isStartIndexInitialised && !((this.parent.totalItemCount == queryStartIndex) && (this.parent.totalItemCount == queryEndIndex))) {\n            this.parent.virtualItemStartIndex = queryStartIndex;\n            this.parent.virtualItemEndIndex = queryEndIndex;\n            this.parent.setCurrentView = true;\n            this.generateAndExecuteQueryAsync(query, queryStartIndex, queryEndIndex);\n            if (this.component === 'multiselect' && this.parent.hideSelectedItem && this.parent.value && Array.isArray(this.parent.value) && this.parent.value.length > 0) {\n                this.parent.totalItemsCount();\n            }\n            if (this.component === 'multiselect' && this.parent.virtualItemStartIndex === this.parent.virtualItemEndIndex) {\n                this.parent.virtualItemStartIndex = this.parent.viewPortInfo.startIndex;\n                this.parent.virtualItemEndIndex = this.parent.viewPortInfo.endIndex;\n            }\n        }\n        if (!(this.parent.dataSource instanceof DataManager) || (this.parent.dataSource instanceof DataManager && !this.parent.isRequesting)) {\n            this.setCurrentViewDataAsync();\n        }\n    };\n    VirtualScroll.prototype.dataProcessAsync = function (isOpenPopup) {\n        this.parent.selectedValueInfo = null;\n        this.parent.virtualItemStartIndex = this.parent.viewPortInfo.startIndex;\n        this.parent.virtualItemEndIndex = this.parent.viewPortInfo.endIndex;\n        this.generateQueryAndSetQueryIndexAsync(new Query(), isOpenPopup);\n    };\n    VirtualScroll.prototype.virtualScrollRefreshAsync = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.parent.isCustomFilter = (!(this.parent.isTyped || (this.component === 'combobox' && this.parent.allowFiltering && this.parent.queryString != this.parent.typedString) || (!isNullOrUndefined(this.parent.filterInput) && !isNullOrUndefined(this.parent.filterInput.value) && this.parent.filterInput.value !== '') && this.component !== 'combobox') && !(this.component === 'autocomplete' && this.parent.value != null)) || this.parent.isCustomFilter;\n                        if (this.parent.allowFiltering || this.component === 'autocomplete') {\n                            if (!isNullOrUndefined(this.parent.typedString) && !(this.component === 'combobox' && !isNullOrUndefined(this.parent.typedString) && this.parent.allowFiltering)) {\n                                if (this.parent.viewPortInfo.endIndex >= this.parent.dataCount) {\n                                    this.parent.viewPortInfo.endIndex = this.parent.dataCount;\n                                }\n                                if (this.parent.viewPortInfo.startIndex >= this.parent.dataCount) {\n                                    this.parent.viewPortInfo.startIndex = this.parent.dataCount - this.parent.itemCount;\n                                }\n                            }\n                            else {\n                                this.parent.getSkeletonCount(true);\n                                if (this.component === 'combobox') {\n                                    this.parent.skeletonCount = this.parent.totalItemCount != 0 && this.parent.totalItemCount < (this.parent.itemCount * 2) ? 0 : this.parent.skeletonCount;\n                                }\n                            }\n                        }\n                        return [4 /*yield*/, this.dataProcessAsync()];\n                    case 1:\n                        _a.sent();\n                        if (this.parent.keyboardEvent != null && (!(this.parent.dataSource instanceof DataManager) || (this.parent.dataSource instanceof DataManager && !this.parent.isRequesting))) {\n                            this.parent.handleVirtualKeyboardActions(this.parent.keyboardEvent, this.parent.pageCount);\n                        }\n                        if (!this.parent.customFilterQuery) {\n                            this.parent.isCustomFilter = false;\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    VirtualScroll.prototype.scrollListener = function (scrollArgs) {\n        var _this = this;\n        if (!this.parent.isPreventScrollAction && !this.parent.isVirtualTrackHeight) {\n            this.parent.preventSetCurrentData = false;\n            var info = scrollArgs.sentinel;\n            var pStartIndex = this.parent.previousStartIndex;\n            this.parent.viewPortInfo = this.getInfoFromView(scrollArgs.direction, info, scrollArgs.offset, false);\n            this.parent.isUpwardScrolling = false;\n            if (this.parent.previousStartIndex !== pStartIndex && !this.parent.isKeyBoardAction) {\n                this.parent.isScrollActionTriggered = false;\n                this.parent.currentPageNumber = this.parent.viewPortInfo.currentPageNumber;\n                this.parent.virtualListInfo = __assign({}, this.parent.viewPortInfo);\n                this.parent.isPreventKeyAction = true;\n                this.parent.isVirtualScrolling = true;\n                setTimeout(function () {\n                    _this.parent.pageCount = _this.parent.getPageCount();\n                    _this.virtualScrollRefreshAsync().then(function () {\n                        if (_this.parent.popupObj) {\n                            _this.parent.list = _this.parent.popupObj.element.querySelector('.' + 'e-content') || select('.' + 'e-content');\n                            _this.parent.updateSelectionList();\n                            _this.parent.liCollections = _this.parent.getItems();\n                        }\n                        _this.parent.isKeyBoardAction = false;\n                        _this.parent.isVirtualScrolling = false;\n                        _this.parent.isPreventKeyAction = false;\n                    });\n                }, 5);\n            }\n            else if (this.parent.isScrollActionTriggered) {\n                this.parent.isPreventKeyAction = false;\n                this.parent.isScrollActionTriggered = false;\n                var virtualListCount = this.parent.list.querySelectorAll('.e-virtual-list').length;\n                var listElement = this.parent.list.querySelector('.' + 'e-list-item');\n                var translateY = scrollArgs.offset.top - (listElement.offsetHeight * virtualListCount);\n                this.parent.list.getElementsByClassName('e-virtual-ddl-content')[0].style.transform = \"translate(0px,\" + translateY + \"px)\";\n            }\n            this.parent.previousInfo = this.parent.viewPortInfo;\n        }\n    };\n    VirtualScroll.prototype.getInfoFromView = function (direction, info, e, isscrollAction) {\n        var infoType = {\n            direction: direction, sentinelInfo: info, offsets: e,\n            startIndex: this.parent.previousStartIndex, endIndex: this.parent.previousEndIndex\n        };\n        var vHeight = this.parent.popupContentElement.getBoundingClientRect().height;\n        //Row Start and End Index calculation\n        var rowHeight = this.parent.listItemHeight;\n        var exactTopIndex = e.top / rowHeight;\n        var infoViewIndices = vHeight / rowHeight;\n        var exactEndIndex = exactTopIndex + infoViewIndices;\n        var pageSizeBy4 = this.parent.virtualItemCount / 4;\n        var totalItemCount = this.parent.totalItemCount;\n        if (infoType.direction === 'down') {\n            var sIndex = Math.round(exactEndIndex) - Math.round((pageSizeBy4));\n            if (isNullOrUndefined(infoType.startIndex) || (exactEndIndex >\n                (infoType.startIndex + Math.round((this.parent.virtualItemCount / 2 + pageSizeBy4)))\n                && infoType.endIndex !== totalItemCount)) {\n                infoType.startIndex = sIndex >= 0 ? Math.round(sIndex) : 0;\n                infoType.startIndex = infoType.startIndex > exactTopIndex ? Math.floor(exactTopIndex) : infoType.startIndex;\n                var eIndex = infoType.startIndex + this.parent.virtualItemCount;\n                infoType.startIndex = eIndex < exactEndIndex ? (Math.ceil(exactEndIndex) - this.parent.virtualItemCount)\n                    : infoType.startIndex;\n                infoType.endIndex = eIndex < totalItemCount ? eIndex : totalItemCount;\n                infoType.startIndex = eIndex >= totalItemCount ? (infoType.endIndex - this.parent.virtualItemCount > 0 ? infoType.endIndex - this.parent.virtualItemCount : 0) : infoType.startIndex;\n                infoType.currentPageNumber = Math.ceil(infoType.endIndex / this.parent.virtualItemCount);\n            }\n        }\n        else if (infoType.direction === 'up') {\n            if (infoType.startIndex && infoType.endIndex) {\n                var loadAtIndex = Math.round(((infoType.startIndex * rowHeight) + (pageSizeBy4 * rowHeight)) / rowHeight);\n                if (exactTopIndex < loadAtIndex) {\n                    var idxAddedToExactTop = (pageSizeBy4) > infoViewIndices ? pageSizeBy4 :\n                        (infoViewIndices + infoViewIndices / 4);\n                    var eIndex = Math.round(exactTopIndex + idxAddedToExactTop);\n                    infoType.endIndex = (eIndex < totalItemCount || this.component == \"multiselect\") ? eIndex : totalItemCount;\n                    var sIndex = infoType.endIndex - this.parent.virtualItemCount;\n                    infoType.startIndex = sIndex > 0 ? sIndex : 0;\n                    infoType.endIndex = sIndex < 0 ? this.parent.virtualItemCount : infoType.endIndex;\n                    infoType.currentPageNumber = Math.ceil(infoType.startIndex / this.parent.virtualItemCount);\n                }\n            }\n        }\n        if (!isscrollAction) {\n            this.parent.previousStartIndex = infoType.startIndex;\n            this.parent.startIndex = infoType.startIndex;\n            this.parent.previousEndIndex = infoType.endIndex;\n        }\n        else {\n            this.parent.scrollPreStartIndex = infoType.startIndex;\n        }\n        return infoType;\n    };\n    VirtualScroll.prototype.virtualScrollHandler = function (callback) {\n        var _this = this;\n        var delay = Browser.info.name === 'chrome' ? 200 : 100;\n        var prevTop = 0;\n        var debounced100 = debounce(callback, delay);\n        var debounced50 = debounce(callback, 50);\n        return function (e) {\n            var top = e.target.scrollTop;\n            var left = e.target.scrollLeft;\n            var direction = prevTop < top && !_this.parent.isUpwardScrolling ? 'down' : 'up';\n            prevTop = top;\n            var current = _this.sentinelInfo[direction];\n            var pstartIndex = _this.parent.scrollPreStartIndex;\n            var scrollOffsetargs = {\n                top: top,\n                left: left\n            };\n            if (_this.parent.list && _this.parent.list.querySelectorAll('.e-virtual-list').length > 0) {\n                var infoview = _this.getInfoFromView(direction, current, scrollOffsetargs, true);\n                if (_this.parent.scrollPreStartIndex != pstartIndex && !_this.parent.isPreventScrollAction) {\n                    _this.parent.isScrollActionTriggered = true;\n                    var virtualPoup = (_this.parent.list.querySelector('.e-virtual-ddl-content'));\n                    virtualPoup.style.transform = \"translate(0px,\" + top + \"px)\";\n                }\n            }\n            var debounceFunction = debounced100;\n            if (current.axis === 'X') {\n                debounceFunction = debounced50;\n            }\n            debounceFunction({ direction: direction, sentinel: current, offset: { top: top, left: left },\n                focusElement: document.activeElement });\n        };\n    };\n    VirtualScroll.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, addClass, append, Property, Event, L10n, compile } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend, removeClass, prepend, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, rippleEffect, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { select, selectAll } from '@syncfusion/ej2-base';\nimport { Skeleton } from '@syncfusion/ej2-notifications';\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"groupBy\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\nexport var dropDownBaseClasses = {\n    root: 'e-dropdownbase',\n    rtl: 'e-rtl',\n    content: 'e-content',\n    selected: 'e-active',\n    hover: 'e-hover',\n    noData: 'e-nodata',\n    fixedHead: 'e-fixed-head',\n    focus: 'e-item-focus',\n    li: 'e-list-item',\n    group: 'e-list-group-item',\n    disabled: 'e-disabled',\n    grouping: 'e-dd-group',\n    virtualList: 'e-list-item e-virtual-list',\n};\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\nvar DISPLAYTEMPLATE_PROPERTY = 'DisplayTemplate';\nvar SPINNERTEMPLATE_PROPERTY = 'SpinnerTemplate';\nvar VALUETEMPLATE_PROPERTY = 'ValueTemplate';\nvar GROUPTEMPLATE_PROPERTY = 'GroupTemplate';\nvar HEADERTEMPLATE_PROPERTY = 'HeaderTemplate';\nvar FOOTERTEMPLATE_PROPERTY = 'FooterTemplate';\nvar NORECORDSTEMPLATE_PROPERTY = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE_PROPERTY = 'ActionFailureTemplate';\nvar HIDE_GROUPLIST = 'e-hide-group-header';\n/**\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\n */\nvar DropDownBase = /** @class */ (function (_super) {\n    __extends(DropDownBase, _super);\n    /**\n     * * Constructor for DropDownBase class\n     *\n     * @param {DropDownBaseModel} options - Specifies the DropDownBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DropDownBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.isPreventChange = false;\n        _this.isDynamicDataChange = false;\n        _this.addedNewItem = false;\n        _this.isAddNewItemTemplate = false;\n        _this.isRequesting = false;\n        _this.isVirtualizationEnabled = false;\n        _this.isCustomDataUpdated = false;\n        _this.isAllowFiltering = false;\n        _this.virtualizedItemsCount = 0;\n        _this.isCheckBoxSelection = false;\n        _this.totalItemCount = 0;\n        _this.dataCount = 0;\n        _this.remoteDataCount = -1;\n        _this.isRemoteDataUpdated = false;\n        _this.isIncrementalRequest = false;\n        _this.itemCount = 30;\n        _this.virtualListHeight = 0;\n        _this.isVirtualScrolling = false;\n        _this.isPreventScrollAction = false;\n        _this.scrollPreStartIndex = 0;\n        _this.isScrollActionTriggered = false;\n        _this.previousStartIndex = 0;\n        _this.isMouseScrollAction = false;\n        _this.isKeyBoardAction = false;\n        _this.isScrollChanged = false;\n        _this.isUpwardScrolling = false;\n        _this.startIndex = 0;\n        _this.currentPageNumber = 0;\n        _this.pageCount = 0;\n        _this.isPreventKeyAction = false;\n        _this.generatedDataObject = {};\n        _this.skeletonCount = 32;\n        _this.isVirtualTrackHeight = false;\n        _this.virtualSelectAll = false;\n        _this.incrementalQueryString = '';\n        _this.incrementalEndIndex = 0;\n        _this.incrementalStartIndex = 0;\n        _this.incrementalPreQueryString = '';\n        _this.isObjectCustomValue = false;\n        _this.appendUncheckList = false;\n        _this.getInitialData = false;\n        _this.preventPopupOpen = true;\n        _this.virtualSelectAllState = false;\n        _this.CurrentEvent = null;\n        _this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        _this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        _this.selectedValueInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        return _this;\n    }\n    DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\n        var newProperty = new Object();\n        var oldProperty = new Object();\n        var propName = function (prop) {\n            return prop;\n        };\n        newProperty[propName(prop)] = newProp[propName(prop)];\n        oldProperty[propName(prop)] = oldProp[propName(prop)];\n        var data = new Object();\n        data.newProperty = newProperty;\n        data.oldProperty = oldProperty;\n        return data;\n    };\n    DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\n        var value = null;\n        if (!isNullOrUndefined(this.listData)) {\n            if (ignoreCase) {\n                value = this.checkValueCase(text, true, ignoreAccent);\n            }\n            else {\n                value = this.checkValueCase(text, false, ignoreAccent);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\n        var _this = this;\n        var value = null;\n        if (isTextByValue) {\n            value = text;\n        }\n        var dataSource = this.listData;\n        var fields = this.fields;\n        var type = this.typeOfData(dataSource).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n                var item = dataSource_1[_i];\n                if (!isNullOrUndefined(item)) {\n                    if (ignoreAccent) {\n                        value = this.checkingAccent(String(item), text, ignoreCase);\n                    }\n                    else {\n                        if (ignoreCase) {\n                            if (this.checkIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase);\n                            }\n                        }\n                        else {\n                            if (this.checkNonIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (ignoreCase) {\n                dataSource.filter(function (item) {\n                    var itemValue = getValue(fields.value, item);\n                    if (!isNullOrUndefined(itemValue) && _this.checkIgnoreCase(getValue(fields.text, item).toString(), text)) {\n                        value = getValue(fields.value, item);\n                    }\n                });\n            }\n            else {\n                if (isTextByValue) {\n                    var compareValue_1 = null;\n                    compareValue_1 = value;\n                    dataSource.filter(function (item) {\n                        var itemValue = getValue(fields.value, item);\n                        if (!isNullOrUndefined(itemValue) && !isNullOrUndefined(value) && itemValue.toString() === compareValue_1.toString()) {\n                            value = getValue(fields.text, item);\n                        }\n                    });\n                }\n                else {\n                    dataSource.filter(function (item) {\n                        if (_this.checkNonIgnoreCase(getValue(fields.text, item), text)) {\n                            value = getValue(fields.value, item);\n                        }\n                    });\n                }\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\n        var dataItem = DataUtil.ignoreDiacritics(String(item));\n        var textItem = DataUtil.ignoreDiacritics(text.toString());\n        var value = null;\n        if (ignoreCase) {\n            if (this.checkIgnoreCase(dataItem, textItem)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        else {\n            if (this.checkNonIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkIgnoreCase = function (item, text) {\n        return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\n    };\n    DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\n        return String(item) === text.toString() ? true : false;\n    };\n    DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\n        var value = null;\n        var dataSource = this.listData;\n        var type = this.typeOfData(dataSource).typeof;\n        if (isTextByValue) {\n            value = dataItem.toString();\n        }\n        else {\n            if (ignoreCase) {\n                value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\n            }\n            else {\n                value = type === 'string' ? typedText : this.getFormattedValue(typedText);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.templateCompiler = function (baseTemplate) {\n        var checkTemplate = false;\n        if (typeof baseTemplate !== 'function' && baseTemplate) {\n            try {\n                checkTemplate = (selectAll(baseTemplate, document).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    DropDownBase.prototype.l10nUpdate = function (actionFailure) {\n        var ele = this.getModuleName() === 'listbox' ? this.ulElement : this.list;\n        if (this.noRecordsTemplate !== 'No records found' || this.actionFailureTemplate !== 'Request failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var compiledString = void 0;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            ele.innerHTML = '';\n            var tempaltecheck = this.templateCompiler(template);\n            if (typeof template !== 'function' && tempaltecheck) {\n                compiledString = compile(select(template, document).innerHTML.trim());\n            }\n            else {\n                compiledString = compile(template);\n            }\n            var templateName = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var noDataElement = void 0;\n            if ((this.isReact) && typeof template === 'function') {\n                noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null);\n            }\n            else {\n                noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null, ele);\n            }\n            if (noDataElement && noDataElement.length > 0) {\n                for (var i = 0; i < noDataElement.length; i++) {\n                    if (this.getModuleName() === 'listbox' && templateName === 'noRecordsTemplate') {\n                        if (noDataElement[i].nodeName === '#text') {\n                            var liElem = this.createElement('li');\n                            liElem.textContent = noDataElement[i].textContent;\n                            liElem.classList.add('e-list-nrt');\n                            liElem.setAttribute('role', 'option');\n                            ele.appendChild(liElem);\n                        }\n                        else {\n                            noDataElement[i].classList.add('e-list-nr-template');\n                            ele.appendChild(noDataElement[i]);\n                        }\n                    }\n                    else {\n                        if (noDataElement[i] instanceof HTMLElement || noDataElement[i] instanceof Text) {\n                            ele.appendChild(noDataElement[i]);\n                        }\n                    }\n                }\n            }\n            this.renderReactTemplates();\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No records found', actionFailureTemplate: 'Request failed' };\n            var componentLocale = new L10n(this.getLocaleName(), {}, this.locale);\n            if (componentLocale.getConstant('actionFailureTemplate') !== '' || componentLocale.getConstant('noRecordsTemplate') !== '') {\n                this.l10n = componentLocale;\n            }\n            else {\n                this.l10n = new L10n(this.getModuleName() === 'listbox' ? 'listbox' :\n                    this.getModuleName() === 'mention' ? 'mention' : 'dropdowns', l10nLocale, this.locale);\n            }\n            var content = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n            if (this.getModuleName() === 'listbox') {\n                var liElem = this.createElement('li');\n                liElem.textContent = content;\n                ele.appendChild(liElem);\n                liElem.classList.add('e-list-nrt');\n                liElem.setAttribute('role', 'option');\n            }\n            else {\n                if (!isNullOrUndefined(ele)) {\n                    ele.innerHTML = content;\n                }\n            }\n        }\n    };\n    DropDownBase.prototype.checkAndResetCache = function () {\n        if (this.isVirtualizationEnabled) {\n            this.generatedDataObject = {};\n            this.virtualItemStartIndex = this.virtualItemEndIndex = 0;\n            this.viewPortInfo = {\n                currentPageNumber: null,\n                direction: null,\n                sentinelInfo: {},\n                offsets: {},\n                startIndex: 0,\n                endIndex: this.itemCount,\n            };\n            this.selectedValueInfo = null;\n        }\n    };\n    DropDownBase.prototype.updateIncrementalInfo = function (startIndex, endIndex) {\n        this.viewPortInfo.startIndex = startIndex;\n        this.viewPortInfo.endIndex = endIndex;\n        this.updateVirtualItemIndex();\n        this.isIncrementalRequest = true;\n        this.resetList(this.dataSource, this.fields, this.query);\n        this.isIncrementalRequest = false;\n    };\n    DropDownBase.prototype.updateIncrementalView = function (startIndex, endIndex) {\n        this.viewPortInfo.startIndex = startIndex;\n        this.viewPortInfo.endIndex = endIndex;\n        this.updateVirtualItemIndex();\n        this.resetList(this.dataSource, this.fields, this.query);\n        this.UpdateSkeleton();\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n    };\n    DropDownBase.prototype.updateVirtualItemIndex = function () {\n        this.virtualItemStartIndex = this.viewPortInfo.startIndex;\n        this.virtualItemEndIndex = this.viewPortInfo.endIndex;\n        this.virtualListInfo = this.viewPortInfo;\n    };\n    DropDownBase.prototype.getFilteringSkeletonCount = function () {\n        var currentSkeletonCount = this.skeletonCount;\n        this.getSkeletonCount(true);\n        this.skeletonCount = this.dataCount > this.itemCount * 2 ? this.skeletonCount : 0;\n        var skeletonUpdated = true;\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect') && (this.totalItemCount < (this.itemCount * 2))) {\n            this.skeletonCount = 0;\n            skeletonUpdated = false;\n        }\n        if (!this.list.classList.contains(dropDownBaseClasses.noData)) {\n            var isSkeletonCountChange = currentSkeletonCount !== this.skeletonCount;\n            if (currentSkeletonCount !== this.skeletonCount && skeletonUpdated) {\n                this.UpdateSkeleton(true, Math.abs(currentSkeletonCount - this.skeletonCount));\n            }\n            else {\n                this.UpdateSkeleton();\n            }\n            this.liCollections = this.list.querySelectorAll('.e-list-item');\n            if ((this.list.getElementsByClassName('e-virtual-ddl').length > 0)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n            }\n            else if (!this.list.querySelector('.e-virtual-ddl') && this.skeletonCount > 0 && this.list.querySelector('.e-dropdownbase')) {\n                var virualElement = this.createElement('div', {\n                    id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                });\n                this.list.querySelector('.e-dropdownbase').appendChild(virualElement);\n            }\n            if (this.list.getElementsByClassName('e-virtual-ddl-content').length > 0) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n            }\n        }\n    };\n    DropDownBase.prototype.getSkeletonCount = function (retainSkeleton) {\n        this.virtualListHeight = this.listContainerHeight != null ? parseInt(this.listContainerHeight, 10) : this.virtualListHeight;\n        var actualCount = this.virtualListHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n        this.skeletonCount = actualCount * 4 < this.itemCount ? this.itemCount : actualCount * 4;\n        this.itemCount = retainSkeleton ? this.itemCount : this.skeletonCount;\n        this.virtualItemCount = this.itemCount;\n        this.skeletonCount = Math.floor(this.skeletonCount / 2);\n    };\n    DropDownBase.prototype.GetVirtualTrackHeight = function () {\n        var height = this.totalItemCount === this.viewPortInfo.endIndex ? this.totalItemCount * this.listItemHeight - this.itemCount * this.listItemHeight : this.totalItemCount * this.listItemHeight;\n        height = this.isVirtualTrackHeight ? 0 : height;\n        var heightDimension = \"height: \" + (height - this.itemCount * this.listItemHeight) + \"px;\";\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect') && this.skeletonCount === 0) {\n            return \"height: 0px;\";\n        }\n        return heightDimension;\n    };\n    DropDownBase.prototype.getTransformValues = function () {\n        var translateY = this.viewPortInfo.startIndex * this.listItemHeight;\n        translateY = translateY - (this.skeletonCount * this.listItemHeight);\n        translateY = this.viewPortInfo.startIndex === 0 && this.listData && this.listData.length === 0 ? 0 : translateY;\n        var styleText = \"transform: translate(0px, \" + translateY + \"px);\";\n        return styleText;\n    };\n    DropDownBase.prototype.UpdateSkeleton = function (isSkeletonCountChange, skeletonCount) {\n        var isContainSkeleton = this.list.querySelector('.e-virtual-ddl-content');\n        var isContainVirtualList = this.list.querySelector('.e-virtual-list');\n        if (isContainSkeleton && (!isContainVirtualList || isSkeletonCountChange) && this.isVirtualizationEnabled) {\n            var totalSkeletonCount = isSkeletonCountChange ? skeletonCount : this.skeletonCount;\n            for (var i = 0; i < totalSkeletonCount; i++) {\n                var liElement = this.createElement('li', { className: dropDownBaseClasses.virtualList, styles: 'overflow: inherit' });\n                if (this.isVirtualizationEnabled && this.itemTemplate) {\n                    liElement.style.height = this.listItemHeight + 'px';\n                }\n                var skeleton = new Skeleton({\n                    shape: \"Text\",\n                    height: \"10px\",\n                    width: \"95%\",\n                    cssClass: \"e-skeleton-text\",\n                });\n                skeleton.appendTo(this.createElement('div'));\n                liElement.appendChild(skeleton.element);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                isContainSkeleton.firstChild && isContainSkeleton.firstChild.insertBefore(liElement, isContainSkeleton.firstChild.children[0]);\n            }\n        }\n    };\n    DropDownBase.prototype.getLocaleName = function () {\n        return 'drop-down-base';\n    };\n    DropDownBase.prototype.getTextByValue = function (value) {\n        var text = this.checkValueCase(value, false, false, true);\n        return text;\n    };\n    DropDownBase.prototype.getFormattedValue = function (value) {\n        if (this.listData && this.listData.length) {\n            var item = void 0;\n            if (this.properties.allowCustomValue && this.properties.value && this.properties.value instanceof Array && this.properties.value.length > 0) {\n                item = this.typeOfData(this.properties.value);\n            }\n            else {\n                item = this.typeOfData(this.listData);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'number'\n                || item.typeof === 'number') {\n                return parseFloat(value);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'boolean'\n                || item.typeof === 'boolean') {\n                return ((value === 'true') || ('' + value === 'true'));\n            }\n        }\n        return value;\n    };\n    /**\n     * Sets RTL to dropdownbase wrapper\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setEnableRtl = function () {\n        if (!isNullOrUndefined(this.enableRtlElements)) {\n            if (this.list) {\n                this.enableRtlElements.push(this.list);\n            }\n            if (this.enableRtl) {\n                addClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n            }\n            else {\n                removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n            }\n        }\n    };\n    /**\n     * Initialize the Component.\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.initialize = function (e) {\n        this.bindEvent = true;\n        this.preventPopupOpen = true;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE_PROPERTY;\n        if (this.element.tagName === 'UL') {\n            var jsonElement = ListBase.createJsonFromElement(this.element);\n            this.setProperties({ fields: { text: 'text', value: 'text' } }, true);\n            this.resetList(jsonElement, this.fields);\n        }\n        else if (this.element.tagName === 'SELECT') {\n            var dataSource = this.dataSource instanceof Array ? (this.dataSource.length > 0 ? true : false)\n                : !isNullOrUndefined(this.dataSource) ? true : false;\n            if (!dataSource) {\n                this.renderItemsBySelect();\n            }\n            else if (this.isDynamicDataChange) {\n                this.setListData(this.dataSource, this.fields, this.query);\n            }\n        }\n        else {\n            this.setListData(this.dataSource, this.fields, this.query, e);\n        }\n    };\n    /**\n     * Get the properties to be maintained in persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    DropDownBase.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @param {string} value - Specifies the attribute values to add on the input element.\n     * @returns {void}\n     */\n    DropDownBase.prototype.updateDataAttribute = function (value) {\n        var invalidAttr = ['class', 'style', 'id', 'type', 'aria-expanded', 'aria-autocomplete', 'aria-readonly'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.getModuleName() === 'dropdownlist' && this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownBase.prototype.renderItemsBySelect = function () {\n        var element = this.element;\n        var fields = { value: 'value', text: 'text' };\n        var jsonElement = [];\n        var group = element.querySelectorAll('select>optgroup');\n        var option = element.querySelectorAll('select>option');\n        this.getJSONfromOption(jsonElement, option, fields);\n        if (group.length) {\n            for (var i = 0; i < group.length; i++) {\n                var item = group[i];\n                var optionGroup = {};\n                optionGroup[fields.text] = item.label;\n                optionGroup.isHeader = true;\n                var child = item.querySelectorAll('option');\n                jsonElement.push(optionGroup);\n                this.getJSONfromOption(jsonElement, child, fields);\n            }\n            element.querySelectorAll('select>option');\n        }\n        this.updateFields(fields.text, fields.value, this.fields.groupBy, this.fields.htmlAttributes, this.fields.iconCss);\n        this.resetList(jsonElement, fields);\n    };\n    DropDownBase.prototype.updateFields = function (text, value, groupBy, htmlAttributes, iconCss) {\n        var field = {\n            'fields': {\n                text: text,\n                value: value,\n                groupBy: !isNullOrUndefined(groupBy) ? groupBy : this.fields && this.fields.groupBy,\n                htmlAttributes: !isNullOrUndefined(htmlAttributes) ? htmlAttributes : this.fields && this.fields.htmlAttributes,\n                iconCss: !isNullOrUndefined(iconCss) ? iconCss : this.fields && this.fields.iconCss\n            }\n        };\n        this.setProperties(field, true);\n    };\n    DropDownBase.prototype.getJSONfromOption = function (items, options, fields) {\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var option = options_1[_i];\n            var json = {};\n            json[fields.text] = option.innerText;\n            json[fields.value] = !isNullOrUndefined(option.getAttribute(fields.value)) ?\n                option.getAttribute(fields.value) : option.innerText;\n            items.push(json);\n        }\n    };\n    /**\n     * Execute before render the list items\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownBase.prototype.preRender = function () {\n        // there is no event handler\n        this.scrollTimer = -1;\n        this.enableRtlElements = [];\n        this.isRequested = false;\n        this.isDataFetched = false;\n        this.itemTemplateId = \"\" + this.element.id + ITEMTEMPLATE_PROPERTY;\n        this.displayTemplateId = \"\" + this.element.id + DISPLAYTEMPLATE_PROPERTY;\n        this.spinnerTemplateId = \"\" + this.element.id + SPINNERTEMPLATE_PROPERTY;\n        this.valueTemplateId = \"\" + this.element.id + VALUETEMPLATE_PROPERTY;\n        this.groupTemplateId = \"\" + this.element.id + GROUPTEMPLATE_PROPERTY;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE_PROPERTY;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE_PROPERTY;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE_PROPERTY;\n    };\n    /**\n     * Creates the list items of DropDownBase component.\n     *\n     * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {void}\n     */\n    DropDownBase.prototype.setListData = function (dataSource, fields, query, event) {\n        var _this = this;\n        fields = fields ? fields : this.fields;\n        var ulElement;\n        this.isActive = true;\n        var eventArgs = { cancel: false, data: dataSource, query: query };\n        this.isPreventChange = this.isAngular && this.preventChange ? true : this.isPreventChange;\n        if (!this.isRequesting) {\n            this.trigger('actionBegin', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    _this.isRequesting = true;\n                    _this.showSpinner();\n                    if (dataSource instanceof DataManager) {\n                        _this.isRequested = true;\n                        var isWhereExist_1 = false;\n                        if (_this.isDataFetched) {\n                            _this.emptyDataRequest(fields);\n                            return;\n                        }\n                        eventArgs.data.executeQuery(_this.getQuery(eventArgs.query)).then(function (e) {\n                            _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n                            var isReOrder = true;\n                            if (!_this.virtualSelectAll) {\n                                var newQuery = _this.getQuery(eventArgs.query);\n                                for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                    if (newQuery.queries[queryElements].fn === 'onWhere') {\n                                        isWhereExist_1 = true;\n                                    }\n                                }\n                                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                if (_this.isVirtualizationEnabled && (e.count != 0 && e.count < (_this.itemCount * 2))) {\n                                    if (newQuery) {\n                                        for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                            if (newQuery.queries[queryElements].fn === 'onTake') {\n                                                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                                newQuery.queries[queryElements].e.nos = e.count;\n                                            }\n                                            if (_this.getModuleName() === 'multiselect' && (newQuery.queries[queryElements].e.condition == 'or' || newQuery.queries[queryElements].e.operator == 'equal')) {\n                                                isReOrder = false;\n                                            }\n                                        }\n                                    }\n                                }\n                                else {\n                                    _this.isVirtualTrackHeight = false;\n                                    if (newQuery) {\n                                        for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                            if (_this.getModuleName() === 'multiselect' && ((newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.condition == 'or') || (newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.operator == 'equal'))) {\n                                                isReOrder = false;\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                            if (isReOrder) {\n                                // eslint-disable @typescript-eslint/no-explicit-any\n                                _this.dataCount = _this.totalItemCount = e.count;\n                            }\n                            _this.trigger('actionComplete', e, function (e) {\n                                if (!e.cancel) {\n                                    _this.isRequesting = false;\n                                    var listItems = e.result;\n                                    if (_this.isIncrementalRequest) {\n                                        ulElement = _this.renderItems(listItems, fields);\n                                        return;\n                                    }\n                                    if ((!_this.isVirtualizationEnabled && listItems.length === 0) || (_this.isVirtualizationEnabled && listItems.length === 0 && !isWhereExist_1)) {\n                                        _this.isDataFetched = true;\n                                    }\n                                    if (!isWhereExist_1) {\n                                        _this.remoteDataCount = e.count;\n                                    }\n                                    _this.dataCount = !_this.virtualSelectAll ? e.count : _this.dataCount;\n                                    _this.totalItemCount = !_this.virtualSelectAll ? e.count : _this.totalItemCount;\n                                    ulElement = _this.renderItems(listItems, fields);\n                                    _this.appendUncheckList = false;\n                                    _this.onActionComplete(ulElement, listItems, e);\n                                    if (_this.groupTemplate) {\n                                        _this.renderGroupTemplate(ulElement);\n                                    }\n                                    _this.isRequested = false;\n                                    _this.bindChildItems(listItems, ulElement, fields, e);\n                                    if (_this.getInitialData) {\n                                        _this.setListData(dataSource, fields, query, event);\n                                        _this.getInitialData = false;\n                                        _this.preventPopupOpen = false;\n                                        return;\n                                    }\n                                    if (_this.isVirtualizationEnabled && _this.setCurrentView) {\n                                        _this.notify(\"setCurrentViewDataAsync\", {\n                                            module: \"VirtualScroll\",\n                                        });\n                                    }\n                                    if (_this.keyboardEvent != null) {\n                                        _this.handleVirtualKeyboardActions(_this.keyboardEvent, _this.pageCount);\n                                    }\n                                    if (_this.isVirtualizationEnabled) {\n                                        _this.getFilteringSkeletonCount();\n                                    }\n                                    if (_this.virtualSelectAll && _this.virtualSelectAllData) {\n                                        _this.virtualSelectionAll(_this.virtualSelectAllState, _this.liCollections, _this.CurrentEvent);\n                                        _this.virtualSelectAllState = false;\n                                        _this.CurrentEvent = null;\n                                        _this.virtualSelectAll = false;\n                                    }\n                                }\n                            });\n                        }).catch(function (e) {\n                            _this.isRequested = false;\n                            _this.isRequesting = false;\n                            _this.onActionFailure(e);\n                            _this.hideSpinner();\n                        });\n                    }\n                    else {\n                        _this.isRequesting = false;\n                        var isReOrder = true;\n                        var listItems = void 0;\n                        if (_this.isVirtualizationEnabled && !_this.virtualGroupDataSource && _this.fields.groupBy) {\n                            var data = new DataManager(_this.dataSource).executeLocal(new Query().group(_this.fields.groupBy));\n                            _this.virtualGroupDataSource = data.records;\n                        }\n                        var dataManager = _this.isVirtualizationEnabled && _this.virtualGroupDataSource && !_this.isCustomDataUpdated ? new DataManager(_this.virtualGroupDataSource) : new DataManager(eventArgs.data);\n                        listItems = (_this.getQuery(eventArgs.query)).executeLocal(dataManager);\n                        if (!_this.virtualSelectAll) {\n                            var newQuery = _this.getQuery(eventArgs.query);\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            if (_this.isVirtualizationEnabled && (listItems.count != 0 && listItems.count < (_this.itemCount * 2))) {\n                                if (newQuery) {\n                                    for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                        if (newQuery.queries[queryElements].fn === 'onTake') {\n                                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                            newQuery.queries[queryElements].e.nos = listItems.count;\n                                            listItems = (newQuery).executeLocal(dataManager);\n                                        }\n                                        if (_this.getModuleName() === 'multiselect' && (newQuery.queries[queryElements].e.condition == 'or' || newQuery.queries[queryElements].e.operator == 'equal')) {\n                                            isReOrder = false;\n                                        }\n                                    }\n                                    if (isReOrder) {\n                                        listItems = (newQuery).executeLocal(dataManager);\n                                        _this.isVirtualTrackHeight = (!(_this.dataSource instanceof DataManager) && !_this.isCustomDataUpdated) ? true : false;\n                                    }\n                                }\n                            }\n                            else {\n                                _this.isVirtualTrackHeight = false;\n                                if (newQuery) {\n                                    for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                        if (_this.getModuleName() === 'multiselect' && ((newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.condition == 'or') || (newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.operator == 'equal'))) {\n                                            isReOrder = false;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        if (isReOrder && (!(_this.dataSource instanceof DataManager) && !_this.isCustomDataUpdated) && !_this.virtualSelectAll) {\n                            // eslint-disable @typescript-eslint/no-explicit-any\n                            _this.dataCount = _this.totalItemCount = _this.virtualSelectAll ? listItems.length : listItems.count;\n                        }\n                        listItems = _this.isVirtualizationEnabled ? listItems.result : listItems;\n                        // eslint-enable @typescript-eslint/no-explicit-any\n                        var localDataArgs = { cancel: false, result: listItems };\n                        _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n                        _this.trigger('actionComplete', localDataArgs, function (localDataArgs) {\n                            if (_this.isIncrementalRequest) {\n                                ulElement = _this.renderItems(localDataArgs.result, fields);\n                                return;\n                            }\n                            if (!localDataArgs.cancel) {\n                                ulElement = _this.renderItems(localDataArgs.result, fields);\n                                _this.onActionComplete(ulElement, localDataArgs.result, event);\n                                if (_this.groupTemplate) {\n                                    _this.renderGroupTemplate(ulElement);\n                                }\n                                _this.bindChildItems(localDataArgs.result, ulElement, fields);\n                                if (_this.getInitialData) {\n                                    _this.getInitialData = false;\n                                    _this.preventPopupOpen = false;\n                                    return;\n                                }\n                                setTimeout(function () {\n                                    if (_this.getModuleName() === 'multiselect' && _this.itemTemplate != null && (ulElement.childElementCount > 0 && (ulElement.children[0].childElementCount > 0 || (_this.fields.groupBy && ulElement.children[1] && ulElement.children[1].childElementCount > 0)))) {\n                                        _this.updateDataList();\n                                    }\n                                });\n                            }\n                        });\n                    }\n                }\n            });\n        }\n    };\n    DropDownBase.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.updatePopupState = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.virtualSelectionAll = function (state, li, event) {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.updateRemoteData = function () {\n        this.setListData(this.dataSource, this.fields, this.query);\n    };\n    DropDownBase.prototype.bindChildItems = function (listItems, ulElement, fields, e) {\n        var _this = this;\n        if (listItems.length >= 100 && this.getModuleName() === 'autocomplete') {\n            setTimeout(function () {\n                var childNode = _this.remainingItems(_this.sortedData, fields);\n                append(childNode, ulElement);\n                _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                _this.updateListValues();\n                _this.raiseDataBound(listItems, e);\n            }, 0);\n        }\n        else {\n            this.raiseDataBound(listItems, e);\n        }\n    };\n    DropDownBase.prototype.isObjectInArray = function (objectToFind, array) {\n        return array.some(function (item) {\n            return Object.keys(objectToFind).every(function (key) {\n                return item.hasOwnProperty(key) && item[key] === objectToFind[key];\n            });\n        });\n    };\n    DropDownBase.prototype.updateListValues = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.findListElement = function (list, findNode, attribute, value) {\n        var liElement = null;\n        if (list) {\n            var listArr = [].slice.call(list.querySelectorAll(findNode));\n            for (var index = 0; index < listArr.length; index++) {\n                if (listArr[index].getAttribute(attribute) === (value + '')) {\n                    liElement = listArr[index];\n                    break;\n                }\n            }\n        }\n        return liElement;\n    };\n    DropDownBase.prototype.raiseDataBound = function (listItems, e) {\n        this.hideSpinner();\n        var dataBoundEventArgs = {\n            items: listItems,\n            e: e\n        };\n        this.trigger('dataBound', dataBoundEventArgs);\n    };\n    DropDownBase.prototype.remainingItems = function (dataSource, fields) {\n        var spliceData = new DataManager(dataSource).executeLocal(new Query().skip(100));\n        if (this.itemTemplate) {\n            var listElements = this.templateListItem(spliceData, fields);\n            return [].slice.call(listElements.childNodes);\n        }\n        var type = this.typeOfData(spliceData).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            return ListBase.createListItemFromArray(this.createElement, spliceData, true, this.listOption(spliceData, fields), this);\n        }\n        return ListBase.createListItemFromJson(this.createElement, spliceData, this.listOption(spliceData, fields), 1, true, this);\n    };\n    DropDownBase.prototype.emptyDataRequest = function (fields) {\n        var listItems = [];\n        this.onActionComplete(this.renderItems(listItems, fields), listItems);\n        this.isRequested = false;\n        this.isRequesting = false;\n        this.hideSpinner();\n    };\n    DropDownBase.prototype.showSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.hideSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.onActionFailure = function (e) {\n        this.liCollections = [];\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        if (!isNullOrUndefined(this.list)) {\n            addClass([this.list], dropDownBaseClasses.noData);\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        this.listData = list;\n        if (this.isVirtualizationEnabled && !this.isCustomDataUpdated && !this.virtualSelectAll) {\n            this.notify(\"setGeneratedData\", {\n                module: \"VirtualScroll\",\n            });\n        }\n        if (this.getModuleName() !== 'listbox') {\n            ulElement.setAttribute('tabindex', '0');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['itemTemplate', 'groupTemplate', 'actionFailureTemplate', 'noRecordsTemplate']);\n        }\n        if (!this.isVirtualizationEnabled) {\n            this.fixedHeaderElement = isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement : null;\n        }\n        if (this.getModuleName() === 'multiselect' && this.properties.allowCustomValue && this.fields.groupBy) {\n            for (var i = 0; i < ulElement.childElementCount; i++) {\n                if (ulElement.children[i].classList.contains('e-list-group-item')) {\n                    if (isNullOrUndefined(ulElement.children[i].innerHTML) || ulElement.children[i].innerHTML == \"\") {\n                        addClass([ulElement.children[i]], HIDE_GROUPLIST);\n                    }\n                }\n                if (ulElement.children[0].classList.contains('e-hide-group-header')) {\n                    setStyleAttribute(ulElement.children[1], { zIndex: 11 });\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.list)) {\n            if (!this.isVirtualizationEnabled) {\n                this.list.innerHTML = '';\n                this.list.appendChild(ulElement);\n                this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.ulElement = this.list.querySelector('ul');\n                this.postRender(this.list, list, this.bindEvent);\n            }\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        var focusItem = listElement.querySelector('.' + dropDownBaseClasses.li);\n        var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\n        if (focusItem && !selectedItem) {\n            focusItem.classList.add(dropDownBaseClasses.focus);\n        }\n        if (list.length <= 0) {\n            this.l10nUpdate();\n            addClass([listElement], dropDownBaseClasses.noData);\n        }\n        else {\n            listElement.classList.remove(dropDownBaseClasses.noData);\n        }\n    };\n    /**\n     * Get the query to do the data operation before list item generation.\n     *\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {Query} Returns the query to do the data query operation.\n     */\n    DropDownBase.prototype.getQuery = function (query) {\n        return query ? query : this.query ? this.query : new Query();\n    };\n    DropDownBase.prototype.updateVirtualizationProperties = function (itemCount, filtering, isCheckbox) {\n        this.isVirtualizationEnabled = true;\n        this.virtualizedItemsCount = itemCount;\n        this.isAllowFiltering = filtering;\n        this.isCheckBoxSelection = isCheckbox;\n    };\n    /**\n     * To render the template content for group header element.\n     *\n     * @param {HTMLElement} listEle - Specifies the group list elements.\n     * @returns {void}\n     */\n    DropDownBase.prototype.renderGroupTemplate = function (listEle) {\n        if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\n            var dataSource = this.dataSource;\n            var option = { groupTemplateID: this.groupTemplateId, isStringTemplate: this.isStringTemplate };\n            var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\n            var groupcheck = this.templateCompiler(this.groupTemplate);\n            if (typeof this.groupTemplate !== 'function' && groupcheck) {\n                var groupValue = select(this.groupTemplate, document).innerHTML.trim();\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var tempHeaders = ListBase.renderGroupTemplate(groupValue, dataSource, this.fields.properties, headerItems, option, this);\n                //EJ2-55168- Group checkbox is not working with group template\n                if (this.isGroupChecking) {\n                    for (var i = 0; i < tempHeaders.length; i++) {\n                        this.notify('addItem', { module: 'CheckBoxSelection', item: tempHeaders[i] });\n                    }\n                }\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems, option, this);\n                //EJ2-55168- Group checkbox is not working with group template\n                if (this.isGroupChecking) {\n                    for (var i = 0; i < tempHeaders.length; i++) {\n                        this.notify('addItem', { module: 'CheckBoxSelection', item: tempHeaders[i] });\n                    }\n                }\n            }\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To create the ul li list items\n     *\n     * @param {object []} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @returns {HTMLElement} Return the ul li list items.\n     */\n    DropDownBase.prototype.createListItems = function (dataSource, fields) {\n        if (dataSource) {\n            if (fields.groupBy || this.element.querySelector('optgroup')) {\n                if (fields.groupBy) {\n                    if (this.sortOrder !== 'None') {\n                        dataSource = this.getSortedDataSource(dataSource);\n                    }\n                    dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n                }\n                addClass([this.list], dropDownBaseClasses.grouping);\n            }\n            else {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            var options = this.listOption(dataSource, fields);\n            var spliceData = (dataSource.length > 100) ?\n                new DataManager(dataSource).executeLocal(new Query().take(100))\n                : dataSource;\n            this.sortedData = dataSource;\n            return ListBase.createList(this.createElement, (this.getModuleName() === 'autocomplete') ? spliceData : dataSource, options, true, this);\n        }\n        return null;\n    };\n    DropDownBase.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldValues = !isNullOrUndefined(fields.properties) ?\n            fields.properties : fields;\n        var options = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldValues,\n            showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        return extend({}, options, fields, true);\n    };\n    DropDownBase.prototype.setFloatingHeader = function (e) {\n        if (!isNullOrUndefined(this.list) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n            if (isNullOrUndefined(this.fixedHeaderElement)) {\n                this.fixedHeaderElement = this.createElement('div', { className: dropDownBaseClasses.fixedHead });\n                if (!isNullOrUndefined(this.list) && !this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\n                    this.fixedHeaderElement.style.display = 'none';\n                }\n                if (!isNullOrUndefined(this.fixedHeaderElement) && !isNullOrUndefined(this.list)) {\n                    prepend([this.fixedHeaderElement], this.list);\n                }\n                this.setFixedHeader();\n            }\n            if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\n                this.setFixedHeader();\n            }\n            this.scrollStop(e);\n        }\n    };\n    DropDownBase.prototype.scrollStop = function (e, isDownkey) {\n        var target = !isNullOrUndefined(e) ? e.target : this.list;\n        var liHeight = parseInt(getComputedStyle(this.getValidLi(), null).getPropertyValue('height'), 10);\n        var topIndex = Math.round(target.scrollTop / liHeight);\n        var liCollections = this.list.querySelectorAll('li' + ':not(.e-hide-listitem)');\n        var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n        var count = 0;\n        var isCount = false;\n        for (var i = topIndex; i > -1; i--) {\n            var index = this.isVirtualizationEnabled ? i + virtualListCount : i;\n            if (this.isVirtualizationEnabled) {\n                if (isCount) {\n                    count++;\n                }\n                if (this.fixedHeaderElement && this.updateGroupHeader(index, liCollections, target)) {\n                    break;\n                }\n                if (isDownkey) {\n                    if ((!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.selected) && this.getModuleName() !== 'autocomplete') || (!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.focus) && this.getModuleName() === 'autocomplete')) {\n                        count++;\n                        isCount = true;\n                    }\n                }\n            }\n            else {\n                if (this.updateGroupHeader(index, liCollections, target)) {\n                    break;\n                }\n            }\n        }\n    };\n    DropDownBase.prototype.getPageCount = function (returnExactCount) {\n        var liHeight = this.list.classList.contains(dropDownBaseClasses.noData) ? null :\n            getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n        var pageCount = Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));\n        return returnExactCount ? pageCount : Math.round(pageCount);\n    };\n    DropDownBase.prototype.updateGroupHeader = function (index, liCollections, target) {\n        if (!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.group)) {\n            this.updateGroupFixedHeader(liCollections[index], target);\n            return true;\n        }\n        else {\n            this.fixedHeaderElement.style.display = 'none';\n            this.fixedHeaderElement.style.top = 'none';\n            return false;\n        }\n    };\n    DropDownBase.prototype.updateGroupFixedHeader = function (element, target) {\n        if (this.fixedHeaderElement) {\n            if (!isNullOrUndefined(element.innerHTML)) {\n                this.fixedHeaderElement.innerHTML = element.innerHTML;\n            }\n            this.fixedHeaderElement.style.position = 'fixed';\n            this.fixedHeaderElement.style.top = (this.list.parentElement.offsetTop + this.list.offsetTop) - window.scrollY + 'px';\n            this.fixedHeaderElement.style.display = 'block';\n        }\n    };\n    DropDownBase.prototype.getValidLi = function () {\n        if (this.isVirtualizationEnabled) {\n            return this.liCollections[0].classList.contains('e-virtual-list') ? this.liCollections[this.skeletonCount] : this.liCollections[0];\n        }\n        return this.liCollections[0];\n    };\n    /**\n     * To render the list items\n     *\n     * @param {object[]} listData - Specifies the list of array of data.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @returns {HTMLElement} Return the list items.\n     */\n    DropDownBase.prototype.renderItems = function (listData, fields, isCheckBoxUpdate) {\n        var ulElement;\n        if (this.itemTemplate && listData) {\n            var dataSource = listData;\n            if (dataSource && fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            else {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            this.sortedData = dataSource;\n            var spliceData = (dataSource.length > 100) ?\n                new DataManager(dataSource).executeLocal(new Query().take(100))\n                : dataSource;\n            ulElement = this.templateListItem((this.getModuleName() === 'autocomplete') ? spliceData : dataSource, fields);\n            if (this.isVirtualizationEnabled) {\n                var oldUlElement = this.list.querySelector('.e-list-parent');\n                var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n                if ((listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement) || (oldUlElement && virtualUlElement && this.isAllowFiltering) || (oldUlElement && virtualUlElement && this.getModuleName() === 'autocomplete')) {\n                    virtualUlElement.replaceChild(ulElement, oldUlElement);\n                    var reOrderList = this.list.querySelectorAll('.e-reorder');\n                    if (this.list.querySelector('.e-virtual-ddl-content') && reOrderList && reOrderList.length > 0 && !isCheckBoxUpdate) {\n                        this.list.querySelector('.e-virtual-ddl-content').removeChild(reOrderList[0]);\n                    }\n                    this.updateListElements(listData);\n                }\n                else if ((!virtualUlElement)) {\n                    this.list.innerHTML = '';\n                    this.createVirtualContent();\n                    this.list.querySelector('.e-virtual-ddl-content').appendChild(ulElement);\n                    this.updateListElements(listData);\n                }\n            }\n        }\n        else {\n            if (this.getModuleName() === 'multiselect' && this.virtualSelectAll) {\n                this.virtualSelectAllData = listData;\n                listData = listData.slice(this.virtualItemStartIndex, this.virtualItemEndIndex);\n            }\n            ulElement = this.createListItems(listData, fields);\n            if (this.isIncrementalRequest) {\n                this.incrementalLiCollections = ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.incrementalUlElement = ulElement;\n                this.incrementalListData = listData;\n                return ulElement;\n            }\n            if (this.isVirtualizationEnabled) {\n                var oldUlElement = this.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n                var isRemovedUlelement = false;\n                if (!oldUlElement && this.list.querySelector('.e-list-parent' + '.e-reorder')) {\n                    oldUlElement = this.list.querySelector('.e-list-parent' + '.e-reorder');\n                }\n                if ((listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement) || (oldUlElement && virtualUlElement && this.isAllowFiltering) || (oldUlElement && virtualUlElement && (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect')) || isRemovedUlelement) {\n                    if (!this.appendUncheckList) {\n                        virtualUlElement.replaceChild(ulElement, oldUlElement);\n                    }\n                    else {\n                        virtualUlElement.appendChild(ulElement);\n                    }\n                    this.updateListElements(listData);\n                }\n                else if ((!virtualUlElement) || (!virtualUlElement.firstChild)) {\n                    this.list.innerHTML = '';\n                    this.createVirtualContent();\n                    this.list.querySelector('.e-virtual-ddl-content').appendChild(ulElement);\n                    this.updateListElements(listData);\n                }\n            }\n        }\n        return ulElement;\n    };\n    DropDownBase.prototype.createVirtualContent = function () {\n        if (!this.list.querySelector('.e-virtual-ddl-content')) {\n            this.list.appendChild(this.createElement('div', {\n                className: 'e-virtual-ddl-content',\n            }));\n        }\n    };\n    DropDownBase.prototype.updateListElements = function (listData) {\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n        this.listData = listData;\n        this.postRender(this.list, listData, this.bindEvent);\n    };\n    DropDownBase.prototype.templateListItem = function (dataSource, fields) {\n        var option = this.listOption(dataSource, fields);\n        option.templateID = this.itemTemplateId;\n        option.isStringTemplate = this.isStringTemplate;\n        var itemcheck = this.templateCompiler(this.itemTemplate);\n        if (typeof this.itemTemplate !== 'function' && itemcheck) {\n            var itemValue = select(this.itemTemplate, document).innerHTML.trim();\n            return ListBase.renderContentTemplate(this.createElement, itemValue, dataSource, fields.properties, option, this);\n        }\n        else {\n            return ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option, this);\n        }\n    };\n    DropDownBase.prototype.typeOfData = function (items) {\n        var item = { typeof: null, item: null };\n        for (var i = 0; (!isNullOrUndefined(items) && i < items.length); i++) {\n            if (!isNullOrUndefined(items[i])) {\n                var listDataType = typeof (items[i]) === 'string' ||\n                    typeof (items[i]) === 'number' || typeof (items[i]) === 'boolean';\n                var isNullData = listDataType ? isNullOrUndefined(items[i]) :\n                    isNullOrUndefined(getValue((this.fields.value ? this.fields.value : 'value'), items[i]));\n                if (!isNullData) {\n                    return item = { typeof: typeof items[i], item: items[i] };\n                }\n            }\n        }\n        return item;\n    };\n    DropDownBase.prototype.setFixedHeader = function () {\n        if (!isNullOrUndefined(this.list)) {\n            this.list.parentElement.style.display = 'block';\n        }\n        var borderWidth = 0;\n        if (this.list && this.list.parentElement) {\n            borderWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-width'), 10);\n            /*Shorthand property not working in Firefox for getComputedStyle method.\n            Refer bug report https://bugzilla.mozilla.org/show_bug.cgi?id=137688\n            Refer alternate solution https://stackoverflow.com/a/41696234/9133493*/\n            if (isNaN(borderWidth)) {\n                var borderTopWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-top-width'), 10);\n                var borderBottomWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-bottom-width'), 10);\n                var borderLeftWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-left-width'), 10);\n                var borderRightWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-right-width'), 10);\n                borderWidth = (borderTopWidth + borderBottomWidth + borderLeftWidth + borderRightWidth);\n            }\n        }\n        if (!isNullOrUndefined(this.liCollections)) {\n            var liWidth = this.getValidLi().offsetWidth - borderWidth;\n            this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\n        }\n        setStyleAttribute(this.fixedHeaderElement, { zIndex: 10 });\n        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group + ':not(.e-hide-listitem)');\n        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n    };\n    DropDownBase.prototype.getSortedDataSource = function (dataSource) {\n        if (dataSource && this.sortOrder !== 'None') {\n            var textField = this.fields.text ? this.fields.text : 'text';\n            if (this.typeOfData(dataSource).typeof === 'string' || this.typeOfData(dataSource).typeof === 'number'\n                || this.typeOfData(dataSource).typeof === 'boolean') {\n                textField = '';\n            }\n            dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\n        }\n        return dataSource;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     *\n     * @param {string | number | boolean} value - Specifies given value.\n     * @returns {number} Returns the index of the item.\n     */\n    DropDownBase.prototype.getIndexByValue = function (value) {\n        var index;\n        var listItems = this.getItems();\n        for (var i = 0; i < listItems.length; i++) {\n            if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     *\n     * @param {string | number | boolean} value - Specifies given value.\n     * @returns {number} Returns the index of the item.\n     */\n    DropDownBase.prototype.getIndexByValueFilter = function (value, ulElement) {\n        var index;\n        if (!ulElement) {\n            return null;\n        }\n        var listItems = ulElement.querySelectorAll('li' + ':not(.e-list-group-item)');\n        if (listItems) {\n            for (var i = 0; i < listItems.length; i++) {\n                if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n                    index = i;\n                    break;\n                }\n            }\n        }\n        return index;\n    };\n    /**\n     * To dispatch the event manually\n     *\n     * @param {HTMLElement} element - Specifies the element to dispatch the event.\n     * @param {string} type - Specifies the name of the event.\n     * @returns {void}\n     */\n    DropDownBase.prototype.dispatchEvent = function (element, type) {\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        if (element) {\n            element.dispatchEvent(evt);\n        }\n    };\n    /**\n     * To set the current fields\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setFields = function () {\n        if (this.fields.value && !this.fields.text) {\n            this.updateFields(this.fields.value, this.fields.value);\n        }\n        else if (!this.fields.value && this.fields.text) {\n            this.updateFields(this.fields.text, this.fields.text);\n        }\n        else if (!this.fields.value && !this.fields.text) {\n            this.updateFields('text', 'text');\n        }\n    };\n    /**\n     * reset the items list.\n     *\n     * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {void}\n     */\n    DropDownBase.prototype.resetList = function (dataSource, fields, query, e) {\n        if (this.list) {\n            if ((this.element.tagName === 'SELECT' && this.element.options.length > 0)\n                || (this.element.tagName === 'UL' && this.element.childNodes.length > 0)) {\n                var data = dataSource instanceof Array ? (dataSource.length > 0)\n                    : !isNullOrUndefined(dataSource);\n                if (!data && this.selectData && this.selectData.length > 0) {\n                    dataSource = this.selectData;\n                }\n            }\n            dataSource = this.getModuleName() === 'combobox' && this.selectData && dataSource instanceof Array && dataSource.length < this.selectData.length && this.addedNewItem ? this.selectData : dataSource;\n            this.addedNewItem = false;\n            this.setListData(dataSource, fields, query, e);\n        }\n    };\n    DropDownBase.prototype.updateSelectElementData = function (isFiltering) {\n        if ((isFiltering || this.isVirtualizationEnabled) && isNullOrUndefined(this.selectData) && this.listData && this.listData.length > 0) {\n            this.selectData = this.listData;\n        }\n    };\n    DropDownBase.prototype.updateSelection = function () {\n        // This is for after added the item, need to update the selected index values.\n    };\n    DropDownBase.prototype.renderList = function () {\n        // This is for render the list items.\n        this.render();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateDataSource = function (props, oldProps) {\n        this.resetList(this.dataSource);\n        this.totalItemCount = this.dataSource instanceof DataManager ? this.dataSource.dataSource.json.length : 0;\n    };\n    DropDownBase.prototype.setUpdateInitial = function (props, newProp, oldProp) {\n        this.isDataFetched = false;\n        var updateData = {};\n        for (var j = 0; props.length > j; j++) {\n            if (newProp[props[j]] && props[j] === 'fields') {\n                this.setFields();\n                updateData[props[j]] = newProp[props[j]];\n            }\n            else if (newProp[props[j]]) {\n                updateData[props[j]] = newProp[props[j]];\n            }\n        }\n        if (Object.keys(updateData).length > 0) {\n            if (Object.keys(updateData).indexOf('dataSource') === -1) {\n                updateData.dataSource = this.dataSource;\n            }\n            this.updateDataSource(updateData, oldProp);\n        }\n    };\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     *\n     * @param {DropDownBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {DropDownBaseModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'dropdownbase') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        this.setUpdateInitial(['sortOrder', 'itemTemplate'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'sortOrder':\n                case 'dataSource':\n                case 'itemTemplate':\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'groupTemplate':\n                    this.renderGroupTemplate(this.list);\n                    if (this.ulElement && this.fixedHeaderElement) {\n                        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n                        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n                    }\n                    break;\n                case 'locale':\n                    if (this.list && (!isNullOrUndefined(this.liCollections) && this.liCollections.length === 0)) {\n                        this.l10nUpdate();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n            }\n        }\n    };\n    /**\n     * Build and render the component\n     *\n     * @param {boolean} isEmptyData - Specifies the component to initialize with list data or not.\n     * @private\n     * @returns {void}\n     */\n    DropDownBase.prototype.render = function (e, isEmptyData) {\n        if (this.getModuleName() === 'listbox') {\n            this.list = this.createElement('div', { className: dropDownBaseClasses.content, attrs: { 'tabindex': '0' } });\n        }\n        else {\n            this.list = this.createElement('div', { className: dropDownBaseClasses.content });\n        }\n        this.list.classList.add(dropDownBaseClasses.root);\n        this.setFields();\n        var rippleModel = { duration: 300, selector: '.' + dropDownBaseClasses.li };\n        this.rippleFun = rippleEffect(this.list, rippleModel);\n        var group = this.element.querySelector('select>optgroup');\n        if ((this.fields.groupBy || !isNullOrUndefined(group)) && !this.isGroupChecking) {\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n            EventHandler.add(document, 'scroll', this.updateGroupFixedHeader, this);\n        }\n        if (this.getModuleName() === 'dropdownbase') {\n            if (this.element.getAttribute('tabindex')) {\n                this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\n            }\n            removeClass([this.element], dropDownBaseClasses.root);\n            this.element.style.display = 'none';\n            var wrapperElement = this.createElement('div');\n            this.element.parentElement.insertBefore(wrapperElement, this.element);\n            wrapperElement.appendChild(this.element);\n            wrapperElement.appendChild(this.list);\n        }\n        this.setEnableRtl();\n        if (!isEmptyData) {\n            this.initialize(e);\n        }\n    };\n    DropDownBase.prototype.removeScrollEvent = function () {\n        if (this.list) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    DropDownBase.prototype.getModuleName = function () {\n        return 'dropdownbase';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     */\n    DropDownBase.prototype.getItems = function () {\n        return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     * @deprecated\n     */\n    DropDownBase.prototype.addItem = function (items, itemIndex) {\n        if (!this.list || (this.list.textContent === this.noRecordsTemplate && this.getModuleName() !== 'listbox')) {\n            this.renderList();\n        }\n        if (this.sortOrder !== 'None' && isNullOrUndefined(itemIndex)) {\n            var newList = [].slice.call(this.listData);\n            newList.push(items);\n            newList = this.getSortedDataSource(newList);\n            if (this.fields.groupBy) {\n                newList = ListBase.groupDataSource(newList, this.fields.properties, this.sortOrder);\n                itemIndex = newList.indexOf(items);\n            }\n            else {\n                itemIndex = newList.indexOf(items);\n            }\n        }\n        var itemsCount = this.getItems().length;\n        var isListboxEmpty = itemsCount === 0;\n        var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        items = (items instanceof Array ? items : [items]);\n        var index;\n        index = (isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1) ? itemsCount : itemIndex;\n        var fields = this.fields;\n        if (items && fields.groupBy) {\n            items = ListBase.groupDataSource(items, fields.properties);\n        }\n        var liCollections = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var isHeader = item.isHeader;\n            var li = this.createElement('li', { className: isHeader ? dropDownBaseClasses.group : dropDownBaseClasses.li, id: 'option-add-' + i });\n            var itemText = item instanceof Object ? getValue(fields.text, item) : item;\n            if (isHeader) {\n                li.innerText = itemText;\n            }\n            if (this.itemTemplate && !isHeader) {\n                var itemCheck = this.templateCompiler(this.itemTemplate);\n                var compiledString = typeof this.itemTemplate !== 'function' &&\n                    itemCheck ? compile(select(this.itemTemplate, document).innerHTML.trim()) : compile(this.itemTemplate);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var addItemTemplate = compiledString(item, this, 'itemTemplate', this.itemTemplateId, this.isStringTemplate, null, li);\n                if (addItemTemplate) {\n                    append(addItemTemplate, li);\n                }\n            }\n            else if (!isHeader) {\n                li.appendChild(document.createTextNode(itemText));\n            }\n            li.setAttribute('data-value', item instanceof Object ? getValue(fields.value, item) : item);\n            li.setAttribute('role', 'option');\n            this.notify('addItem', { module: 'CheckBoxSelection', item: li });\n            liCollections.push(li);\n            if (this.getModuleName() === 'listbox') {\n                this.listData.splice(isListboxEmpty ? this.listData.length : index, 0, item);\n                if (this.listData.length !== this.sortedData.length) {\n                    this.sortedData = this.listData;\n                }\n            }\n            else {\n                this.listData.push(item);\n            }\n            if (this.sortOrder === 'None' && isNullOrUndefined(itemIndex) && index === 0) {\n                index = null;\n            }\n            if (this.getModuleName() === 'listbox') {\n                this.updateActionCompleteData(li, item, isListboxEmpty ? null : index);\n                isListboxEmpty = true;\n            }\n            else {\n                this.updateActionCompleteData(li, item, index);\n            }\n            //Listbox event\n            this.trigger('beforeItemRender', { element: li, item: item });\n        }\n        if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\n            if (!isNullOrUndefined(this.list)) {\n                this.list.innerHTML = '';\n                this.list.classList.remove(dropDownBaseClasses.noData);\n                this.isAddNewItemTemplate = true;\n                if (!isNullOrUndefined(this.ulElement)) {\n                    this.list.appendChild(this.ulElement);\n                }\n            }\n            this.liCollections = liCollections;\n            if (!isNullOrUndefined(liCollections) && !isNullOrUndefined(this.ulElement)) {\n                append(liCollections, this.ulElement);\n            }\n            this.updateAddItemList(this.list, itemsCount);\n        }\n        else {\n            if (this.getModuleName() === 'listbox' && itemsCount === 0) {\n                this.ulElement.innerHTML = '';\n            }\n            var attr = [];\n            for (var i = 0; i < items.length; i++) {\n                var listGroupItem = this.ulElement.querySelectorAll('.e-list-group-item');\n                for (var j = 0; j < listGroupItem.length; j++) {\n                    attr[j] = listGroupItem[j].innerText;\n                }\n                if (attr.indexOf(liCollections[i].innerText) > -1 && fields.groupBy) {\n                    for (var j = 0; j < listGroupItem.length; j++) {\n                        if (attr[j] === liCollections[i].innerText) {\n                            if (this.sortOrder === 'None') {\n                                this.ulElement.insertBefore(liCollections[i + 1], listGroupItem[j + 1]);\n                            }\n                            else {\n                                this.ulElement.insertBefore(liCollections[i + 1], this.ulElement.childNodes[itemIndex]);\n                            }\n                            i = i + 1;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    if (this.liCollections[index] && this.liCollections[index].parentNode) {\n                        this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]);\n                    }\n                    else {\n                        this.ulElement.appendChild(liCollections[i]);\n                    }\n                }\n                var tempLi = [].slice.call(this.liCollections);\n                tempLi.splice(index, 0, liCollections[i]);\n                this.liCollections = tempLi;\n                index += 1;\n                if (this.getModuleName() === 'multiselect') {\n                    this.updateDataList();\n                }\n            }\n        }\n        if (this.getModuleName() === 'listbox' && this.isReact) {\n            this.renderReactTemplates();\n        }\n        if (selectedItemValue || itemIndex === 0) {\n            this.updateSelection();\n        }\n        this.addedNewItem = true;\n    };\n    DropDownBase.prototype.validationAttribute = function (target, hidden) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        hidden.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            if (!target.getAttribute(attributes[i])) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes[i]);\n            hidden.setAttribute(attributes[i], attr);\n            target.removeAttribute(attributes[i]);\n        }\n    };\n    DropDownBase.prototype.setZIndex = function () {\n        // this is for component wise\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateActionCompleteData = function (li, item, index) {\n        // this is for ComboBox custom value\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateAddItemList = function (list, itemCount) {\n        // this is for multiselect add item\n    };\n    DropDownBase.prototype.updateDataList = function () {\n        // this is for multiselect update list items\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     */\n    DropDownBase.prototype.getDataByValue = function (value) {\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (!isNullOrUndefined(item) && item === value) {\n                        return item;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                        return item;\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownBase.prototype.destroy = function () {\n        if (document) {\n            EventHandler.remove(document, 'scroll', this.updateGroupFixedHeader);\n            if (document.body.contains(this.list)) {\n                EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n                if (!isNullOrUndefined(this.rippleFun)) {\n                    this.rippleFun();\n                }\n                detach(this.list);\n            }\n        }\n        this.liCollections = null;\n        this.ulElement = null;\n        this.list = null;\n        this.enableRtlElements = null;\n        this.rippleFun = null;\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], DropDownBase.prototype, \"fields\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownBase.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property([])\n    ], DropDownBase.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"query\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], DropDownBase.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownBase.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownBase.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], DropDownBase.prototype, \"locale\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"destroyed\", void 0);\n    DropDownBase = __decorate([\n        NotifyPropertyChanges\n    ], DropDownBase);\n    return DropDownBase;\n}(Component));\nexport { DropDownBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { EventHandler, Property, Event, compile, KeyboardEvents, append, select } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, getUniqueID, formatUnit, isUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Animation, Browser, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, prepend, detach, classList } from '@syncfusion/ej2-base';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { incrementalSearch, resetIncrementalSearchValues } from '../common/incremental-search';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { DataManager, Query, Predicate } from '@syncfusion/ej2-data';\n[];\n// don't use space in classnames\nexport var dropDownListClasses = {\n    root: 'e-dropdownlist',\n    hover: dropDownBaseClasses.hover,\n    selected: dropDownBaseClasses.selected,\n    rtl: dropDownBaseClasses.rtl,\n    li: dropDownBaseClasses.li,\n    disable: dropDownBaseClasses.disabled,\n    base: dropDownBaseClasses.root,\n    focus: dropDownBaseClasses.focus,\n    content: dropDownBaseClasses.content,\n    input: 'e-input-group',\n    inputFocus: 'e-input-focus',\n    icon: 'e-input-group-icon e-ddl-icon',\n    iconAnimation: 'e-icon-anim',\n    value: 'e-input-value',\n    device: 'e-ddl-device',\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    filterParent: 'e-filter-parent',\n    mobileFilter: 'e-ddl-device-filter',\n    footer: 'e-ddl-footer',\n    header: 'e-ddl-header',\n    clearIcon: 'e-clear-icon',\n    clearIconHide: 'e-clear-icon-hide',\n    popupFullScreen: 'e-popup-full-page',\n    disableIcon: 'e-ddl-disable-icon',\n    hiddenElement: 'e-ddl-hidden',\n    virtualList: 'e-list-item e-virtual-list',\n};\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The DropDownList component contains a list of predefined values from which you can\n * choose a single value.\n * ```html\n * <input type=\"text\" tabindex=\"1\" id=\"list\"> </input>\n * ```\n * ```typescript\n *   let dropDownListObj:DropDownList = new DropDownList();\n *   dropDownListObj.appendTo(\"#list\");\n * ```\n */\nvar DropDownList = /** @class */ (function (_super) {\n    __extends(DropDownList, _super);\n    /**\n     * * Constructor for creating the DropDownList component.\n     *\n     * @param {DropDownListModel} options - Specifies the DropDownList model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DropDownList(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isListSearched = false;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.isTouched = false;\n        _this.IsScrollerAtEnd = function () {\n            return this.list && this.list.scrollTop + this.list.clientHeight >= this.list.scrollHeight;\n        };\n        _this.removeAllChildren = function (element) {\n            while (element.children[0]) {\n                this.removeAllChildren(element.children[0]);\n                element.removeChild(element.children[0]);\n            }\n        };\n        return _this;\n    }\n    /**\n     * Initialize the event handler.\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownList.prototype.preRender = function () {\n        this.valueTempElement = null;\n        this.element.style.opacity = '0';\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n        this.activeIndex = this.index;\n        this.queryString = '';\n    };\n    DropDownList.prototype.initializeData = function () {\n        this.isPopupOpen = false;\n        this.isDocumentClick = false;\n        this.isInteracted = false;\n        this.isFilterFocus = false;\n        this.beforePopupOpen = false;\n        this.initial = true;\n        this.initialRemoteRender = false;\n        this.isNotSearchList = false;\n        this.isTyped = false;\n        this.isSelected = false;\n        this.preventFocus = false;\n        this.preventAutoFill = false;\n        this.isValidKey = false;\n        this.typedString = '';\n        this.isEscapeKey = false;\n        this.isPreventBlur = false;\n        this.isTabKey = false;\n        this.actionCompleteData = { isUpdated: false };\n        this.actionData = { isUpdated: false };\n        this.prevSelectPoints = {};\n        this.isSelectCustom = false;\n        this.isDropDownClick = false;\n        this.preventAltUp = false;\n        this.isCustomFilter = false;\n        this.isSecondClick = false;\n        this.previousValue = null;\n        this.keyConfigure = {\n            tab: 'tab',\n            enter: '13',\n            escape: '27',\n            end: '35',\n            home: '36',\n            down: '40',\n            up: '38',\n            pageUp: '33',\n            pageDown: '34',\n            open: 'alt+40',\n            close: 'shift+tab',\n            hide: 'alt+38',\n            space: '32'\n        };\n        this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount,\n        };\n    };\n    DropDownList.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    DropDownList.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'VirtualScroll' });\n        }\n        return modules;\n    };\n    DropDownList.prototype.renderList = function (e, isEmptyData) {\n        _super.prototype.render.call(this, e, isEmptyData);\n        if (!(this.dataSource instanceof DataManager)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.enableVirtualization && this.isFiltering() && this.getModuleName() === 'combobox') {\n            this.UpdateSkeleton();\n            this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n            this.ulElement = this.list.querySelector('ul');\n        }\n        this.unWireListEvents();\n        this.wireListEvents();\n    };\n    DropDownList.prototype.floatLabelChange = function () {\n        if (this.getModuleName() === 'dropdownlist' && this.floatLabelType === 'Auto') {\n            var floatElement = this.inputWrapper.container.querySelector('.e-float-text');\n            if (this.inputElement.value !== '' || this.isInteracted) {\n                classList(floatElement, ['e-label-top'], ['e-label-bottom']);\n            }\n            else {\n                classList(floatElement, ['e-label-bottom'], ['e-label-top']);\n            }\n        }\n    };\n    DropDownList.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        this.clearAll(e);\n        if (this.enableVirtualization) {\n            this.list.scrollTop = 0;\n            this.virtualListInfo = null;\n            this.previousStartIndex = 0;\n            this.previousEndIndex = 0;\n        }\n    };\n    DropDownList.prototype.resetFocusElement = function () {\n        this.removeHover();\n        this.removeSelection();\n        this.removeFocus();\n        this.list.scrollTop = 0;\n        if (this.getModuleName() !== 'autocomplete' && !isNullOrUndefined(this.ulElement)) {\n            var li = this.ulElement.querySelector('.' + dropDownListClasses.li);\n            if (this.enableVirtualization) {\n                li = this.liCollections[this.skeletonCount];\n            }\n            if (li) {\n                li.classList.add(dropDownListClasses.focus);\n            }\n        }\n    };\n    DropDownList.prototype.clearAll = function (e, properties) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        if (isNullOrUndefined(properties) || (!isNullOrUndefined(properties) &&\n            (isNullOrUndefined(properties.dataSource) ||\n                (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n            this.isActive = true;\n            this.resetSelection(properties);\n        }\n        var dataItem = this.getItemData();\n        if ((!this.allowObjectBinding && (this.previousValue === dataItem.value)) || (this.allowObjectBinding && this.previousValue && this.isObjectInArray(this.previousValue, [this.allowCustom ? this.value ? this.value : dataItem : dataItem.value ? this.getDataByValue(dataItem.value) : dataItem]))) {\n            return;\n        }\n        this.onChangeEvent(e);\n        this.checkAndResetCache();\n        if (this.enableVirtualization) {\n            this.updateInitialData();\n        }\n    };\n    DropDownList.prototype.resetSelection = function (properties) {\n        if (this.list) {\n            if ((!isNullOrUndefined(properties) &&\n                (isNullOrUndefined(properties.dataSource) ||\n                    (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n                this.selectedLI = null;\n                this.actionCompleteData.isUpdated = false;\n                this.actionCompleteData.ulElement = null;\n                this.actionCompleteData.list = null;\n                this.resetList(properties.dataSource);\n            }\n            else {\n                if (this.allowFiltering && this.getModuleName() !== 'autocomplete'\n                    && !isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list) &&\n                    this.actionCompleteData.list.length > 0) {\n                    this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(true), this.actionCompleteData.list);\n                }\n                this.resetFocusElement();\n            }\n        }\n        if (!isNullOrUndefined(this.hiddenElement)) {\n            this.hiddenElement.innerHTML = '';\n        }\n        if (!isNullOrUndefined(this.inputElement)) {\n            this.inputElement.value = '';\n        }\n        this.value = null;\n        this.itemData = null;\n        this.text = null;\n        this.index = null;\n        this.activeIndex = null;\n        this.item = null;\n        this.queryString = '';\n        if (this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n            this.valueTempElement = null;\n        }\n        this.setSelection(null, null);\n        this.isSelectCustom = false;\n        this.updateIconState();\n        this.cloneElements();\n    };\n    DropDownList.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    var updatedClassValue = (this.htmlAttributes[\"\" + htmlAttr].replace(/\\s+/g, ' ')).trim();\n                    if (updatedClassValue !== '') {\n                        addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n                    }\n                }\n                else if (htmlAttr === 'disabled' && this.htmlAttributes[\"\" + htmlAttr] === 'disabled') {\n                    this.enabled = false;\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly' && !isNullOrUndefined(this.htmlAttributes[\"\" + htmlAttr])) {\n                    this.readonly = true;\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.container.setAttribute('style', this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else if (htmlAttr === 'aria-label') {\n                    if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n                        this.inputElement.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (this.getModuleName() === 'dropdownlist') {\n                        this.inputWrapper.container.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder',\n                        'role', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n                        defaultAttr.push('tabindex');\n                    }\n                    if (validateAttr.indexOf(htmlAttr) > -1 || htmlAttr.indexOf('data') === 0) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        if (htmlAttr === 'placeholder') {\n                            Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputElement);\n                        }\n                        else {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n            }\n        }\n        if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n            this.inputWrapper.container.removeAttribute('tabindex');\n        }\n    };\n    DropDownList.prototype.getAriaAttributes = function () {\n        return {\n            'aria-disabled': 'false',\n            'role': 'combobox',\n            'aria-expanded': 'false',\n            'aria-live': 'polite',\n            'aria-labelledby': this.hiddenElement.id\n        };\n    };\n    DropDownList.prototype.setEnableRtl = function () {\n        Input.setEnableRtl(this.enableRtl, [this.inputElement.parentElement]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    DropDownList.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.targetElement().setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hidePopup();\n            addClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.targetElement().tabIndex = -1;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    DropDownList.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    DropDownList.prototype.getLocaleName = function () {\n        return 'drop-down-list';\n    };\n    DropDownList.prototype.preventTabIndex = function (element) {\n        if (this.getModuleName() === 'dropdownlist') {\n            element.tabIndex = -1;\n        }\n    };\n    DropDownList.prototype.targetElement = function () {\n        return !isNullOrUndefined(this.inputWrapper) ? this.inputWrapper.container : null;\n    };\n    DropDownList.prototype.getNgDirective = function () {\n        return 'EJS-DROPDOWNLIST';\n    };\n    DropDownList.prototype.getElementByText = function (text) {\n        return this.getElementByValue(this.getValueByText(text));\n    };\n    DropDownList.prototype.getElementByValue = function (value) {\n        var item;\n        var listItems = this.getItems();\n        for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n            var liItem = listItems_1[_i];\n            if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n                item = liItem;\n                break;\n            }\n        }\n        return item;\n    };\n    DropDownList.prototype.initValue = function () {\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initialRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    DropDownList.prototype.updateValues = function () {\n        this.selectedValueInfo = this.viewPortInfo;\n        if (!isNullOrUndefined(this.value)) {\n            var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(((this.fields.value) ? this.fields.value : ''), this.value) : this.value;\n            this.setSelection(this.getElementByValue(value), null);\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var element = this.getElementByText(this.text);\n            if (isNullOrUndefined(element)) {\n                this.setProperties({ text: null });\n                return;\n            }\n            else {\n                this.setSelection(element, null);\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    DropDownList.prototype.onBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        var target = e.relatedTarget;\n        var currentTarget = e.target;\n        var isPreventBlur = this.isPreventBlur;\n        this.isPreventBlur = false;\n        //IE 11 - issue\n        if (isPreventBlur && !this.isDocumentClick && this.isPopupOpen && (!isNullOrUndefined(currentTarget) ||\n            !this.isFilterLayout() && isNullOrUndefined(target))) {\n            if (this.getModuleName() === 'dropdownlist' && this.allowFiltering && this.isPopupOpen) {\n                this.filterInput.focus();\n            }\n            else {\n                this.targetElement().focus();\n            }\n            return;\n        }\n        if (this.isDocumentClick || (!isNullOrUndefined(this.popupObj)\n            && document.body.contains(this.popupObj.element) &&\n            this.popupObj.element.classList.contains(dropDownListClasses.mobileFilter))) {\n            if (!this.beforePopupOpen) {\n                this.isDocumentClick = false;\n            }\n            return;\n        }\n        if (((this.getModuleName() === 'dropdownlist' && !this.isFilterFocus && target !== this.inputElement)\n            && (document.activeElement !== target || (document.activeElement === target &&\n                currentTarget.classList.contains(dropDownListClasses.inputFocus)))) ||\n            (isNullOrUndefined(target) && this.getModuleName() === 'dropdownlist' && this.allowFiltering &&\n                currentTarget !== this.inputWrapper.container) || this.getModuleName() !== 'dropdownlist' &&\n            !this.inputWrapper.container.contains(target) || this.isTabKey) {\n            this.isDocumentClick = this.isPopupOpen ? true : false;\n            this.focusOutAction(e);\n            this.isTabKey = false;\n        }\n        if (this.isRequested && !this.isPopupOpen && !this.isPreventBlur) {\n            this.isActive = false;\n            this.beforePopupOpen = false;\n        }\n    };\n    DropDownList.prototype.focusOutAction = function (e) {\n        this.isInteracted = false;\n        this.focusOut(e);\n        this.onFocusOut(e);\n    };\n    DropDownList.prototype.onFocusOut = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isSelected) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        this.floatLabelChange();\n        this.dispatchEvent(this.hiddenElement, 'change');\n        if (this.getModuleName() === 'dropdownlist' && this.element.tagName !== 'INPUT') {\n            this.dispatchEvent(this.inputElement, 'blur');\n        }\n        if (this.inputWrapper.clearButton) {\n            addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n        }\n        this.trigger('blur');\n    };\n    DropDownList.prototype.onFocus = function (e) {\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            var args = { isInteracted: e ? true : false, event: e };\n            this.trigger('focus', args);\n        }\n        this.updateIconState();\n    };\n    DropDownList.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            var val = (this.element.tagName === this.getNgDirective()) ? null : this.inputElement.getAttribute('value');\n            this.text = val;\n        }\n    };\n    DropDownList.prototype.wireEvent = function () {\n        EventHandler.add(this.inputWrapper.container, 'mousedown', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper.container, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper.container, 'keypress', this.onSearch, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        this.bindCommonEvent();\n    };\n    DropDownList.prototype.bindCommonEvent = function () {\n        EventHandler.add(this.targetElement(), 'blur', this.onBlurHandler, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.keyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.mobileKeyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        this.bindClearEvent();\n    };\n    DropDownList.prototype.windowResize = function () {\n        if (this.isPopupOpen) {\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n        }\n    };\n    DropDownList.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    };\n    DropDownList.prototype.unBindCommonEvent = function () {\n        if (!isNullOrUndefined(this.inputWrapper) && this.targetElement()) {\n            EventHandler.remove(this.targetElement(), 'blur', this.onBlurHandler);\n        }\n        var formElement = this.inputElement && closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule.destroy();\n        }\n        if (this.showClearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown', this.resetHandler);\n        }\n    };\n    DropDownList.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    /**\n     * Event binding for list\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.wireListEvents = function () {\n        if (!isNullOrUndefined(this.list)) {\n            EventHandler.add(this.list, 'click', this.onMouseClick, this);\n            EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DropDownList.prototype.onSearch = function (e) {\n        if (e.charCode !== 32 && e.charCode !== 13) {\n            if (this.list === undefined) {\n                this.renderList();\n            }\n            this.searchKeyEvent = e;\n            this.onServerIncrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onServerIncrementalSearch = function (e) {\n        if (!this.isRequested && !isNullOrUndefined(this.list) &&\n            !isNullOrUndefined(this.list.querySelector('li')) && this.enabled && !this.readonly) {\n            this.incrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        this.keyboardEvent = null;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        this.setSelection(li, e);\n        if (Browser.isDevice && this.isFilterLayout()) {\n            history.back();\n        }\n        else {\n            var delay = 100;\n            this.closePopup(delay, e);\n        }\n    };\n    DropDownList.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    DropDownList.prototype.setHover = function (li) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    DropDownList.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    DropDownList.prototype.removeHover = function () {\n        if (this.list) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.hover);\n            }\n        }\n    };\n    DropDownList.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    DropDownList.prototype.updateIncrementalItemIndex = function (startIndex, endIndex) {\n        this.incrementalStartIndex = startIndex;\n        this.incrementalEndIndex = endIndex;\n    };\n    DropDownList.prototype.incrementalSearch = function (e) {\n        if (this.liCollections.length > 0) {\n            if (this.enableVirtualization) {\n                var updatingincrementalindex = false;\n                var queryStringUpdated = false;\n                var activeElement = this.ulElement.getElementsByClassName('e-active')[0];\n                var currentValue = activeElement ? activeElement.textContent : null;\n                if (this.incrementalQueryString == '') {\n                    this.incrementalQueryString = String.fromCharCode(e.charCode);\n                    this.incrementalPreQueryString = this.incrementalQueryString;\n                }\n                else if (String.fromCharCode(e.charCode).toLocaleLowerCase() == this.incrementalPreQueryString.toLocaleLowerCase()) {\n                    queryStringUpdated = true;\n                }\n                else {\n                    this.incrementalQueryString = String.fromCharCode(e.charCode);\n                }\n                if ((this.viewPortInfo.endIndex >= this.incrementalEndIndex && this.incrementalEndIndex <= this.totalItemCount) || this.incrementalEndIndex == 0) {\n                    updatingincrementalindex = true;\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    if (this.incrementalEndIndex == 0) {\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                    }\n                    else {\n                        this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100;\n                    }\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                }\n                if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                    this.updateIncrementalView(0, this.itemCount);\n                }\n                var li = incrementalSearch(e.charCode, this.incrementalLiCollections, this.activeIndex, true, this.element.id, queryStringUpdated, currentValue, true);\n                while (isNullOrUndefined(li) && this.incrementalEndIndex < this.totalItemCount) {\n                    this.updateIncrementalItemIndex(this.incrementalEndIndex, this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100);\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    li = incrementalSearch(e.charCode, this.incrementalLiCollections, 0, true, this.element.id, queryStringUpdated, currentValue, true, true);\n                    if (!isNullOrUndefined(li)) {\n                        break;\n                    }\n                    if (isNullOrUndefined(li) && this.incrementalEndIndex >= this.totalItemCount) {\n                        this.updateIncrementalItemIndex(0, 100 > this.totalItemCount ? this.totalItemCount : 100);\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(li) && this.incrementalEndIndex >= this.totalItemCount) {\n                    this.updateIncrementalItemIndex(0, 100 > this.totalItemCount ? this.totalItemCount : 100);\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    li = incrementalSearch(e.charCode, this.incrementalLiCollections, 0, true, this.element.id, queryStringUpdated, currentValue, true, true);\n                }\n                var index = li && this.getIndexByValue(li.getAttribute('data-value'));\n                if (!index) {\n                    for (var i = 0; i < this.incrementalLiCollections.length; i++) {\n                        if (!isNullOrUndefined(li) && !isNullOrUndefined(li.getAttribute('data-value')) && this.incrementalLiCollections[i].getAttribute('data-value') === li.getAttribute('data-value').toString()) {\n                            index = i;\n                            index = this.incrementalStartIndex + index;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    index = index - this.skeletonCount;\n                }\n                if (index) {\n                    if ((!(this.viewPortInfo.startIndex >= index)) || (!(index >= this.viewPortInfo.endIndex))) {\n                        var startIndex = index - ((this.itemCount / 2) - 2) > 0 ? index - ((this.itemCount / 2) - 2) : 0;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        this.updateIncrementalView(startIndex, endIndex);\n                    }\n                }\n                if (!isNullOrUndefined(li)) {\n                    var index_1 = this.getIndexByValue(li.getAttribute('data-value')) - this.skeletonCount;\n                    if (index_1 > this.itemCount / 2) {\n                        var startIndex = this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) < this.totalItemCount ? this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) : this.totalItemCount;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        this.updateIncrementalView(startIndex, endIndex);\n                    }\n                    li = this.getElementByValue(li.getAttribute('data-value'));\n                    this.setSelection(li, e);\n                    this.setScrollPosition();\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    if (this.enableVirtualization && !this.fields.groupBy) {\n                        var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n                        this.list.scrollTop = selectedLiOffsetTop - (this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight);\n                    }\n                    this.incrementalPreQueryString = this.incrementalQueryString;\n                }\n                else {\n                    this.updateIncrementalView(0, this.itemCount);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    this.list.scrollTop = 0;\n                }\n            }\n            else {\n                var li = incrementalSearch(e.charCode, this.liCollections, this.activeIndex, true, this.element.id);\n                if (!isNullOrUndefined(li)) {\n                    this.setSelection(li, e);\n                    this.setScrollPosition();\n                }\n            }\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            this.spinnerElement.innerHTML = '';\n            this.spinnerElement = null;\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] ||\n                !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0];\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    DropDownList.prototype.keyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.keyboardEvent = e;\n        if (this.isPreventKeyAction && this.enableVirtualization) {\n            e.preventDefault();\n        }\n        var preventAction = e.action === 'pageUp' || e.action === 'pageDown';\n        var preventHomeEnd = this.getModuleName() !== 'dropdownlist' && (e.action === 'home' || e.action === 'end');\n        this.isEscapeKey = e.action === 'escape';\n        this.isTabKey = !this.isPopupOpen && e.action === 'tab';\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        if ((this.isEditTextBox() || preventAction || preventHomeEnd) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            var isTabAction = e.action === 'tab' || e.action === 'close';\n            if (isNullOrUndefined(this.list) && !this.isRequested && !isTabAction && e.action !== 'escape') {\n                this.searchKeyEvent = e;\n                if (!this.enableVirtualization || (this.enableVirtualization && this.getModuleName() !== 'autocomplete' && e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38))) {\n                    this.renderList(e);\n                    this.UpdateSkeleton();\n                    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    this.ulElement = this.list.querySelector('ul');\n                }\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                isNavigation && this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if ((isTabAction && this.getModuleName() !== 'autocomplete') && this.isPopupOpen\n                || e.action === 'escape') {\n                e.preventDefault();\n            }\n            this.isSelected = e.action === 'escape' ? false : this.isSelected;\n            this.isTyped = (isNavigation || e.action === 'escape') ? false : this.isTyped;\n            switch (e.action) {\n                case 'down':\n                case 'up':\n                    this.updateUpDownAction(e);\n                    break;\n                case 'pageUp':\n                    this.pageUpSelection(this.activeIndex - this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'pageDown':\n                    this.pageDownSelection(this.activeIndex + this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'home':\n                    this.isMouseScrollAction = true;\n                    this.updateHomeEndAction(e);\n                    break;\n                case 'end':\n                    this.isMouseScrollAction = true;\n                    this.updateHomeEndAction(e);\n                    break;\n                case 'space':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        if (!this.beforePopupOpen) {\n                            this.showPopup();\n                            e.preventDefault();\n                        }\n                    }\n                    break;\n                case 'open':\n                    this.showPopup(e);\n                    break;\n                case 'hide':\n                    this.preventAltUp = this.isPopupOpen;\n                    this.hidePopup(e);\n                    this.focusDropDown(e);\n                    break;\n                case 'enter':\n                    this.selectCurrentItem(e);\n                    break;\n                case 'tab':\n                    this.selectCurrentValueOnTab(e);\n                    break;\n                case 'escape':\n                case 'close':\n                    if (this.isPopupOpen) {\n                        this.hidePopup(e);\n                        this.focusDropDown(e);\n                    }\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.updateUpDownAction = function (e, isVirtualKeyAction) {\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var value_1 = this.getItemData().value;\n            if (isNullOrUndefined(value_1)) {\n                value_1 = 'null';\n            }\n            var filterIndex = this.getIndexByValue(value_1);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n        }\n        var focusEle = this.list.querySelector('.' + dropDownListClasses.focus);\n        if (this.isSelectFocusItem(focusEle) && !isVirtualKeyAction) {\n            this.setSelection(focusEle, e);\n            if (this.enableVirtualization) {\n                var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n                if (this.fields.groupBy) {\n                    selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex == 0 ? this.selectedLI.offsetHeight - selectedLiOffsetTop : selectedLiOffsetTop - this.selectedLI.offsetHeight;\n                }\n                this.list.scrollTop = selectedLiOffsetTop - (this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight);\n            }\n        }\n        else if (!isNullOrUndefined(this.liCollections)) {\n            var virtualIndex = this.activeIndex;\n            var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n            index = isVirtualKeyAction ? virtualIndex : index;\n            var startIndex = 0;\n            if (this.getModuleName() === 'autocomplete') {\n                startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n                index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n            }\n            var nextItem = void 0;\n            if (this.getModuleName() !== 'autocomplete' || this.getModuleName() === 'autocomplete' && this.isPopupOpen) {\n                if (!this.enableVirtualization) {\n                    nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex]\n                        : this.liCollections[index];\n                }\n                else {\n                    if (!isVirtualKeyAction) {\n                        nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[this.skeletonCount]\n                            : this.liCollections[index];\n                        nextItem = !isNullOrUndefined(nextItem) && !nextItem.classList.contains('e-virtual-list') ? nextItem : null;\n                    }\n                    else {\n                        if (this.getModuleName() === 'autocomplete') {\n                            var value = this.getFormattedValue(this.selectedLI.getAttribute('data-value'));\n                            nextItem = this.getElementByValue(value);\n                        }\n                        else {\n                            nextItem = this.getElementByValue(this.getItemData().value);\n                        }\n                    }\n                }\n            }\n            if (!isNullOrUndefined(nextItem)) {\n                var focusAtFirstElement = this.liCollections[this.skeletonCount] && this.liCollections[this.skeletonCount].classList.contains('e-item-focus');\n                this.setSelection(nextItem, e);\n                if (focusAtFirstElement && this.enableVirtualization && this.getModuleName() === 'autocomplete' && !isVirtualKeyAction) {\n                    var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n                    selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex == 0 && this.fields.groupBy ? this.selectedLI.offsetHeight - selectedLiOffsetTop : selectedLiOffsetTop - this.selectedLI.offsetHeight;\n                    this.list.scrollTop = selectedLiOffsetTop - (this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight);\n                }\n            }\n            else if (this.enableVirtualization && !this.isPopupOpen && this.getModuleName() !== 'autocomplete' && ((this.viewPortInfo.endIndex !== this.totalItemCount && e.action === 'down') || (this.viewPortInfo.startIndex !== 0 && e.action === 'up'))) {\n                if (e.action === 'down') {\n                    this.viewPortInfo.startIndex = (this.viewPortInfo.startIndex + this.itemCount) < (this.totalItemCount - this.itemCount) ? this.viewPortInfo.startIndex + this.itemCount : this.totalItemCount - this.itemCount;\n                    this.viewPortInfo.endIndex = this.viewPortInfo.startIndex + this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? true : this.isCustomFilter;\n                    this.resetList(this.dataSource, this.fields, this.query);\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? false : this.isCustomFilter;\n                    var value_2 = this.liCollections[0].getAttribute('data-value') !== \"null\" ? this.getFormattedValue(this.liCollections[0].getAttribute('data-value')) : null;\n                    var selectedData = this.getDataByValue(value_2);\n                    if (selectedData) {\n                        this.itemData = selectedData;\n                    }\n                }\n                else if (e.action === 'up') {\n                    this.viewPortInfo.startIndex = (this.viewPortInfo.startIndex - this.itemCount) > 0 ? this.viewPortInfo.startIndex - this.itemCount : 0;\n                    this.viewPortInfo.endIndex = this.viewPortInfo.startIndex + this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? true : this.isCustomFilter;\n                    this.resetList(this.dataSource, this.fields, this.query);\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? false : this.isCustomFilter;\n                    var value_3 = this.liCollections[this.liCollections.length - 1].getAttribute('data-value') !== \"null\" ? this.getFormattedValue(this.liCollections[this.liCollections.length - 1].getAttribute('data-value')) : null;\n                    var selectedData = this.getDataByValue(value_3);\n                    if (selectedData) {\n                        this.itemData = selectedData;\n                    }\n                }\n                this.UpdateSkeleton();\n                this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.ulElement = this.list.querySelector('ul');\n                this.handleVirtualKeyboardActions(e, this.pageCount);\n            }\n        }\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var value_4 = this.getItemData().value;\n            var filterIndex = this.getIndexByValueFilter(value_4, this.actionCompleteData.ulElement);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n        }\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist' && this.filterInput) {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n        e.preventDefault();\n    };\n    DropDownList.prototype.updateHomeEndAction = function (e, isVirtualKeyAction) {\n        if (this.getModuleName() === 'dropdownlist') {\n            var findLi = 0;\n            if (e.action === 'home') {\n                findLi = 0;\n                if (this.enableVirtualization && this.isPopupOpen) {\n                    findLi = this.skeletonCount;\n                }\n                else if (this.enableVirtualization && !this.isPopupOpen && this.viewPortInfo.startIndex !== 0) {\n                    this.viewPortInfo.startIndex = 0;\n                    this.viewPortInfo.endIndex = this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.resetList(this.dataSource, this.fields, this.query);\n                }\n            }\n            else {\n                if (this.enableVirtualization && !this.isPopupOpen && this.viewPortInfo.endIndex !== this.totalItemCount) {\n                    this.viewPortInfo.startIndex = this.totalItemCount - this.itemCount;\n                    this.viewPortInfo.endIndex = this.totalItemCount;\n                    this.updateVirtualItemIndex();\n                    this.resetList(this.dataSource, this.fields, this.query);\n                }\n                findLi = this.getItems().length - 1;\n            }\n            e.preventDefault();\n            if (this.activeIndex === findLi) {\n                if (isVirtualKeyAction) {\n                    this.setSelection(this.liCollections[findLi], e);\n                }\n                return;\n            }\n            this.setSelection(this.liCollections[findLi], e);\n        }\n    };\n    DropDownList.prototype.selectCurrentValueOnTab = function (e) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.selectCurrentItem(e);\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup(e);\n                this.focusDropDown(e);\n            }\n        }\n    };\n    DropDownList.prototype.mobileKeyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if ((this.isEditTextBox()) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            if (this.list === undefined && !this.isRequested) {\n                this.searchKeyEvent = e;\n                this.renderList();\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if (e.action === 'enter') {\n                this.selectCurrentItem(e);\n            }\n        }\n    };\n    DropDownList.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n        switch (e.action) {\n            case 'down':\n            case 'up':\n                if (this.itemData != null || this.getModuleName() === 'autocomplete') {\n                    this.updateUpDownAction(e, true);\n                }\n                break;\n            case 'pageUp':\n                this.activeIndex = this.getModuleName() === 'autocomplete' ? this.getIndexByValue(this.selectedLI.getAttribute('data-value')) + this.getPageCount() - 1 : this.getIndexByValue(this.previousValue);\n                this.pageUpSelection(this.activeIndex - this.getPageCount(), e, true);\n                e.preventDefault();\n                break;\n            case 'pageDown':\n                this.activeIndex = this.getModuleName() === 'autocomplete' ? this.getIndexByValue(this.selectedLI.getAttribute('data-value')) - this.getPageCount() : this.getIndexByValue(this.previousValue);\n                this.pageDownSelection(!isNullOrUndefined(this.activeIndex) ? (this.activeIndex + this.getPageCount()) : (2 * this.getPageCount()), e, true);\n                e.preventDefault();\n                break;\n            case 'home':\n                this.isMouseScrollAction = true;\n                this.updateHomeEndAction(e, true);\n                break;\n            case 'end':\n                this.isMouseScrollAction = true;\n                this.updateHomeEndAction(e, true);\n                break;\n        }\n        this.keyboardEvent = null;\n    };\n    DropDownList.prototype.selectCurrentItem = function (e) {\n        if (this.isPopupOpen) {\n            var li = this.list.querySelector('.' + dropDownListClasses.focus);\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n            this.hidePopup(e);\n            this.focusDropDown(e);\n        }\n        else {\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    DropDownList.prototype.pageUpSelection = function (steps, event, isVirtualKeyAction) {\n        var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];\n        if ((this.enableVirtualization && this.activeIndex == null)) {\n            previousItem = (this.liCollections.length >= steps && steps >= 0) ? this.liCollections[steps + this.skeletonCount + 1] : this.liCollections[0];\n        }\n        if (!isNullOrUndefined(previousItem) && previousItem.classList.contains('e-virtual-list')) {\n            previousItem = this.liCollections[this.skeletonCount];\n        }\n        this.PageUpDownSelection(previousItem, event);\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n    };\n    DropDownList.prototype.PageUpDownSelection = function (previousItem, event) {\n        if (this.enableVirtualization) {\n            if (!isNullOrUndefined(previousItem) && ((this.getModuleName() !== 'autocomplete' && !previousItem.classList.contains('e-active')) || (this.getModuleName() === 'autocomplete' && !previousItem.classList.contains('e-item-focus')))) {\n                this.setSelection(previousItem, event);\n            }\n        }\n        else {\n            this.setSelection(previousItem, event);\n        }\n    };\n    DropDownList.prototype.pageDownSelection = function (steps, event, isVirtualKeyAction) {\n        var list = this.getItems();\n        var previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n        if (this.enableVirtualization && this.skeletonCount > 0) {\n            steps = this.getModuleName() === 'dropdownlist' && this.allowFiltering ? steps + 1 : steps;\n            previousItem = steps < list.length ? this.liCollections[steps] : this.liCollections[list.length - 1];\n        }\n        if ((this.enableVirtualization && this.activeIndex == null)) {\n            previousItem = steps <= list.length ? this.liCollections[steps + this.skeletonCount - 1] : this.liCollections[list.length - 1];\n        }\n        this.PageUpDownSelection(previousItem, event);\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n    };\n    DropDownList.prototype.unWireEvent = function () {\n        if (!isNullOrUndefined(this.inputWrapper)) {\n            EventHandler.remove(this.inputWrapper.container, 'mousedown', this.dropDownClick);\n            EventHandler.remove(this.inputWrapper.container, 'keypress', this.onSearch);\n            EventHandler.remove(this.inputWrapper.container, 'focus', this.focusIn);\n            EventHandler.remove(window, 'resize', this.windowResize);\n        }\n        this.unBindCommonEvent();\n    };\n    /**\n     * Event un binding for list items.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.unWireListEvents = function () {\n        if (this.list) {\n            EventHandler.remove(this.list, 'click', this.onMouseClick);\n            EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n            EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n        }\n    };\n    DropDownList.prototype.checkSelector = function (id) {\n        return '[id=\"' + id.replace(/(:|\\.|\\[|\\]|,|=|@|\\\\|\\/|#)/g, '\\\\$1') + '\"]';\n    };\n    DropDownList.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, this.checkSelector(this.popupObj.element.id))) &&\n            !isNullOrUndefined(this.inputWrapper) && !this.inputWrapper.container.contains(e.target)) {\n            if (this.inputWrapper.container.classList.contains(dropDownListClasses.inputFocus) || this.isPopupOpen) {\n                this.isDocumentClick = true;\n                var isActive = this.isRequested;\n                if (this.getModuleName() === 'combobox' && this.isTyped) {\n                    this.isInteracted = false;\n                }\n                this.hidePopup(e);\n                this.isInteracted = false;\n                if (!isActive) {\n                    this.onFocusOut(e);\n                    this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n                }\n            }\n        }\n        else if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput)\n            && !(this.getModuleName() === 'combobox' &&\n                !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0])) {\n            this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.targetElement() ||\n                document.activeElement === this.filterInput);\n            e.preventDefault();\n        }\n    };\n    DropDownList.prototype.activeStateChange = function () {\n        if (this.isDocumentClick) {\n            this.hidePopup();\n            this.onFocusOut();\n            this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n        }\n    };\n    DropDownList.prototype.focusDropDown = function (e) {\n        if (!this.initial && this.isFilterLayout()) {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.dropDownClick = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        this.keyboardEvent = null;\n        if (this.targetElement().classList.contains(dropDownListClasses.disable) || this.inputWrapper.clearButton === e.target) {\n            return;\n        }\n        var target = e.target;\n        if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && this.getModuleName() !== 'combobox') {\n            e.preventDefault();\n        }\n        if (!this.readonly) {\n            if (this.isPopupOpen) {\n                this.hidePopup(e);\n                if (this.isFilterLayout()) {\n                    this.focusDropDown(e);\n                }\n            }\n            else {\n                this.focusIn(e);\n                this.floatLabelChange();\n                this.queryString = this.inputElement.value.trim() === '' ? null : this.inputElement.value;\n                this.isDropDownClick = true;\n                this.showPopup(e);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            // eslint-disable-next-line max-len\n            var duration = (this.element.tagName === this.getNgDirective() && this.itemTemplate) ? 500 : 100;\n            if (!this.isSecondClick) {\n                setTimeout(function () {\n                    proxy_1.cloneElements();\n                    proxy_1.isSecondClick = true;\n                }, duration);\n            }\n        }\n        else {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.cloneElements = function () {\n        if (this.list) {\n            var ulElement = this.list.querySelector('ul');\n            if (ulElement) {\n                ulElement = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                this.actionCompleteData.ulElement = ulElement;\n            }\n        }\n    };\n    DropDownList.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n        var _this = this;\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = li.getAttribute('data-value') !== \"null\" ? this.getFormattedValue(li.getAttribute('data-value')) : null;\n        var selectedData = this.getDataByValue(value);\n        if (!this.initial && !preventSelect && !isNullOrUndefined(e)) {\n            var items = this.detachChanges(selectedData);\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: li,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    li.classList.remove(dropDownBaseClasses.selected);\n                }\n                else {\n                    _this.selectEventCallback(li, e, preventSelect, selectedData, value);\n                    if (isSelection) {\n                        _this.setSelectOptions(li, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.selectEventCallback(li, e, preventSelect, selectedData, value);\n            if (isSelection) {\n                this.setSelectOptions(li, e);\n            }\n        }\n    };\n    DropDownList.prototype.selectEventCallback = function (li, e, preventSelect, selectedData, value) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        if (this.itemData != selectedData) {\n            this.previousValue = (!isNullOrUndefined(this.itemData)) ? typeof this.itemData == \"object\" && !this.allowObjectBinding ? this.checkFieldValue(this.itemData, this.fields.value.split('.')) : this.itemData : null;\n        }\n        this.item = li;\n        this.itemData = selectedData;\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        li.setAttribute('aria-selected', 'true');\n        if (isNullOrUndefined(value)) {\n            value = 'null';\n        }\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var filterIndex = this.getIndexByValueFilter(value, this.actionCompleteData.ulElement);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n            else {\n                this.activeIndex = this.getIndexByValue(value);\n            }\n        }\n        else {\n            if (this.enableVirtualization && this.activeIndex == null && this.dataSource instanceof DataManager) {\n                this.UpdateSkeleton();\n                this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.ulElement = this.list.querySelector('ul');\n            }\n            this.activeIndex = this.getIndexByValue(value);\n        }\n    };\n    DropDownList.prototype.activeItem = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n            this.removeSelection();\n            li.classList.add(dropDownBaseClasses.selected);\n            this.removeHover();\n            li.setAttribute('aria-selected', 'true');\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownList.prototype.setValue = function (e) {\n        var dataItem = this.getItemData();\n        if (dataItem.value === null) {\n            Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        if (this.valueTemplate && this.itemData !== null) {\n            this.setValueTemplate();\n        }\n        else if (!isNullOrUndefined(this.valueTempElement) && this.inputElement.previousSibling === this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n        }\n        if (!isNullOrUndefined(dataItem.value) && !this.enableVirtualization && this.allowFiltering) {\n            this.activeIndex = this.getIndexByValueFilter(dataItem.value, this.actionCompleteData.ulElement);\n        }\n        var clearIcon = dropDownListClasses.clearIcon;\n        var isFilterElement = this.isFiltering() && this.filterInput && (this.getModuleName() === 'combobox');\n        var clearElement = isFilterElement && this.filterInput.parentElement.querySelector('.' + clearIcon);\n        if (this.isFiltering() && clearElement) {\n            clearElement.style.removeProperty('visibility');\n        }\n        if ((!this.allowObjectBinding && (this.previousValue === dataItem.value)) || (this.allowObjectBinding && (this.previousValue != null && this.isObjectInArray(this.previousValue, [this.allowCustom && this.isObjectCustomValue ? this.value ? this.value : dataItem : dataItem.value ? this.getDataByValue(dataItem.value) : dataItem])))) {\n            this.isSelected = false;\n            return true;\n        }\n        else {\n            this.isSelected = !this.initial ? true : false;\n            this.isSelectCustom = false;\n            if (this.getModuleName() === 'dropdownlist') {\n                this.updateIconState();\n            }\n            return false;\n        }\n    };\n    DropDownList.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || (this.isPopupOpen && this.isSelected\n            && li.classList.contains(dropDownBaseClasses.selected)))) {\n            this.updateSelectedItem(li, e, false, true);\n        }\n        else {\n            this.setSelectOptions(li, e);\n            if (this.enableVirtualization && this.value) {\n                var fields = (this.fields.value) ? this.fields.value : '';\n                var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                if (this.dataSource instanceof DataManager) {\n                    var getItem = new DataManager(this.virtualGroupDataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text, 'value': value });\n                        }\n                    }\n                }\n                else {\n                    var getItem = new DataManager(this.dataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text, 'value': value });\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DropDownList.prototype.setSelectOptions = function (li, e) {\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.setValue(e)) {\n            return;\n        }\n        if ((!this.isPopupOpen && !isNullOrUndefined(li)) || (this.isPopupOpen && !isNullOrUndefined(e) &&\n            (e.type !== 'keydown' || e.type === 'keydown' && e.action === 'enter'))) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI) && this.itemData !== null && (!e || e.type !== 'click')) {\n            this.setScrollPosition(e);\n        }\n        if (Browser.info.name !== 'mozilla') {\n            if (this.targetElement()) {\n                attributes(this.targetElement(), { 'aria-describedby': this.inputElement.id !== '' ? this.inputElement.id : this.element.id });\n                this.targetElement().removeAttribute('aria-live');\n            }\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n        }\n        else if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n        }\n    };\n    DropDownList.prototype.dropdownCompiler = function (dropdownTemplate) {\n        var checkTemplate = false;\n        if (typeof dropdownTemplate !== 'function' && dropdownTemplate) {\n            try {\n                checkTemplate = (document.querySelectorAll(dropdownTemplate).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    DropDownList.prototype.setValueTemplate = function () {\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['valueTemplate']);\n            if (this.valueTempElement) {\n                detach(this.valueTempElement);\n                this.inputElement.style.display = 'block';\n                this.valueTempElement = null;\n            }\n        }\n        if (!this.valueTempElement) {\n            this.valueTempElement = this.createElement('span', { className: dropDownListClasses.value });\n            this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement);\n            this.inputElement.style.display = 'none';\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.valueTempElement.innerHTML = '';\n        }\n        var valuecheck = this.dropdownCompiler(this.valueTemplate);\n        if (typeof this.valueTemplate !== 'function' && valuecheck) {\n            compiledString = compile(document.querySelector(this.valueTemplate).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.valueTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var valueCompTemp = compiledString(this.itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, this.valueTempElement);\n        if (valueCompTemp && valueCompTemp.length > 0) {\n            append(valueCompTemp, this.valueTempElement);\n        }\n        this.renderReactTemplates();\n    };\n    DropDownList.prototype.removeSelection = function () {\n        if (this.list) {\n            var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n            if (selectedItems.length) {\n                removeClass(selectedItems, dropDownBaseClasses.selected);\n                selectedItems[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    DropDownList.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    /**\n     * To trigger the change event for list.\n     *\n     * @param {MouseEvent | KeyboardEvent | TouchEvent} eve - Specifies the event arguments.\n     * @returns {void}\n     */\n    DropDownList.prototype.onChangeEvent = function (eve, isCustomValue) {\n        var _this = this;\n        var dataItem = this.getItemData();\n        var index = this.isSelectCustom ? null : this.activeIndex;\n        if (this.enableVirtualization) {\n            var datas = this.dataSource instanceof DataManager ? this.virtualGroupDataSource : this.dataSource;\n            if (dataItem.value && datas && datas.length > 0) {\n                var foundIndex = datas.findIndex(function (data) {\n                    return !isNullOrUndefined(dataItem.value) && getValue(_this.fields.value, data) === dataItem.value;\n                });\n                if (foundIndex !== -1) {\n                    index = foundIndex;\n                }\n            }\n        }\n        var value = this.allowObjectBinding ? isCustomValue ? this.value : this.getDataByValue(dataItem.value) : dataItem.value;\n        this.setProperties({ 'index': index, 'text': dataItem.text, 'value': value }, true);\n        this.detachChangeEvent(eve);\n    };\n    DropDownList.prototype.detachChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    DropDownList.prototype.detachChangeEvent = function (eve) {\n        this.isSelected = false;\n        this.previousValue = this.value;\n        this.activeIndex = this.enableVirtualization ? this.getIndexByValue(this.value) : this.index;\n        this.typedString = !isNullOrUndefined(this.text) ? this.text : '';\n        if (!this.initial) {\n            var items = this.detachChanges(this.itemData);\n            var preItems = void 0;\n            if (typeof this.previousItemData === 'string' ||\n                typeof this.previousItemData === 'boolean' ||\n                typeof this.previousItemData === 'number') {\n                preItems = Object.defineProperties({}, {\n                    value: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    },\n                    text: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    }\n                });\n            }\n            else {\n                preItems = this.previousItemData;\n            }\n            this.setHiddenValue();\n            var eventArgs = {\n                e: eve,\n                item: this.item,\n                itemData: items,\n                previousItem: this.previousSelectedLI,\n                previousItemData: preItems,\n                isInteracted: eve ? true : false,\n                value: this.value,\n                element: this.element,\n                event: eve\n            };\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', eventArgs);\n            }\n        }\n        if ((isNullOrUndefined(this.value) || this.value === '') && this.floatLabelType !== 'Always') {\n            removeClass([this.inputWrapper.container], 'e-valid-input');\n        }\n    };\n    DropDownList.prototype.setHiddenValue = function () {\n        if (!isNullOrUndefined(this.value)) {\n            var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            if (this.hiddenElement.querySelector('option')) {\n                var selectedElement = this.hiddenElement.querySelector('option');\n                selectedElement.textContent = this.text;\n                selectedElement.setAttribute('value', value.toString());\n            }\n            else {\n                if (!isNullOrUndefined(this.hiddenElement)) {\n                    this.hiddenElement.innerHTML = '<option selected>' + this.text + '</option>';\n                    var selectedElement = this.hiddenElement.querySelector('option');\n                    selectedElement.setAttribute('value', value.toString());\n                }\n            }\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /**\n     * Filter bar implementation\n     *\n     * @param {KeyboardEventArgs} e - Specifies the event arguments.\n     * @returns {void}\n     */\n    DropDownList.prototype.onFilterUp = function (e) {\n        if (!(e.ctrlKey && e.keyCode === 86) && (this.isValidKey || e.keyCode === 40 || e.keyCode === 38)) {\n            this.isValidKey = false;\n            this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n            switch (e.keyCode) {\n                case 38: //up arrow\n                case 40: //down arrow\n                    if (this.getModuleName() === 'autocomplete' && !this.isPopupOpen && !this.preventAltUp && !this.isRequested) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else {\n                        this.preventAutoFill = false;\n                    }\n                    this.preventAltUp = false;\n                    if (this.getModuleName() === 'autocomplete' && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                        attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n                    }\n                    e.preventDefault();\n                    break;\n                case 46: //delete\n                case 8: //backspace\n                    this.typedString = this.filterInput.value;\n                    if (!this.isPopupOpen && this.typedString !== '' || this.isPopupOpen && this.queryString.length > 0) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '' && this.queryString === '' && this.getModuleName() !== 'autocomplete') {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '') {\n                        if (this.list) {\n                            this.resetFocusElement();\n                        }\n                        this.activeIndex = null;\n                        if (this.getModuleName() !== 'dropdownlist') {\n                            this.preventAutoFill = true;\n                            this.searchLists(e);\n                            if (this.getModuleName() === 'autocomplete') {\n                                this.hidePopup();\n                            }\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                default:\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        this.getInitialData = true;\n                        this.renderList();\n                    }\n                    this.typedString = this.filterInput.value;\n                    this.preventAutoFill = false;\n                    this.searchLists(e);\n                    if ((this.enableVirtualization && this.getModuleName() !== 'autocomplete') || (this.getModuleName() === 'autocomplete' && !(this.dataSource instanceof DataManager)) || (this.getModuleName() === 'autocomplete' && (this.dataSource instanceof DataManager) && this.totalItemCount != 0)) {\n                        this.getFilteringSkeletonCount();\n                    }\n                    break;\n            }\n        }\n        else {\n            this.isValidKey = false;\n        }\n    };\n    DropDownList.prototype.onFilterDown = function (e) {\n        switch (e.keyCode) {\n            case 13: //enter\n                break;\n            case 40: //down arrow\n            case 38: //up arrow\n                this.queryString = this.filterInput.value;\n                e.preventDefault();\n                break;\n            case 9: //tab\n                if (this.isPopupOpen && this.getModuleName() !== 'autocomplete') {\n                    e.preventDefault();\n                }\n                break;\n            default:\n                this.prevSelectPoints = this.getSelectionPoints();\n                this.queryString = this.filterInput.value;\n                break;\n        }\n    };\n    DropDownList.prototype.removeFillSelection = function () {\n        if (this.isInteracted) {\n            var selection = this.getSelectionPoints();\n            this.inputElement.setSelectionRange(selection.end, selection.end);\n        }\n    };\n    DropDownList.prototype.getQuery = function (query) {\n        var filterQuery;\n        if (!this.isCustomFilter && this.allowFiltering && this.filterInput) {\n            filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n            var filterType = this.typedString === '' ? 'contains' : this.filterType;\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n            else if (((this.getModuleName() !== 'combobox')) || (this.isFiltering() && this.getModuleName() === 'combobox' && this.typedString !== '')) {\n                var fields = (this.fields.text) ? this.fields.text : '';\n                filterQuery.where(fields, filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        else {\n            filterQuery = (this.enableVirtualization && !isNullOrUndefined(this.customFilterQuery)) ? this.customFilterQuery.clone() : query ? query.clone() : this.query ? this.query.clone() : new Query();\n        }\n        if (this.enableVirtualization && this.viewPortInfo.endIndex != 0) {\n            var takeValue = this.getTakeValue();\n            var alreadySkipAdded = false;\n            if (filterQuery) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        alreadySkipAdded = true;\n                        break;\n                    }\n                }\n            }\n            var queryTakeValue = 0;\n            var querySkipValue = 0;\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements_1 = 0; queryElements_1 < filterQuery.queries.length; queryElements_1++) {\n                    if (filterQuery.queries[queryElements_1].fn === 'onSkip') {\n                        querySkipValue = filterQuery.queries[queryElements_1].e.nos;\n                    }\n                    if (filterQuery.queries[queryElements_1].fn === 'onTake') {\n                        queryTakeValue = takeValue <= filterQuery.queries[queryElements_1].e.nos ? filterQuery.queries[queryElements_1].e.nos : takeValue;\n                    }\n                }\n            }\n            if (queryTakeValue <= 0 && this.query && this.query.queries.length > 0) {\n                for (var queryElements_2 = 0; queryElements_2 < this.query.queries.length; queryElements_2++) {\n                    if (this.query.queries[queryElements_2].fn === 'onTake') {\n                        queryTakeValue = takeValue <= this.query.queries[queryElements_2].e.nos ? this.query.queries[queryElements_2].e.nos : takeValue;\n                    }\n                }\n            }\n            var skipExists = false;\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements_3 = 0; queryElements_3 < filterQuery.queries.length; queryElements_3++) {\n                    if (filterQuery.queries[queryElements_3].fn === 'onSkip') {\n                        querySkipValue = filterQuery.queries[queryElements_3].e.nos;\n                        filterQuery.queries.splice(queryElements_3, 1);\n                        --queryElements_3;\n                        continue;\n                    }\n                    if (filterQuery.queries[queryElements_3].fn === 'onTake') {\n                        queryTakeValue = filterQuery.queries[queryElements_3].e.nos <= queryTakeValue ? queryTakeValue : filterQuery.queries[queryElements_3].e.nos;\n                        filterQuery.queries.splice(queryElements_3, 1);\n                        --queryElements_3;\n                    }\n                }\n            }\n            if (!skipExists && (this.allowFiltering || !this.isPopupOpen || !alreadySkipAdded)) {\n                if (querySkipValue > 0) {\n                    filterQuery.skip(querySkipValue);\n                }\n                else {\n                    filterQuery.skip(this.virtualItemStartIndex);\n                }\n            }\n            if (this.isIncrementalRequest) {\n                filterQuery.take(this.incrementalEndIndex);\n            }\n            else {\n                if (queryTakeValue > 0) {\n                    filterQuery.take(queryTakeValue);\n                }\n                else {\n                    filterQuery.take(takeValue);\n                }\n            }\n            filterQuery.requiresCount();\n        }\n        return filterQuery;\n    };\n    DropDownList.prototype.getSelectionPoints = function () {\n        var input = this.inputElement;\n        return { start: Math.abs(input.selectionStart), end: Math.abs(input.selectionEnd) };\n    };\n    DropDownList.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isTyped = true;\n        this.activeIndex = null;\n        this.isListSearched = true;\n        if (this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n        this.isDataFetched = false;\n        if (this.isFiltering()) {\n            this.checkAndResetCache();\n            var eventArgs_1 = {\n                preventDefaultAction: false,\n                text: this.filterInput.value,\n                updateData: function (dataSource, query, fields) {\n                    if (eventArgs_1.cancel) {\n                        return;\n                    }\n                    _this.isCustomFilter = true;\n                    _this.customFilterQuery = query.clone();\n                    _this.filteringAction(dataSource, query, fields);\n                },\n                baseEventArgs: e,\n                cancel: false\n            };\n            this.trigger('filtering', eventArgs_1, function (eventArgs) {\n                if (!eventArgs.cancel && !_this.isCustomFilter && !eventArgs.preventDefaultAction) {\n                    _this.filteringAction(_this.dataSource, null, _this.fields);\n                }\n            });\n        }\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    DropDownList.prototype.filter = function (dataSource, query, fields) {\n        this.isCustomFilter = true;\n        this.filteringAction(dataSource, query, fields);\n    };\n    DropDownList.prototype.filteringAction = function (dataSource, query, fields) {\n        if (!isNullOrUndefined(this.filterInput)) {\n            this.beforePopupOpen = ((!this.isPopupOpen && this.getModuleName() === 'combobox' && this.filterInput.value === '') || this.getInitialData) ?\n                false : true;\n            var isNoData = this.list.classList.contains(dropDownBaseClasses.noData);\n            if (this.filterInput.value.trim() === '' && !this.itemTemplate) {\n                this.actionCompleteData.isUpdated = false;\n                this.isTyped = false;\n                if (!isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n                    if (this.enableVirtualization) {\n                        if (this.isFiltering()) {\n                            this.isPreventScrollAction = true;\n                            this.list.scrollTop = 0;\n                            this.previousStartIndex = 0;\n                            this.virtualListInfo = null;\n                        }\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n                        this.resetList(dataSource, fields, query);\n                        if (isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                            if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                                this.list.appendChild(this.createElement('div', {\n                                    className: 'e-virtual-ddl-content',\n                                    styles: this.getTransformValues()\n                                })).appendChild(this.list.querySelector('.e-list-parent'));\n                            }\n                            if (!this.list.querySelector('.e-virtual-ddl')) {\n                                var virualElement = this.createElement('div', {\n                                    id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                                });\n                                document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                            }\n                        }\n                    }\n                    this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list);\n                }\n                this.isTyped = true;\n                if (!isNullOrUndefined(this.itemData) && this.getModuleName() === 'dropdownlist') {\n                    this.focusIndexItem();\n                    this.setScrollPosition();\n                }\n                this.isNotSearchList = true;\n            }\n            else {\n                this.isNotSearchList = false;\n                query = (this.filterInput.value.trim() === '') ? null : query;\n                if (this.enableVirtualization && this.isFiltering() && this.isTyped) {\n                    this.isPreventScrollAction = true;\n                    this.list.scrollTop = 0;\n                    this.previousStartIndex = 0;\n                    this.virtualListInfo = null;\n                }\n                this.resetList(dataSource, fields, query);\n                if (this.getModuleName() === 'dropdownlist' && this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    this.popupContentElement.setAttribute('role', 'status');\n                    this.popupContentElement.setAttribute('id', 'no-record');\n                    attributes(this.filterInputObj.container, { 'aria-activedescendant': 'no-record' });\n                }\n                if (this.enableVirtualization && isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                        this.list.appendChild(this.createElement('div', {\n                            className: 'e-virtual-ddl-content',\n                            styles: this.getTransformValues()\n                        })).appendChild(this.list.querySelector('.e-list-parent'));\n                    }\n                    if (!this.list.querySelector('.e-virtual-ddl')) {\n                        var virualElement = this.createElement('div', {\n                            id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                        });\n                        document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                    }\n                }\n            }\n            if (this.enableVirtualization) {\n                this.getFilteringSkeletonCount();\n            }\n            this.renderReactTemplates();\n        }\n    };\n    DropDownList.prototype.setSearchBox = function (popupElement) {\n        if (this.isFiltering()) {\n            var parentElement = popupElement.querySelector('.' + dropDownListClasses.filterParent) ?\n                popupElement.querySelector('.' + dropDownListClasses.filterParent) : this.createElement('span', {\n                className: dropDownListClasses.filterParent\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: dropDownListClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ?\n                    [dropDownListClasses.backIcon, dropDownListClasses.filterBarClearIcon] : [dropDownListClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            if (!isNullOrUndefined(this.cssClass)) {\n                if (this.cssClass.split(' ').indexOf('e-outline') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-outline');\n                }\n                else if (this.cssClass.split(' ').indexOf('e-filled') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-filled');\n                }\n            }\n            append([this.filterInputObj.container], parentElement);\n            prepend([parentElement], popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'role': 'combobox',\n                'autocomplete': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            if (!Browser.isDevice) {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.keyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            else {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.mobileKeyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            EventHandler.add(this.filterInput, 'input', this.onInput, this);\n            EventHandler.add(this.filterInput, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.filterInput, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n            EventHandler.add(this.filterInput, 'paste', this.pasteHandler, this);\n            return this.filterInputObj;\n        }\n        else {\n            return inputObject;\n        }\n    };\n    DropDownList.prototype.onInput = function (e) {\n        this.isValidKey = true;\n        if (this.getModuleName() === 'combobox') {\n            this.updateIconState();\n        }\n        // For filtering works in mobile firefox.\n        if (Browser.isDevice && Browser.info.name === 'mozilla') {\n            this.typedString = this.filterInput.value;\n            this.preventAutoFill = true;\n            this.searchLists(e);\n        }\n    };\n    DropDownList.prototype.pasteHandler = function (e) {\n        var _this = this;\n        setTimeout(function () {\n            _this.typedString = _this.filterInput.value;\n            _this.searchLists(e);\n        });\n    };\n    DropDownList.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        if (this.beforePopupOpen) {\n            this.renderPopup();\n        }\n    };\n    DropDownList.prototype.getTakeValue = function () {\n        return this.allowFiltering && this.getModuleName() === 'dropdownlist' && Browser.isDevice ? Math.round(window.outerHeight / this.listItemHeight) : this.itemCount;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownList.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        if (this.dataSource instanceof DataManager && !isNullOrUndefined(e) && !this.virtualGroupDataSource) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = e.count;\n        }\n        if (this.isNotSearchList && !this.enableVirtualization) {\n            this.isNotSearchList = false;\n            return;\n        }\n        if (this.getInitialData) {\n            this.updateActionCompleteDataValues(ulElement, list);\n        }\n        if (!this.preventPopupOpen && this.getModuleName() === 'combobox') {\n            this.beforePopupOpen = true;\n            this.preventPopupOpen = true;\n        }\n        var tempItemCount = this.itemCount;\n        if (this.isActive || !isNullOrUndefined(ulElement)) {\n            var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(true) : null;\n            _super.prototype.onActionComplete.call(this, ulElement, list, e);\n            this.skeletonCount = this.totalItemCount != 0 && this.totalItemCount < (this.itemCount * 2) ? 0 : this.skeletonCount;\n            this.updateSelectElementData(this.allowFiltering);\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && this.searchKeyEvent.type === 'keydown') {\n                this.isRequested = false;\n                this.keyActionHandler(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent)) {\n                this.incrementalSearch(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (!this.enableVirtualization) {\n                this.list.scrollTop = 0;\n            }\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false', 'aria-label': 'listbox' });\n            }\n            if (this.initialRemoteRender) {\n                this.initial = true;\n                this.activeIndex = this.index;\n                this.initialRemoteRender = false;\n                if (this.value && this.dataSource instanceof DataManager) {\n                    var checkField_1 = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n                    var value_5 = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(checkField_1, this.value) : this.value;\n                    var fieldValue_1 = this.fields.value.split('.');\n                    var checkVal = list.some(function (x) {\n                        return isNullOrUndefined(x[checkField_1]) && fieldValue_1.length > 1 ?\n                            _this.checkFieldValue(x, fieldValue_1) === value_5 : x[checkField_1] === value_5;\n                    });\n                    if (this.enableVirtualization && this.virtualGroupDataSource) {\n                        checkVal = this.virtualGroupDataSource.some(function (x) {\n                            return isNullOrUndefined(x[checkField_1]) && fieldValue_1.length > 1 ?\n                                _this.checkFieldValue(x, fieldValue_1) === value_5 : x[checkField_1] === value_5;\n                        });\n                    }\n                    if (!checkVal) {\n                        this.dataSource.executeQuery(this.getQuery(this.query).where(new Predicate(checkField_1, 'equal', value_5)))\n                            .then(function (e) {\n                            if (e.result.length > 0) {\n                                _this.addItem(e.result, list.length);\n                                _this.updateValues();\n                            }\n                            else {\n                                _this.updateValues();\n                            }\n                        });\n                    }\n                    else {\n                        this.updateValues();\n                    }\n                }\n                else {\n                    this.updateValues();\n                }\n                this.initial = false;\n            }\n            else if (this.getModuleName() === 'autocomplete' && this.value) {\n                this.setInputValue();\n            }\n            if (this.getModuleName() !== 'autocomplete' && this.isFiltering() && !this.isTyped) {\n                if (!this.actionCompleteData.isUpdated || ((!this.isCustomFilter\n                    && !this.isFilterFocus) || (isNullOrUndefined(this.itemData) && this.allowFiltering)\n                    && ((this.dataSource instanceof DataManager)\n                        || (!isNullOrUndefined(this.dataSource) && !isNullOrUndefined(this.dataSource.length) &&\n                            this.dataSource.length !== 0)))) {\n                    if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n                        setTimeout(function () {\n                            _this.updateActionCompleteDataValues(ulElement, list);\n                        }, 0);\n                    }\n                    else {\n                        this.updateActionCompleteDataValues(ulElement, list);\n                    }\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                if ((this.allowCustom || (this.allowFiltering && !this.isValueInList(list, this.value) && this.dataSource instanceof DataManager)) && !this.enableVirtualization) {\n                    this.addNewItem(list, selectedItem);\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                else if ((this.allowCustom || (this.allowFiltering && this.isValueInList(list, this.value))) && !this.enableVirtualization) {\n                    this.addNewItem(list, selectedItem);\n                }\n                if (!isNullOrUndefined(this.itemData) || (isNullOrUndefined(this.itemData) && this.enableVirtualization)) {\n                    this.getSkeletonCount();\n                    this.skeletonCount = this.totalItemCount != 0 && this.totalItemCount < (this.itemCount * 2) ? 0 : this.skeletonCount;\n                    this.UpdateSkeleton();\n                    this.focusIndexItem();\n                }\n                if (this.enableVirtualization) {\n                    this.updateActionCompleteDataValues(ulElement, list);\n                }\n            }\n            else if (this.enableVirtualization && this.getModuleName() !== 'autocomplete' && !this.isFiltering()) {\n                var value = this.getItemData().value;\n                this.activeIndex = this.getIndexByValue(value);\n                var element = this.findListElement(this.list, 'li', 'data-value', value);\n                this.selectedLI = element;\n            }\n            else if (this.enableVirtualization && this.getModuleName() === 'autocomplete') {\n                this.activeIndex = this.skeletonCount;\n            }\n            if (this.beforePopupOpen) {\n                this.renderPopup(e);\n                if (this.enableVirtualization) {\n                    if (!this.list.querySelector('.e-virtual-list')) {\n                        this.UpdateSkeleton();\n                        this.liCollections = this.list.querySelectorAll('.e-list-item');\n                    }\n                }\n                if (this.enableVirtualization && tempItemCount != this.itemCount) {\n                    this.resetList(this.dataSource, this.fields);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.isValueInList = function (list, valueToFind) {\n        if (Array.isArray(list)) {\n            for (var i = 0; i < list.length; i++) {\n                if (list[i] === valueToFind) {\n                    return true;\n                }\n            }\n        }\n        else if (typeof list === 'object' && list !== null) {\n            for (var key in list) {\n                if (Object.prototype.hasOwnProperty.call(list, key) && list[key] === valueToFind) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.checkFieldValue = function (list, fieldValue) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var checkField = list;\n        fieldValue.forEach(function (value) {\n            checkField = checkField[value];\n        });\n        return checkField;\n    };\n    DropDownList.prototype.updateActionCompleteDataValues = function (ulElement, list) {\n        this.actionCompleteData = { ulElement: ulElement.cloneNode(true), list: list, isUpdated: true };\n        if (this.actionData.list !== this.actionCompleteData.list && this.actionCompleteData.ulElement && this.actionCompleteData.list) {\n            this.actionData = this.actionCompleteData;\n        }\n    };\n    DropDownList.prototype.addNewItem = function (listData, newElement) {\n        var _this = this;\n        if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {\n            var value_6 = this.getItemData().value;\n            var isExist = listData.some(function (data) {\n                return (((typeof data === 'string' || typeof data === 'number') && data === value_6) ||\n                    (getValue(_this.fields.value, data) === value_6));\n            });\n            if (!isExist) {\n                this.addItem(this.itemData);\n            }\n        }\n    };\n    DropDownList.prototype.updateActionCompleteData = function (li, item, index) {\n        var _this = this;\n        if (this.getModuleName() !== 'autocomplete' && this.actionCompleteData.ulElement) {\n            if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n                setTimeout(function () {\n                    _this.actionCompleteDataUpdate(li, item, index);\n                }, 0);\n            }\n            else {\n                this.actionCompleteDataUpdate(li, item, index);\n            }\n        }\n    };\n    DropDownList.prototype.actionCompleteDataUpdate = function (li, item, index) {\n        if (index !== null) {\n            this.actionCompleteData.ulElement.\n                insertBefore(li.cloneNode(true), this.actionCompleteData.ulElement.childNodes[index]);\n        }\n        else {\n            this.actionCompleteData.ulElement.appendChild(li.cloneNode(true));\n        }\n        if (this.isFiltering() && this.actionCompleteData.list && this.actionCompleteData.list.indexOf(item) < 0) {\n            this.actionCompleteData.list.push(item);\n        }\n    };\n    DropDownList.prototype.focusIndexItem = function () {\n        var value = this.getItemData().value;\n        this.activeIndex = ((this.enableVirtualization && !isNullOrUndefined(value)) || !this.enableVirtualization) ? this.getIndexByValue(value) : this.activeIndex;\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.selectedLI = element;\n        this.activeItem(element);\n        if (!(this.enableVirtualization && isNullOrUndefined(element))) {\n            this.removeFocus();\n        }\n    };\n    DropDownList.prototype.updateSelection = function () {\n        var selectedItem = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        if (selectedItem) {\n            this.setProperties({ 'index': this.getIndexByValue(selectedItem.getAttribute('data-value')) });\n            this.activeIndex = this.index;\n        }\n        else {\n            this.removeFocus();\n            this.list.querySelector('.' + dropDownBaseClasses.li).classList.add(dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.updateSelectionList = function () {\n        var selectedItem = this.list && this.list.querySelector('.' + 'e-active');\n        if (!selectedItem && !isNullOrUndefined(this.value)) {\n            var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            var findEle = this.findListElement(this.list, 'li', 'data-value', value);\n            if (findEle) {\n                findEle.classList.add('e-active');\n            }\n        }\n    };\n    DropDownList.prototype.removeFocus = function () {\n        var highlightedItem = this.list.querySelectorAll('.' + dropDownListClasses.focus);\n        if (highlightedItem && highlightedItem.length) {\n            removeClass(highlightedItem, dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.renderPopup = function (e) {\n        var _this = this;\n        if (this.popupObj && document.body.contains(this.popupObj.element)) {\n            this.refreshPopup();\n            return;\n        }\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                var popupEle = _this.createElement('div', {\n                    id: _this.element.id + '_popup', className: 'e-ddl e-popup ' + (_this.cssClass !== null ? _this.cssClass : '')\n                });\n                popupEle.setAttribute('aria-label', _this.element.id);\n                popupEle.setAttribute('role', 'dialog');\n                var searchBox = _this.setSearchBox(popupEle);\n                _this.listContainerHeight = _this.allowFiltering && _this.getModuleName() === 'dropdownlist' && Browser.isDevice ? formatUnit(Math.round(window.outerHeight).toString() + 'px') : formatUnit(_this.popupHeight);\n                if (_this.headerTemplate) {\n                    _this.setHeaderTemplate(popupEle);\n                }\n                append([_this.list], popupEle);\n                if (_this.footerTemplate) {\n                    _this.setFooterTemplate(popupEle);\n                }\n                document.body.appendChild(popupEle);\n                popupEle.style.top = '0px';\n                if (_this.enableVirtualization && _this.itemTemplate) {\n                    var listitems = popupEle.querySelectorAll('li.e-list-item:not(.e-virtual-list)');\n                    _this.listItemHeight = listitems.length > 0 ? Math.ceil(listitems[0].getBoundingClientRect().height) : 0;\n                }\n                if (_this.enableVirtualization && !_this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    _this.getSkeletonCount();\n                    _this.skeletonCount = _this.totalItemCount < (_this.itemCount * 2) ? 0 : _this.skeletonCount;\n                    if (!_this.list.querySelector('.e-virtual-ddl-content')) {\n                        _this.list.appendChild(_this.createElement('div', {\n                            className: 'e-virtual-ddl-content',\n                            styles: _this.getTransformValues()\n                        })).appendChild(_this.list.querySelector('.e-list-parent'));\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = _this.getTransformValues();\n                    }\n                    _this.UpdateSkeleton();\n                    _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    _this.virtualItemCount = _this.itemCount;\n                    if (!_this.list.querySelector('.e-virtual-ddl')) {\n                        var virualElement = _this.createElement('div', {\n                            id: _this.element.id + '_popup', className: 'e-virtual-ddl', styles: _this.GetVirtualTrackHeight()\n                        });\n                        popupEle.querySelector('.e-dropdownbase').appendChild(virualElement);\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.list.getElementsByClassName('e-virtual-ddl')[0].style = _this.GetVirtualTrackHeight();\n                    }\n                }\n                popupEle.style.visibility = 'hidden';\n                if (_this.popupHeight !== 'auto') {\n                    _this.searchBoxHeight = 0;\n                    if (!isNullOrUndefined(searchBox.container) && _this.getModuleName() !== 'combobox' && _this.getModuleName() !== 'autocomplete') {\n                        _this.searchBoxHeight = (searchBox.container.parentElement).getBoundingClientRect().height;\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) - (_this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.headerTemplate) {\n                        _this.header = _this.header ? _this.header : popupEle.querySelector('.e-ddl-header');\n                        var height = Math.round(_this.header.getBoundingClientRect().height);\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.footerTemplate) {\n                        _this.footer = _this.footer ? _this.footer : popupEle.querySelector('.e-ddl-footer');\n                        var height = Math.round(_this.footer.getBoundingClientRect().height);\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    _this.list.style.maxHeight = (parseInt(_this.listContainerHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n                    popupEle.style.maxHeight = formatUnit(_this.popupHeight);\n                }\n                else {\n                    popupEle.style.height = 'auto';\n                }\n                var offsetValue = 0;\n                var left = void 0;\n                _this.isPreventScrollAction = true;\n                if (!isNullOrUndefined(_this.selectedLI) && (!isNullOrUndefined(_this.activeIndex) && _this.activeIndex >= 0)) {\n                    _this.setScrollPosition();\n                }\n                else if (_this.enableVirtualization) {\n                    _this.setScrollPosition();\n                }\n                else {\n                    _this.list.scrollTop = 0;\n                }\n                if (Browser.isDevice && (!_this.allowFiltering && (_this.getModuleName() === 'dropdownlist' ||\n                    (_this.isDropDownClick && _this.getModuleName() === 'combobox')))) {\n                    offsetValue = _this.getOffsetValue(popupEle);\n                    var firstItem = _this.isEmptyList() ? _this.list : _this.liCollections[0];\n                    if (!isNullOrUndefined(_this.inputElement)) {\n                        left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                            parseInt(getComputedStyle(_this.inputElement).paddingLeft, 10) +\n                            parseInt(getComputedStyle(_this.inputElement.parentElement).borderLeftWidth, 10));\n                    }\n                }\n                _this.createPopup(popupEle, offsetValue, left);\n                _this.popupContentElement = _this.popupObj.element.querySelector('.e-content');\n                _this.getFocusElement();\n                _this.checkCollision(popupEle);\n                if (Browser.isDevice) {\n                    if ((parseInt(_this.popupWidth.toString(), 10) > window.outerWidth) && !(_this.getModuleName() === 'dropdownlist' && _this.allowFiltering)) {\n                        _this.popupObj.element.classList.add('e-wide-popup');\n                    }\n                    _this.popupObj.element.classList.add(dropDownListClasses.device);\n                    if (_this.getModuleName() === 'dropdownlist' || (_this.getModuleName() === 'combobox'\n                        && !_this.allowFiltering && _this.isDropDownClick)) {\n                        _this.popupObj.collision = { X: 'fit', Y: 'fit' };\n                    }\n                    if (_this.isFilterLayout()) {\n                        _this.popupObj.element.classList.add(dropDownListClasses.mobileFilter);\n                        _this.popupObj.position = { X: 0, Y: 0 };\n                        _this.popupObj.dataBind();\n                        attributes(_this.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n                        addClass([document.body, _this.popupObj.element], dropDownListClasses.popupFullScreen);\n                        _this.setSearchBoxPosition();\n                        _this.backIconElement = searchBox.container.querySelector('.e-back-icon');\n                        _this.clearIconElement = searchBox.container.querySelector('.' + dropDownListClasses.clearIcon);\n                        EventHandler.add(_this.backIconElement, 'click', _this.clickOnBackIcon, _this);\n                        EventHandler.add(_this.clearIconElement, 'click', _this.clearText, _this);\n                    }\n                }\n                popupEle.style.visibility = 'visible';\n                addClass([popupEle], 'e-popup-close');\n                var scrollParentElements = _this.popupObj.getScrollableParent(_this.inputWrapper.container);\n                for (var _i = 0, scrollParentElements_1 = scrollParentElements; _i < scrollParentElements_1.length; _i++) {\n                    var element = scrollParentElements_1[_i];\n                    EventHandler.add(element, 'scroll', _this.scrollHandler, _this);\n                }\n                if (!isNullOrUndefined(_this.list)) {\n                    _this.unWireListEvents();\n                    _this.wireListEvents();\n                }\n                _this.selectedElementID = _this.selectedLI ? _this.selectedLI.id : null;\n                if (_this.enableVirtualization) {\n                    _this.notify(\"bindScrollEvent\", {\n                        module: \"VirtualScroll\",\n                        component: _this.getModuleName(),\n                        enable: _this.enableVirtualization,\n                    });\n                    setTimeout(function () {\n                        if (_this.value || _this.list.querySelector('.e-active')) {\n                            _this.updateSelectionList();\n                            if (_this.selectedValueInfo && _this.viewPortInfo && _this.viewPortInfo.offsets.top) {\n                                _this.list.scrollTop = _this.viewPortInfo.offsets.top;\n                            }\n                            else {\n                                _this.scrollBottom(true, true);\n                            }\n                        }\n                    }, 5);\n                }\n                attributes(_this.targetElement(), { 'aria-expanded': 'true', 'aria-owns': _this.element.id + '_popup', 'aria-controls': _this.element.id });\n                if (_this.getModuleName() !== 'dropdownlist' && _this.list.classList.contains('e-nodata')) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': 'no-record' });\n                    _this.popupContentElement.setAttribute('role', 'status');\n                    _this.popupContentElement.setAttribute('id', 'no-record');\n                }\n                _this.inputElement.setAttribute('aria-expanded', 'true');\n                _this.inputElement.setAttribute('aria-controls', _this.element.id + '_popup');\n                var inputParent = _this.isFiltering() ? _this.filterInput.parentElement : _this.inputWrapper.container;\n                addClass([inputParent], [dropDownListClasses.inputFocus]);\n                var animModel = { name: 'FadeIn', duration: 100 };\n                _this.beforePopupOpen = true;\n                var popupInstance = _this.popupObj;\n                var eventArgs = { popup: popupInstance, event: e, cancel: false, animation: animModel };\n                _this.trigger('open', eventArgs, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        if (!isNullOrUndefined(_this.inputWrapper)) {\n                            addClass([_this.inputWrapper.container], [dropDownListClasses.iconAnimation]);\n                        }\n                        _this.renderReactTemplates();\n                        if (!isNullOrUndefined(_this.popupObj)) {\n                            _this.popupObj.show(new Animation(eventArgs.animation), (_this.zIndex === 1000) ? _this.element : null);\n                        }\n                    }\n                    else {\n                        _this.beforePopupOpen = false;\n                        _this.destroyPopup();\n                    }\n                });\n            }\n            else {\n                _this.beforePopupOpen = false;\n            }\n        });\n    };\n    DropDownList.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'dropdownlist' || this.isDropDownClick))) {\n            var collision = isCollide(popupEle);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    DropDownList.prototype.getOffsetValue = function (popupEle) {\n        var popupStyles = getComputedStyle(popupEle);\n        var borderTop = parseInt(popupStyles.borderTopWidth, 10);\n        var borderBottom = parseInt(popupStyles.borderBottomWidth, 10);\n        return this.setPopupPosition(borderTop + borderBottom);\n    };\n    DropDownList.prototype.createPopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputWrapper.container,\n            collision: this.enableRtl ? { X: 'fit', Y: 'flip' } : { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left,\n            position: this.enableRtl ? { X: 'right', Y: 'bottom' } : { X: 'left', Y: 'bottom' },\n            zIndex: this.zIndex,\n            close: function () {\n                if (!_this.isDocumentClick) {\n                    _this.focusDropDown();\n                }\n                // eslint-disable-next-line\n                if (_this.isReact) {\n                    _this.clearTemplate(['headerTemplate', 'footerTemplate']);\n                }\n                _this.isNotSearchList = false;\n                _this.isDocumentClick = false;\n                _this.destroyPopup();\n                if (_this.isFiltering() && _this.actionCompleteData.list && _this.actionCompleteData.list[0]) {\n                    _this.isActive = true;\n                    if (_this.enableVirtualization) {\n                        _this.onActionComplete(_this.ulElement, _this.listData, null, true);\n                    }\n                    else {\n                        _this.onActionComplete(_this.actionCompleteData.ulElement, _this.actionCompleteData.list, null, true);\n                    }\n                }\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                var actionList = _this.actionCompleteData && _this.actionCompleteData.ulElement &&\n                    _this.actionCompleteData.ulElement.querySelector('li');\n                var ulElement = _this.list.querySelector('ul li');\n                if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': _this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n                }\n                else if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-active')[0])) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': _this.ulElement.getElementsByClassName('e-active')[0].id });\n                }\n                if (_this.isFiltering() && _this.itemTemplate && (_this.element.tagName === _this.getNgDirective()) &&\n                    (actionList && ulElement && actionList.textContent !== ulElement.textContent) &&\n                    _this.element.tagName !== 'EJS-COMBOBOX') {\n                    _this.cloneElements();\n                }\n                if (_this.isFilterLayout()) {\n                    removeClass([_this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n                    _this.isFilterFocus = true;\n                    _this.filterInput.focus();\n                    if (_this.inputWrapper.clearButton) {\n                        addClass([_this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n                    }\n                }\n                _this.activeStateChange();\n            },\n            targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hidePopup();\n                }\n            }\n        });\n    };\n    DropDownList.prototype.isEmptyList = function () {\n        return !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0;\n    };\n    DropDownList.prototype.getFocusElement = function () {\n        // combo-box used this method\n    };\n    DropDownList.prototype.isFilterLayout = function () {\n        return this.getModuleName() === 'dropdownlist' && this.allowFiltering;\n    };\n    DropDownList.prototype.scrollHandler = function () {\n        if (Browser.isDevice && ((this.getModuleName() === 'dropdownlist' &&\n            !this.isFilterLayout()) || (this.getModuleName() === 'combobox' && !this.allowFiltering && this.isDropDownClick))) {\n            if (this.element && !(this.isElementInViewport(this.element))) {\n                this.hidePopup();\n            }\n        }\n    };\n    DropDownList.prototype.isElementInViewport = function (element) {\n        var elementRect = element.getBoundingClientRect();\n        return (elementRect.top >= 0 && elementRect.left >= 0 && elementRect.bottom <= window.innerHeight && elementRect.right <= window.innerWidth);\n    };\n    ;\n    DropDownList.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        this.popupObj.element.style.maxHeight = '100%';\n        this.popupObj.element.style.width = '100%';\n        this.list.style.maxHeight = (window.innerHeight - searchBoxHeight) + 'px';\n        this.list.style.height = (window.innerHeight - searchBoxHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    DropDownList.prototype.setPopupPosition = function (border) {\n        var offsetValue;\n        var popupOffset = border;\n        var selectedLI = this.list.querySelector('.' + dropDownListClasses.focus) || this.selectedLI;\n        var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n        var lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1];\n        var liHeight = firstItem.getBoundingClientRect().height;\n        this.listItemHeight = liHeight;\n        var listHeight = this.list.offsetHeight / 2;\n        var height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;\n        var lastItemOffsetValue = lastItem.offsetTop;\n        if (lastItemOffsetValue - listHeight < height && !isNullOrUndefined(this.liCollections) &&\n            this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {\n            var count = this.list.offsetHeight / liHeight;\n            var paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);\n            offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom;\n            this.list.scrollTop = selectedLI.offsetTop;\n        }\n        else if (height > listHeight && !this.enableVirtualization) {\n            offsetValue = listHeight - liHeight / 2;\n            this.list.scrollTop = height - listHeight + liHeight / 2;\n        }\n        else {\n            offsetValue = height;\n        }\n        var inputHeight = this.inputWrapper.container.offsetHeight;\n        offsetValue = offsetValue + liHeight + popupOffset - ((liHeight - inputHeight) / 2);\n        return -offsetValue;\n    };\n    DropDownList.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputWrapper.container.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        if (Browser.isDevice && (width.indexOf('px') > -1) && (!this.allowFiltering && (this.getModuleName() === 'dropdownlist' ||\n            (this.isDropDownClick && this.getModuleName() === 'combobox')))) {\n            var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n            width = (parseInt(width, 10) + (parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) +\n                parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) * 2) + 'px';\n        }\n        return width;\n    };\n    DropDownList.prototype.scrollBottom = function (isInitial, isInitialSelection, keyAction) {\n        var _this = this;\n        if (isInitialSelection === void 0) { isInitialSelection = false; }\n        if (keyAction === void 0) { keyAction = null; }\n        if (isNullOrUndefined(this.selectedLI) && this.enableVirtualization) {\n            this.selectedLI = this.list.querySelector('.' + dropDownBaseClasses.li);\n            if (!isNullOrUndefined(this.selectedLI) && this.selectedLI.classList.contains('e-virtual-list')) {\n                this.selectedLI = this.liCollections[this.skeletonCount];\n            }\n        }\n        if (!isNullOrUndefined(this.selectedLI)) {\n            this.isUpwardScrolling = false;\n            var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n            var lastElementValue = this.list.querySelector('li:last-of-type') ? this.list.querySelector('li:last-of-type').getAttribute('data-value') : null;\n            var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n            var currentOffset = this.list.offsetHeight;\n            var nextBottom = selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) + this.selectedLI.offsetHeight - this.list.scrollTop;\n            var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n            var isScrollerCHanged = false;\n            var isScrollTopChanged = false;\n            nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10);\n            var boxRange = selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) + this.selectedLI.offsetHeight - this.list.scrollTop;\n            boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n            if (this.activeIndex === 0 && !this.enableVirtualization) {\n                this.list.scrollTop = 0;\n                isScrollerCHanged = this.isKeyBoardAction;\n            }\n            else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n                var liCount = keyAction == \"pageDown\" ? this.getPageCount() - 2 : 1;\n                if (!this.enableVirtualization || this.isKeyBoardAction || isInitialSelection) {\n                    if (this.isKeyBoardAction && this.enableVirtualization && lastElementValue && currentElementValue === lastElementValue && keyAction != \"end\" && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = true;\n                        if (this.enableVirtualization && this.itemTemplate) {\n                            this.list.scrollTop += nextOffset;\n                        }\n                        else {\n                            if (this.enableVirtualization) {\n                                liCount = keyAction == \"pageDown\" ? this.getPageCount() + 1 : liCount;\n                            }\n                            this.list.scrollTop += this.selectedLI.offsetHeight * liCount;\n                        }\n                        this.isPreventKeyAction = this.IsScrollerAtEnd() ? false : this.isPreventKeyAction;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                    }\n                    else if (this.enableVirtualization && keyAction == \"end\") {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                        this.list.scrollTop = this.list.scrollHeight;\n                    }\n                    else {\n                        if (keyAction == \"pageDown\" && this.enableVirtualization && !this.isVirtualScrolling) {\n                            this.isPreventKeyAction = false;\n                            this.isKeyBoardAction = false;\n                            this.isPreventScrollAction = false;\n                        }\n                        this.list.scrollTop = nextOffset;\n                    }\n                }\n                else {\n                    this.list.scrollTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.virtualListInfo.startIndex * this.listItemHeight : 0;\n                }\n                isScrollerCHanged = this.isKeyBoardAction;\n                isScrollTopChanged = true;\n            }\n            this.isKeyBoardAction = isScrollerCHanged;\n            if (this.enableVirtualization && this.fields.groupBy && this.fixedHeaderElement && (keyAction == \"down\")) {\n                setTimeout(function () {\n                    _this.scrollStop(null, true);\n                }, 100);\n            }\n        }\n    };\n    DropDownList.prototype.scrollTop = function (keyAction) {\n        if (keyAction === void 0) { keyAction = null; }\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n            var selectedLiOffsetTop = (this.virtualListInfo && this.virtualListInfo.startIndex) ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n            var nextOffset = selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) - this.list.scrollTop;\n            var firstElementValue = this.list.querySelector('li.e-list-item:not(.e-virtual-list)') ? this.list.querySelector('li.e-list-item:not(.e-virtual-list)').getAttribute('data-value') : null;\n            nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n            var boxRange = (selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) + this.selectedLI.offsetHeight - this.list.scrollTop);\n            var isPageUpKeyAction = this.enableVirtualization && this.getModuleName() === 'autocomplete' && nextOffset <= 0;\n            if (this.activeIndex === 0 && !this.enableVirtualization) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextOffset < 0 || isPageUpKeyAction) {\n                var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n                var liCount = keyAction == \"pageUp\" ? this.getPageCount() - 2 : 1;\n                if (this.enableVirtualization) {\n                    liCount = keyAction == \"pageUp\" ? this.getPageCount() : liCount;\n                }\n                if (this.enableVirtualization && this.isKeyBoardAction && firstElementValue && currentElementValue === firstElementValue && keyAction != \"home\" && !this.isVirtualScrolling) {\n                    this.isUpwardScrolling = true;\n                    this.isPreventKeyAction = true;\n                    this.list.scrollTop -= this.selectedLI.offsetHeight * liCount;\n                    this.isPreventKeyAction = this.list.scrollTop != 0 ? this.isPreventKeyAction : false;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                }\n                else if (this.enableVirtualization && keyAction == \"home\") {\n                    this.isPreventScrollAction = false;\n                    this.isPreventKeyAction = true;\n                    this.isKeyBoardAction = false;\n                    this.list.scrollTo(0, 0);\n                }\n                else {\n                    if (keyAction == \"pageUp\" && this.enableVirtualization && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                    }\n                    this.list.scrollTop = this.list.scrollTop + nextOffset;\n                }\n            }\n            else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                    this.fixedHeaderElement.offsetHeight : 0);\n            }\n        }\n    };\n    DropDownList.prototype.isEditTextBox = function () {\n        return false;\n    };\n    DropDownList.prototype.isFiltering = function () {\n        return this.allowFiltering;\n    };\n    DropDownList.prototype.isPopupButton = function () {\n        return true;\n    };\n    DropDownList.prototype.setScrollPosition = function (e) {\n        this.isPreventScrollAction = true;\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.isKeyBoardAction = true;\n                    this.scrollBottom(false, false, e.action);\n                    break;\n                default:\n                    this.isKeyBoardAction = e.action == 'up' || e.action == 'pageUp' || e.action == 'open';\n                    this.scrollTop(e.action);\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n        this.isKeyBoardAction = false;\n    };\n    DropDownList.prototype.clearText = function () {\n        this.filterInput.value = this.typedString = '';\n        this.searchLists(null);\n        if (this.enableVirtualization) {\n            this.list.scrollTop = 0;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n            }\n            this.getSkeletonCount();\n            this.UpdateSkeleton();\n            this.liCollections = this.list.querySelectorAll('.e-list-item');\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n            }\n        }\n    };\n    DropDownList.prototype.setEleWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.inputWrapper.container.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.inputWrapper.container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    DropDownList.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        var isFilterValue = !isNullOrUndefined(this.filterInput) && !isNullOrUndefined(this.filterInput.value) && this.filterInput.value !== '';\n        var typedString = this.getModuleName() === 'combobox' ? this.typedString : null;\n        this.isTyped = false;\n        this.isVirtualTrackHeight = false;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        this.keyboardEvent = null;\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.isActive = false;\n        if (this.getModuleName() === 'dropdownlist') {\n            Input.destroy({\n                element: this.filterInput,\n                floatLabelType: this.floatLabelType,\n                properties: { placeholder: this.filterBarPlaceholder },\n                buttons: this.clearIconElement,\n            }, this.clearIconElement);\n        }\n        this.filterInputObj = null;\n        this.isDropDownClick = false;\n        this.preventAutoFill = false;\n        var scrollableParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n        for (var _i = 0, scrollableParentElements_1 = scrollableParentElements; _i < scrollableParentElements_1.length; _i++) {\n            var element = scrollableParentElements_1[_i];\n            EventHandler.remove(element, 'scroll', this.scrollHandler);\n        }\n        if (Browser.isDevice && this.isFilterLayout()) {\n            removeClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n        }\n        if (this.isFilterLayout()) {\n            if (!Browser.isDevice) {\n                this.searchKeyModule.destroy();\n                if (this.clearIconElement) {\n                    EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n                }\n            }\n            if (this.backIconElement) {\n                EventHandler.remove(this.backIconElement, 'click', this.clickOnBackIcon);\n                EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n            }\n            if (!isNullOrUndefined(this.filterInput)) {\n                EventHandler.remove(this.filterInput, 'input', this.onInput);\n                EventHandler.remove(this.filterInput, 'keyup', this.onFilterUp);\n                EventHandler.remove(this.filterInput, 'keydown', this.onFilterDown);\n                EventHandler.remove(this.filterInput, 'blur', this.onBlurHandler);\n                EventHandler.remove(this.filterInput, 'paste', this.pasteHandler);\n            }\n            if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n                this.filterInput.removeAttribute('aria-activedescendant');\n                this.filterInput.removeAttribute('aria-disabled');\n                this.filterInput.removeAttribute('role');\n                this.filterInput.removeAttribute('autocomplete');\n                this.filterInput.removeAttribute('autocapitalize');\n                this.filterInput.removeAttribute('spellcheck');\n            }\n            this.filterInput = null;\n        }\n        attributes(this.targetElement(), { 'aria-expanded': 'false' });\n        this.inputElement.setAttribute('aria-expanded', 'false');\n        this.targetElement().removeAttribute('aria-owns');\n        this.targetElement().removeAttribute('aria-activedescendant');\n        this.inputWrapper.container.classList.remove(dropDownListClasses.iconAnimation);\n        if (this.isFiltering()) {\n            this.actionCompleteData.isUpdated = false;\n        }\n        if (this.enableVirtualization) {\n            if ((this.value == null || this.isTyped)) {\n                this.viewPortInfo.endIndex = this.viewPortInfo && this.viewPortInfo.endIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n                if (this.getModuleName() === 'autocomplete' || (this.getModuleName() === 'dropdownlist' && !isNullOrUndefined(this.typedString) && this.typedString != \"\") || (this.getModuleName() === 'combobox' && this.allowFiltering && !isNullOrUndefined(this.typedString) && this.typedString != \"\")) {\n                    this.checkAndResetCache();\n                }\n            }\n            else if (this.getModuleName() === 'autocomplete') {\n                this.checkAndResetCache();\n            }\n            if ((this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox') && !(this.skeletonCount == 0)) {\n                this.getSkeletonCount(true);\n            }\n        }\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var popupInstance = this.popupObj;\n        var eventArgs = { popup: popupInstance, cancel: false, animation: animModel, event: e || null };\n        this.trigger('close', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.popupObj) &&\n                !isNullOrUndefined(_this.popupObj.element.querySelector('.e-fixed-head'))) {\n                var fixedHeader = _this.popupObj.element.querySelector('.e-fixed-head');\n                fixedHeader.parentNode.removeChild(fixedHeader);\n                _this.fixedHeaderElement = null;\n            }\n            if (!eventArgs.cancel) {\n                if (_this.getModuleName() === 'autocomplete') {\n                    _this.rippleFun();\n                }\n                if (_this.isPopupOpen) {\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                }\n                else {\n                    _this.destroyPopup();\n                }\n            }\n        });\n        if (Browser.isDevice && !eventArgs.cancel && this.popupObj.element.classList.contains('e-wide-popup')) {\n            this.popupObj.element.classList.remove('e-wide-popup');\n        }\n        var dataSourceCount;\n        if (this.dataSource instanceof DataManager) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.virtualGroupDataSource && this.virtualGroupDataSource.length ? this.virtualGroupDataSource.length : 0;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.enableVirtualization && this.isFiltering() && isFilterValue && this.totalItemCount !== dataSourceCount) {\n            this.updateInitialData();\n            this.checkAndResetCache();\n        }\n    };\n    DropDownList.prototype.updateInitialData = function () {\n        var currentData = this.selectData;\n        var ulElement = this.renderItems(currentData, this.fields);\n        this.list.scrollTop = 0;\n        this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount,\n        };\n        if (this.getModuleName() === 'combobox') {\n            this.typedString = \"\";\n        }\n        this.previousStartIndex = 0;\n        this.previousEndIndex = 0;\n        if (this.dataSource instanceof DataManager) {\n            if (this.remoteDataCount >= 0) {\n                this.totalItemCount = this.dataCount = this.remoteDataCount;\n            }\n            else {\n                this.resetList(this.dataSource);\n            }\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n        }\n        if (this.getModuleName() !== 'autocomplete' && this.totalItemCount != 0 && this.totalItemCount > (this.itemCount * 2)) {\n            this.getSkeletonCount();\n        }\n        this.UpdateSkeleton();\n        this.listData = currentData;\n        this.updateActionCompleteDataValues(ulElement, currentData);\n        this.liCollections = this.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n    };\n    DropDownList.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        this.isFilterFocus = false;\n        this.inputElement.removeAttribute('aria-controls');\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n    };\n    DropDownList.prototype.clickOnBackIcon = function () {\n        this.hidePopup();\n        this.focusIn();\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownList.prototype.render = function () {\n        this.preselectedIndex = !isNullOrUndefined(this.index) ? this.index : null;\n        if (this.element.tagName === 'INPUT') {\n            this.inputElement = this.element;\n            if (isNullOrUndefined(this.inputElement.getAttribute('role'))) {\n                this.inputElement.setAttribute('role', 'combobox');\n            }\n            if (isNullOrUndefined(this.inputElement.getAttribute('type'))) {\n                this.inputElement.setAttribute('type', 'text');\n            }\n            this.inputElement.setAttribute('aria-expanded', 'false');\n        }\n        else {\n            this.inputElement = this.createElement('input', { attrs: { role: 'combobox', type: 'text' } });\n            if (this.element.tagName !== this.getNgDirective()) {\n                this.element.style.display = 'none';\n            }\n            this.element.parentElement.insertBefore(this.inputElement, this.element);\n            this.preventTabIndex(this.inputElement);\n        }\n        var updatedCssClassValues = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n            this.enabled = false;\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            buttons: this.isPopupButton() ? [dropDownListClasses.icon] : null,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.getModuleName() === 'dropdownlist' ? true : this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValues,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            }\n        }, this.createElement);\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.inputWrapper.container);\n        }\n        else {\n            this.inputElement.parentElement.insertBefore(this.element, this.inputElement);\n        }\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'aria-label': this.getModuleName(), 'tabindex': '-1', 'class': dropDownListClasses.hiddenElement }\n        });\n        prepend([this.hiddenElement], this.inputWrapper.container);\n        this.validationAttribute(this.element, this.hiddenElement);\n        this.setReadOnly();\n        this.setFields();\n        this.inputWrapper.container.style.width = formatUnit(this.width);\n        this.inputWrapper.container.classList.add('e-ddl');\n        if (this.floatLabelType !== 'Never') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n        this.wireEvent();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement.id = id + '_hidden';\n        this.targetElement().setAttribute('tabindex', this.tabIndex);\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n            this.inputElement.setAttribute('aria-label', this.getModuleName());\n        }\n        else if (this.getModuleName() === 'dropdownlist') {\n            attributes(this.targetElement(), { 'aria-label': this.getModuleName() });\n            this.inputElement.setAttribute('aria-label', this.getModuleName());\n            this.inputElement.setAttribute('aria-expanded', 'false');\n        }\n        attributes(this.targetElement(), this.getAriaAttributes());\n        this.updateDataAttribute(this.htmlAttributes);\n        this.setHTMLAttributes();\n        if (this.targetElement() === this.inputElement) {\n            this.inputElement.removeAttribute('aria-labelledby');\n        }\n        if (this.value !== null || this.activeIndex !== null || this.text !== null) {\n            if (this.enableVirtualization) {\n                this.listItemHeight = this.getListHeight();\n                this.getSkeletonCount();\n                this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n                if (this.index !== null) {\n                    this.activeIndex = this.index + this.skeletonCount;\n                }\n            }\n            this.initValue();\n            this.selectedValueInfo = this.viewPortInfo;\n            if (this.enableVirtualization) {\n                this.activeIndex = this.activeIndex + this.skeletonCount;\n            }\n        }\n        else if (this.element.tagName === 'SELECT' && this.element.options[0]) {\n            var selectElement = this.element;\n            this.value = this.allowObjectBinding ? this.getDataByValue(selectElement.options[selectElement.selectedIndex].value) : selectElement.options[selectElement.selectedIndex].value;\n            this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent;\n            this.initValue();\n        }\n        this.setEnabled();\n        this.preventTabIndex(this.element);\n        if (!this.enabled) {\n            this.targetElement().tabIndex = -1;\n        }\n        this.initial = false;\n        this.element.style.opacity = '';\n        this.inputElement.onselect = function (e) {\n            e.stopImmediatePropagation();\n        };\n        this.inputElement.onchange = function (e) {\n            e.stopImmediatePropagation();\n        };\n        if (this.element.hasAttribute('autofocus')) {\n            this.focusIn();\n        }\n        if (!isNullOrUndefined(this.text)) {\n            this.inputElement.setAttribute('value', this.text);\n        }\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        var floatLabelElement = this.inputWrapper.container.getElementsByClassName('e-float-text')[0];\n        if (!isNullOrUndefined(this.element.id) && this.element.id !== '' && !isNullOrUndefined(floatLabelElement)) {\n            floatLabelElement.id = 'label_' + this.element.id.replace(/ /g, '_');\n            attributes(this.inputElement, { 'aria-labelledby': floatLabelElement.id });\n        }\n        this.renderComplete();\n        this.listItemHeight = this.getListHeight();\n        this.getSkeletonCount();\n        if (this.enableVirtualization) {\n            this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n        }\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.viewPortInfo.startIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n    };\n    DropDownList.prototype.getListHeight = function () {\n        var listParent = this.createElement('div', {\n            className: 'e-dropdownbase'\n        });\n        var item = this.createElement('li', {\n            className: 'e-list-item'\n        });\n        var listParentHeight = formatUnit(this.popupHeight);\n        listParent.style.height = (parseInt(listParentHeight, 10)).toString() + 'px';\n        listParent.appendChild(item);\n        document.body.appendChild(listParent);\n        this.virtualListHeight = listParent.getBoundingClientRect().height;\n        var listItemHeight = Math.ceil(item.getBoundingClientRect().height);\n        listParent.remove();\n        return listItemHeight;\n    };\n    DropDownList.prototype.setFooterTemplate = function (popupEle) {\n        var compiledString;\n        if (this.footer) {\n            if (this.isReact && typeof this.footerTemplate === 'function') {\n                this.clearTemplate(['footerTemplate']);\n            }\n            else {\n                this.footer.innerHTML = '';\n            }\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], dropDownListClasses.footer);\n        }\n        var footercheck = this.dropdownCompiler(this.footerTemplate);\n        if (typeof this.footerTemplate !== 'function' && footercheck) {\n            compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.footerTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var footerCompTemp = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n        if (footerCompTemp && footerCompTemp.length > 0) {\n            append(footerCompTemp, this.footer);\n        }\n        append([this.footer], popupEle);\n    };\n    DropDownList.prototype.setHeaderTemplate = function (popupEle) {\n        var compiledString;\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], dropDownListClasses.header);\n        }\n        var headercheck = this.dropdownCompiler(this.headerTemplate);\n        if (typeof this.headerTemplate !== 'function' && headercheck) {\n            compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.headerTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var headerCompTemp = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n        if (headerCompTemp && headerCompTemp.length) {\n            append(headerCompTemp, this.header);\n        }\n        var contentEle = popupEle.querySelector('div.e-content');\n        popupEle.insertBefore(this.header, contentEle);\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.setEnabled = function () {\n        this.element.setAttribute('aria-disabled', (this.enabled) ? 'false' : 'true');\n    };\n    DropDownList.prototype.setOldText = function (text) {\n        this.text = text;\n    };\n    DropDownList.prototype.setOldValue = function (value) {\n        this.value = value;\n    };\n    DropDownList.prototype.refreshPopup = function () {\n        if (!isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) &&\n            ((this.allowFiltering && !(Browser.isDevice && this.isFilterLayout())) || this.getModuleName() === 'autocomplete')) {\n            removeClass([this.popupObj.element], 'e-popup-close');\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n            this.popupObj.resolveCollision();\n        }\n    };\n    DropDownList.prototype.checkData = function (newProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource)) && this.itemTemplate && this.allowFiltering &&\n            !(this.isListSearched && (newProp.dataSource instanceof DataManager))) {\n            this.list = null;\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n        }\n        this.isListSearched = false;\n        var isChangeValue = Object.keys(newProp).indexOf('value') !== -1 && isNullOrUndefined(newProp.value);\n        var isChangeText = Object.keys(newProp).indexOf('text') !== -1 && isNullOrUndefined(newProp.text);\n        if (this.getModuleName() !== 'autocomplete' && this.allowFiltering && (isChangeValue || isChangeText)) {\n            this.itemData = null;\n        }\n        if (this.allowFiltering && newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))) {\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n            this.actionData = this.actionCompleteData;\n        }\n        else if (this.allowFiltering && newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n            this.actionCompleteData = this.getModuleName() === 'combobox' ?\n                { ulElement: null, list: null, isUpdated: false } : this.actionCompleteData;\n            this.actionData = this.actionCompleteData;\n        }\n    };\n    DropDownList.prototype.updateDataSource = function (props, oldProps) {\n        if (this.inputElement.value !== '' || (!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0)))) {\n            this.clearAll(null, props);\n        }\n        if ((this.fields.groupBy && props.fields) && !this.isGroupChecking && this.list) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n        }\n        if (!(!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0))) || ((props.dataSource instanceof DataManager) || (!isNullOrUndefined(props) && Array.isArray(props.dataSource) && !isNullOrUndefined(oldProps) && Array.isArray(oldProps.dataSource) && props.dataSource.length !== oldProps.dataSource.length))) {\n            this.typedString = '';\n            this.resetList(this.dataSource);\n        }\n        if (!this.isCustomFilter && !this.isFilterFocus && document.activeElement !== this.filterInput) {\n            this.checkCustomValue();\n        }\n    };\n    DropDownList.prototype.checkCustomValue = function () {\n        var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        this.itemData = this.getDataByValue(currentValue);\n        var dataItem = this.getItemData();\n        var value = this.allowObjectBinding ? this.itemData : dataItem.value;\n        this.setProperties({ 'text': dataItem.text, 'value': value });\n    };\n    DropDownList.prototype.updateInputFields = function () {\n        if (this.getModuleName() === 'dropdownlist') {\n            Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @private\n     * @param {DropDownListModel} newProp - Returns the dynamic property value of the component.\n     * @param {DropDownListModel} oldProp - Returns the previous previous value of the component.\n     * @returns {void}\n     */\n    DropDownList.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!isNullOrUndefined(newProp.dataSource) && !this.isTouched && (isNullOrUndefined(newProp.value) && isNullOrUndefined(newProp.index)) && !isNullOrUndefined(this.preselectedIndex) && !isNullOrUndefined(this.index)) {\n            newProp.index = this.index;\n        }\n        if (!isNullOrUndefined(newProp.value) || !isNullOrUndefined(newProp.index)) {\n            this.isTouched = true;\n        }\n        if (this.getModuleName() === 'dropdownlist') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        var _loop_1 = function (prop) {\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    this_1.getSkeletonCount();\n                    this_1.checkAndResetCache();\n                    break;\n                case 'htmlAttributes':\n                    this_1.setHTMLAttributes();\n                    break;\n                case 'width':\n                    this_1.setEleWidth(newProp.width);\n                    Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this_1.inputElement);\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this_1.filterInput) {\n                        Input.setPlaceholder(newProp.filterBarPlaceholder, this_1.filterInput);\n                    }\n                    break;\n                case 'readonly':\n                    if (this_1.getModuleName() !== 'dropdownlist') {\n                        Input.setReadonly(newProp.readonly, this_1.inputElement);\n                    }\n                    this_1.setReadOnly();\n                    break;\n                case 'cssClass':\n                    this_1.setCssClass(newProp.cssClass, oldProp.cssClass);\n                    Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n                    break;\n                case 'enableRtl':\n                    this_1.setEnableRtl();\n                    break;\n                case 'enabled':\n                    this_1.setEnable();\n                    break;\n                case 'text':\n                    if (newProp.text === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (this_1.enableVirtualization) {\n                        this_1.updateValues();\n                        this_1.updateInputFields();\n                        this_1.notify(\"setCurrentViewDataAsync\", {\n                            module: \"VirtualScroll\",\n                        });\n                        break;\n                    }\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender) {\n                        var li = this_1.getElementByText(newProp.text);\n                        if (!this_1.checkValidLi(li)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.text, oldProp.text, 'text');\n                            }\n                            else if (newProp.text && this_1.dataSource instanceof DataManager) {\n                                var listLength_1 = this_1.getItems().length;\n                                var checkField = isNullOrUndefined(this_1.fields.text) ? this_1.fields.value : this_1.fields.text;\n                                this_1.typedString = '';\n                                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', newProp.text)))\n                                    .then(function (e) {\n                                    if (e.result.length > 0) {\n                                        _this.addItem(e.result, listLength_1);\n                                        _this.updateValues();\n                                    }\n                                    else {\n                                        _this.setOldText(oldProp.text);\n                                    }\n                                });\n                            }\n                            else if (this_1.getModuleName() === 'autocomplete') {\n                                this_1.setInputValue(newProp, oldProp);\n                            }\n                            else {\n                                this_1.setOldText(oldProp.text);\n                            }\n                        }\n                        this_1.updateInputFields();\n                    }\n                    break;\n                case 'value':\n                    if (newProp.value === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) && !isNullOrUndefined(oldProp.value) && this_1.isObjectInArray(newProp.value, [oldProp.value])) {\n                        return { value: void 0 };\n                    }\n                    if (this_1.enableVirtualization) {\n                        this_1.updateValues();\n                        this_1.updateInputFields();\n                        this_1.notify(\"setCurrentViewDataAsync\", {\n                            module: \"VirtualScroll\",\n                        });\n                        this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n                        break;\n                    }\n                    this_1.notify('beforeValueChange', { newProp: newProp }); // gird component value type change\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender) {\n                        var value = this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) ? getValue((this_1.fields.value) ? this_1.fields.value : '', newProp.value) : newProp.value;\n                        var item = this_1.getElementByValue(value);\n                        if (!this_1.checkValidLi(item)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.value, oldProp.value, 'value');\n                            }\n                            else if (newProp.value && this_1.dataSource instanceof DataManager) {\n                                var listLength_2 = this_1.getItems().length;\n                                var checkField = isNullOrUndefined(this_1.fields.value) ? this_1.fields.text : this_1.fields.value;\n                                this_1.typedString = '';\n                                var value_7 = this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) ? getValue(checkField, newProp.value) : newProp.value;\n                                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', value_7)))\n                                    .then(function (e) {\n                                    if (e.result.length > 0) {\n                                        _this.addItem(e.result, listLength_2);\n                                        _this.updateValues();\n                                    }\n                                    else {\n                                        _this.setOldValue(oldProp.value);\n                                    }\n                                });\n                            }\n                            else if (this_1.getModuleName() === 'autocomplete') {\n                                this_1.setInputValue(newProp, oldProp);\n                            }\n                            else {\n                                this_1.setOldValue(oldProp.value);\n                            }\n                        }\n                        this_1.updateInputFields();\n                        this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n                    }\n                    break;\n                case 'index':\n                    if (newProp.index === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender && this_1.liCollections) {\n                        var element = this_1.liCollections[newProp.index];\n                        if (!this_1.checkValidLi(element)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.index, oldProp.index, 'index');\n                            }\n                            else {\n                                this_1.index = oldProp.index;\n                            }\n                        }\n                        this_1.updateInputFields();\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this_1.popupObj) {\n                        this_1.setFooterTemplate(this_1.popupObj.element);\n                    }\n                    break;\n                case 'headerTemplate':\n                    if (this_1.popupObj) {\n                        this_1.setHeaderTemplate(this_1.popupObj.element);\n                    }\n                    break;\n                case 'valueTemplate':\n                    if (!isNullOrUndefined(this_1.itemData) && this_1.valueTemplate !== null) {\n                        this_1.setValueTemplate();\n                    }\n                    break;\n                case 'allowFiltering':\n                    if (this_1.allowFiltering) {\n                        this_1.actionCompleteData = {\n                            ulElement: this_1.ulElement,\n                            list: this_1.listData, isUpdated: true\n                        };\n                        this_1.actionData = this_1.actionCompleteData;\n                        this_1.updateSelectElementData(this_1.allowFiltering);\n                    }\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this_1.inputWrapper);\n                    Input.addFloating(this_1.inputElement, newProp.floatLabelType, this_1.placeholder, this_1.createElement);\n                    if (!isNullOrUndefined(this_1.inputWrapper.buttons[0]) && this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0] && this_1.floatLabelType !== 'Never') {\n                        this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'showClearButton':\n                    if (!this_1.inputWrapper.clearButton) {\n                        Input.setClearButton(newProp.showClearButton, this_1.inputElement, this_1.inputWrapper, null, this_1.createElement);\n                        this_1.bindClearEvent();\n                    }\n                    break;\n                default:\n                    {\n                        // eslint-disable-next-line max-len\n                        var ddlProps = this_1.getPropObject(prop, newProp, oldProp);\n                        _super.prototype.onPropertyChanged.call(this_1, ddlProps.newProperty, ddlProps.oldProperty);\n                    }\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var state_1 = _loop_1(prop);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    };\n    DropDownList.prototype.checkValidLi = function (element) {\n        if (this.isValidLI(element)) {\n            this.setSelection(element, null);\n            return true;\n        }\n        return false;\n    };\n    DropDownList.prototype.setSelectionData = function (newProp, oldProp, prop) {\n        var _this = this;\n        var li;\n        this.updateListValues = function () {\n            if (prop === 'text') {\n                li = _this.getElementByText(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldText(oldProp);\n                }\n            }\n            else if (prop === 'value') {\n                var fields = (_this.fields.value) ? _this.fields.value : '';\n                var value = _this.allowObjectBinding && !isNullOrUndefined(newProp) ? getValue(fields, newProp) : newProp;\n                li = _this.getElementByValue(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldValue(oldProp);\n                }\n            }\n            else if (prop === 'index') {\n                li = _this.liCollections[newProp];\n                if (!_this.checkValidLi(li)) {\n                    _this.index = oldProp;\n                }\n            }\n        };\n    };\n    DropDownList.prototype.updatePopupState = function () {\n        if (this.beforePopupOpen) {\n            this.beforePopupOpen = false;\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.setReadOnly = function () {\n        if (this.readonly) {\n            addClass([this.inputWrapper.container], ['e-readonly']);\n        }\n        else {\n            removeClass([this.inputWrapper.container], ['e-readonly']);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.setInputValue = function (newProp, oldProp) {\n    };\n    DropDownList.prototype.setCssClass = function (newClass, oldClass) {\n        if (!isNullOrUndefined(oldClass)) {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newClass)) {\n            newClass = (newClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(newClass, [this.inputWrapper.container], oldClass);\n        if (this.popupObj) {\n            Input.setCssClass(newClass, [this.popupObj.element], oldClass);\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    DropDownList.prototype.getModuleName = function () {\n        return 'dropdownlist';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.showPopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (!this.enabled) {\n            return;\n        }\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        if (this.isReact && this.getModuleName() === 'combobox' && this.itemTemplate && this.isCustomFilter && this.isAddNewItemTemplate) {\n            this.renderList();\n            this.isAddNewItemTemplate = false;\n        }\n        if (this.isFiltering() && this.dataSource instanceof DataManager && (this.actionData.list !== this.actionCompleteData.list) &&\n            this.actionData.list && this.actionData.ulElement) {\n            this.actionCompleteData = this.actionData;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        if (this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0]) {\n            this.isActive = true;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        else if (isNullOrUndefined(this.list) || !isUndefined(this.list) && (this.list.classList.contains(dropDownBaseClasses.noData) ||\n            this.list.querySelectorAll('.' + dropDownBaseClasses.li).length <= 0)) {\n            if (this.isReact && this.isFiltering() && this.itemTemplate != null) {\n                this.isSecondClick = false;\n            }\n            this.renderList(e);\n        }\n        if (this.enableVirtualization && this.listData && this.listData.length) {\n            if (!isNullOrUndefined(this.value) && (this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox')) {\n                this.removeHover();\n            }\n            if (!this.beforePopupOpen) {\n                this.notify(\"setCurrentViewDataAsync\", {\n                    module: \"VirtualScroll\",\n                });\n            }\n        }\n        if (this.beforePopupOpen) {\n            this.invokeRenderPopup(e);\n        }\n        if (this.enableVirtualization && !this.allowFiltering && this.selectedValueInfo != null && this.selectedValueInfo.startIndex > 0 && this.value != null) {\n            this.notify(\"dataProcessAsync\", {\n                module: \"VirtualScroll\",\n                isOpen: true,\n            });\n        }\n    };\n    DropDownList.prototype.invokeRenderPopup = function (e) {\n        if (Browser.isDevice && this.isFilterLayout()) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_2 = this;\n            window.onpopstate = function () {\n                proxy_2.hidePopup();\n            };\n            history.pushState({}, '');\n        }\n        if (!isNullOrUndefined(this.list) && (!isNullOrUndefined(this.list.children[0]) ||\n            this.list.classList.contains(dropDownBaseClasses.noData))) {\n            this.renderPopup(e);\n        }\n    };\n    DropDownList.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in an open state.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (this.isEscapeKey && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.inputElement)) {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            this.isEscapeKey = false;\n            if (!isNullOrUndefined(this.index)) {\n                var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                var element = this.findListElement(this.ulElement, 'li', 'data-value', value);\n                this.selectedLI = this.liCollections[this.index] || element;\n                if (this.selectedLI) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                    if (this.valueTemplate && this.itemData !== null) {\n                        this.setValueTemplate();\n                    }\n                }\n            }\n            else {\n                this.resetSelection();\n            }\n        }\n        this.isVirtualTrackHeight = false;\n        this.customFilterQuery = null;\n        this.closePopup(0, e);\n        var dataItem = this.getItemData();\n        var isSelectVal = !isNullOrUndefined(this.selectedLI);\n        if (isSelectVal && this.enableVirtualization && this.selectedLI.classList) {\n            isSelectVal = this.selectedLI.classList.contains('e-active');\n        }\n        if (this.inputElement && this.inputElement.value.trim() === '' && !this.isInteracted && (this.isSelectCustom ||\n            isSelectVal && this.inputElement.value !== dataItem.text)) {\n            this.isSelectCustom = false;\n            this.clearAll(e);\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Sets the focus on the component for interaction.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.focusIn = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.targetElement().classList.contains(dropDownListClasses.disable)) {\n            return;\n        }\n        var isFocused = false;\n        if (this.preventFocus && Browser.isDevice) {\n            this.inputWrapper.container.tabIndex = 1;\n            this.inputWrapper.container.focus();\n            this.preventFocus = false;\n            isFocused = true;\n        }\n        if (!isFocused) {\n            this.targetElement().focus();\n        }\n        addClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        this.onFocus(e);\n        if (this.floatLabelType !== 'Never') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n    };\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.enableVirtualization && (this.getModuleName() === 'combobox' || this.getModuleName() === 'autocomplete')) {\n            this.isTyped = true;\n        }\n        this.hidePopup(e);\n        if (this.targetElement()) {\n            this.targetElement().blur();\n        }\n        removeClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        if (this.floatLabelType !== 'Never') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownList.prototype.destroy = function () {\n        this.isActive = false;\n        if (this.showClearButton) {\n            this.clearButton = document.getElementsByClassName('e-clear-icon')[0];\n        }\n        resetIncrementalSearchValues(this.element.id);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        this.hidePopup();\n        if (this.popupObj) {\n            this.popupObj.hide();\n        }\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n        }\n        if (this.element && !this.element.classList.contains('e-' + this.getModuleName())) {\n            return;\n        }\n        if (this.inputElement) {\n            var attrArray = ['readonly', 'aria-disabled', 'placeholder', 'aria-labelledby',\n                'aria-expanded', 'autocomplete', 'aria-readonly', 'autocapitalize',\n                'spellcheck', 'aria-autocomplete', 'aria-live', 'aria-describedby', 'aria-label'];\n            for (var i = 0; i < attrArray.length; i++) {\n                this.inputElement.removeAttribute(attrArray[i]);\n            }\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n            this.inputElement.classList.remove('e-input');\n            Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        this.element.style.display = 'block';\n        if (this.inputWrapper.container.parentElement.tagName === this.getNgDirective()) {\n            detach(this.inputWrapper.container);\n        }\n        else {\n            this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container);\n            detach(this.inputWrapper.container);\n        }\n        delete this.hiddenElement;\n        this.filterInput = null;\n        this.keyboardModule = null;\n        if (!isNullOrUndefined(this.ulElement)) {\n            this.removeAllChildren(this.ulElement);\n        }\n        this.ulElement = null;\n        this.list = null;\n        this.clearIconElement = null;\n        this.popupObj = null;\n        this.popupContentElement = null;\n        this.rippleFun = null;\n        this.selectedLI = null;\n        this.liCollections = null;\n        this.item = null;\n        this.footer = null;\n        this.header = null;\n        this.previousSelectedLI = null;\n        this.valueTempElement = null;\n        this.actionData.ulElement = null;\n        if (this.inputElement && !isNullOrUndefined(this.inputElement.onchange)) {\n            this.inputElement.onchange = null;\n        }\n        if (this.inputElement && !isNullOrUndefined(this.inputElement.onselect)) {\n            this.inputElement.onselect = null;\n        }\n        Input.destroy({\n            element: this.inputElement,\n            floatLabelType: this.floatLabelType,\n            properties: this.properties,\n            buttons: this.inputWrapper.container.querySelectorAll('.e-input-group-icon')[0],\n        }, this.clearButton);\n        this.clearButton = null;\n        this.inputElement = null;\n        this.inputWrapper = null;\n        _super.prototype.destroy.call(this);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     */\n    DropDownList.prototype.getItems = function () {\n        if (!this.list) {\n            if (this.dataSource instanceof DataManager) {\n                this.initialRemoteRender = true;\n            }\n            this.renderList();\n        }\n        return this.ulElement ? _super.prototype.getItems.call(this) : [];\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     */\n    DropDownList.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.clear = function () {\n        this.value = null;\n    };\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"width\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownList.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownList.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownList.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowObjectBinding\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownList.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"focus\", void 0);\n    DropDownList = __decorate([\n        NotifyPropertyChanges\n    ], DropDownList);\n    return DropDownList;\n}(DropDownBase));\nexport { DropDownList };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Input, TextBox } from '@syncfusion/ej2-inputs';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { NotifyPropertyChanges, Property, Event, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Component, EventHandler, attributes, formatUnit, ChildProperty, remove, L10n, extend } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, prepend, Complex, closest, setValue, getValue, compile, append } from '@syncfusion/ej2-base';\nimport { select, selectAll, isNullOrUndefined as isNOU, matches, Browser, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nvar RTL = 'e-rtl';\nvar DROPDOWNTREE = 'e-ddt';\nvar HIDDENELEMENT = 'e-ddt-hidden';\nvar DROPDOWNICON = 'e-input-group-icon e-ddt-icon e-icons';\nvar SHOW_CHIP = 'e-show-chip';\nvar SHOW_CLEAR = 'e-show-clear';\nvar SHOW_DD_ICON = 'e-show-dd-icon';\nvar CHIP_INPUT = 'e-chip-input';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTGROUP = 'e-input-group';\nvar ICONANIMATION = 'e-icon-anim';\nvar CLOSEICON_CLASS = 'e-clear-icon e-icons';\nvar CHIP_WRAPPER = 'e-chips-wrapper';\nvar CHIP_COLLECTION = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar HIDEICON = 'e-icon-hide';\nvar DDTHIDEICON = 'e-ddt-icon-hide';\nvar POPUP_CLASS = 'e-ddt e-popup';\nvar PARENTITEM = 'e-list-parent';\nvar CONTENT = 'e-popup-content';\nvar DROPDOWN = 'e-dropdown';\nvar DISABLED = 'e-disabled';\nvar ICONS = 'e-icons';\nvar CHECKALLPARENT = 'e-selectall-parent';\nvar CHECKALLHIDE = 'e-hide-selectall';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar ALLTEXT = 'e-all-text';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar FILTERWRAP = 'e-filter-wrap';\nvar DDTICON = 'e-ddt-icon';\nvar FOOTER = 'e-ddt-footer';\nvar HEADER = 'e-ddt-header';\nvar NODATACONTAINER = 'e-ddt-nodata';\nvar NODATA = 'e-no-data';\nvar HEADERTEMPLATE = 'HeaderTemplate';\nvar FOOTERTEMPLATE = 'FooterTemplate';\nvar NORECORDSTEMPLATE = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE = 'ActionFailureTemplate';\nvar CUSTOMTEMPLATE = 'CustomTemplate';\nvar REMAIN_WRAPPER = 'e-remain';\nvar OVERFLOW_VIEW = 'e-overflow';\nvar SHOW_TEXT = 'e-show-text';\nvar TOTAL_COUNT_WRAPPER = 'e-total-count';\nvar REMAIN_COUNT = 'e-wrap-count';\nvar Fields = /** @class */ (function (_super) {\n    __extends(Fields, _super);\n    function Fields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], Fields.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], Fields.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], Fields.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], Fields.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], Fields.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], Fields.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], Fields.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('parentValue')\n    ], Fields.prototype, \"parentValue\", void 0);\n    __decorate([\n        Property(null)\n    ], Fields.prototype, \"query\", void 0);\n    __decorate([\n        Property('selectable')\n    ], Fields.prototype, \"selectable\", void 0);\n    __decorate([\n        Property('selected')\n    ], Fields.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], Fields.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], Fields.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], Fields.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('value')\n    ], Fields.prototype, \"value\", void 0);\n    return Fields;\n}(ChildProperty));\nexport { Fields };\nvar TreeSettings = /** @class */ (function (_super) {\n    __extends(TreeSettings, _super);\n    function TreeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], TreeSettings.prototype, \"autoCheck\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeSettings.prototype, \"expandOn\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeSettings.prototype, \"loadOnDemand\", void 0);\n    return TreeSettings;\n}(ChildProperty));\nexport { TreeSettings };\n/**\n * The Dropdown Tree control allows you to select single or multiple values from hierarchical data in a tree-like structure.\n * It has several out-of-the-box features, such as data binding, check boxes, templates, filter,\n * UI customization, accessibility, and preselected values.\n * ```html\n *  <input type=\"text\" id=\"tree\"></input>\n * ```\n * ```typescript\n *  let ddtObj: DropDownTree = new DropDownTree();\n *  ddtObj.appendTo(\"#tree\");\n * ```\n */\nvar DropDownTree = /** @class */ (function (_super) {\n    __extends(DropDownTree, _super);\n    function DropDownTree(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.filterTimer = null;\n        _this.isFilteredData = false;\n        _this.isFilterRestore = false;\n        _this.selectedData = [];\n        _this.filterDelayTime = 300;\n        _this.isClicked = false;\n        // Specifies if the checkAll method has been called\n        _this.isCheckAllCalled = false;\n        _this.isFromFilterChange = false;\n        return _this;\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string}\n     * @hidden\n     */\n    DropDownTree.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    DropDownTree.prototype.getLocaleName = function () {\n        return 'drop-down-tree';\n    };\n    /**\n     * Initialize the event handler.\n     *\n     * @returns {void}\n     * @private\n     */\n    DropDownTree.prototype.preRender = function () {\n        this.inputFocus = false;\n        this.isPopupOpen = false;\n        this.isFirstRender = true;\n        this.isInitialized = false;\n        this.currentText = null;\n        this.currentValue = null;\n        this.oldValue = null;\n        this.removeValue = false;\n        this.selectedText = [];\n        this.treeItems = [];\n        this.dataValue = null;\n        this.isNodeSelected = false;\n        this.isDynamicChange = false;\n        this.clearIconWidth = 0;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE;\n        this.customTemplateId = \"\" + this.element.id + CUSTOMTEMPLATE;\n        this.keyConfigs = {\n            escape: 'escape',\n            altUp: 'alt+uparrow',\n            altDown: 'alt+downarrow',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            end: 'end',\n            enter: 'enter',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n            ctrlA: 'ctrl+A'\n        };\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownTree.prototype.render = function () {\n        var isTree = select('#' + this.element.id + '_tree', document);\n        if (isTree) {\n            var popupDiv = select('#' + this.element.id + '_options', document);\n            detach(popupDiv ? popupDiv : isTree.parentElement);\n        }\n        if (this.element.tagName === 'INPUT') {\n            this.inputEle = this.element;\n            if (isNOU(this.inputEle.getAttribute('role'))) {\n                this.inputEle.setAttribute('aria-expanded', 'false');\n                this.inputEle.setAttribute('role', 'combobox');\n                this.inputEle.setAttribute('aria-haspopup', 'tree');\n                this.inputEle.setAttribute('aria-controls', this.element.id + '_options');\n            }\n            if (isNOU(this.inputEle.getAttribute('type'))) {\n                this.inputEle.setAttribute('type', 'text');\n            }\n        }\n        else {\n            this.inputEle = this.createElement('input', { attrs: { role: 'textbox', type: 'text' } });\n            this.element.parentElement.insertBefore(this.inputEle, this.element);\n        }\n        this.inputObj = Input.createInput({\n            element: this.inputEle,\n            floatLabelType: this.floatLabelType,\n            buttons: this.showDropDownIcon ? [DROPDOWNICON] : null,\n            properties: {\n                readonly: true,\n                placeholder: this.placeholder,\n                enabled: this.enabled,\n                cssClass: this.cssClass,\n                enableRtl: this.enableRtl\n            }\n        }, this.createElement);\n        this.inputWrapper = this.inputObj.container;\n        if (!this.inputWrapper.classList.contains(INPUTGROUP)) {\n            this.inputWrapper.classList.add(INPUTGROUP);\n        }\n        if (this.showDropDownIcon) {\n            this.inputWrapper.classList.add(SHOW_DD_ICON);\n        }\n        if (this.element.tagName === this.getDirective()) {\n            this.element.appendChild(this.inputWrapper);\n        }\n        this.createHiddenElement();\n        this.createClearIcon();\n        this.inputWrapper.classList.add(DROPDOWNTREE);\n        this.setElementWidth(this.width);\n        this.updateDataAttribute();\n        this.setHTMLAttributes();\n        this.setAttributes();\n        this.popupDiv = this.createElement('div', { className: CONTENT });\n        this.popupDiv.classList.add(DROPDOWN);\n        this.tree = this.createElement('div', { id: this.element.id + '_tree' });\n        this.popupDiv.appendChild(this.tree);\n        if (!this.destroyPopupOnHide) {\n            document.body.appendChild(this.popupDiv);\n        }\n        this.wireTreeEvents();\n        addClass([this.popupDiv], DDTHIDEICON);\n        this.renderTree();\n        this.isRemoteData = this.fields.dataSource instanceof DataManager;\n        if (this.allowMultiSelection || this.showCheckBox) {\n            if (this.mode !== 'Delimiter') {\n                this.createChip();\n            }\n            if (!this.wrapText && this.mode !== 'Custom') {\n                this.overFlowWrapper = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + HIDEICON });\n                this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n                if (this.mode !== 'Box') {\n                    addClass([this.overFlowWrapper], SHOW_TEXT);\n                }\n            }\n        }\n        if (!this.isRemoteData) {\n            this.setTreeValue();\n            this.setTreeText();\n            this.updateHiddenValue();\n            this.setSelectedValue();\n            if (!this.wrapText) {\n                this.updateView();\n            }\n        }\n        this.wireEvents();\n        var firstUl = select('.' + PARENTITEM, this.treeObj.element);\n        if (firstUl && firstUl.getAttribute('aria-multiselectable')) {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n        this.oldValue = this.value;\n        this.isInitialized = true;\n        this.hasTemplate = this.itemTemplate || this.headerTemplate || this.footerTemplate || this.actionFailureTemplate\n            || this.noRecordsTemplate || this.customTemplate;\n        this.renderComplete();\n    };\n    DropDownTree.prototype.hideCheckAll = function (flag) {\n        var checkAllEle = !isNOU(this.popupEle) ? this.popupEle.querySelector('.' + CHECKALLPARENT) : null;\n        if (!isNOU(checkAllEle)) {\n            if (flag && !checkAllEle.classList.contains(CHECKALLHIDE)) {\n                addClass([checkAllEle], CHECKALLHIDE);\n            }\n            else if (!flag && checkAllEle.classList.contains(CHECKALLHIDE)) {\n                removeClass([checkAllEle], CHECKALLHIDE);\n            }\n        }\n    };\n    DropDownTree.prototype.renderFilter = function () {\n        this.filterContainer = this.createElement('div', {\n            id: this.element.id + '_filter_wrap',\n            className: FILTERWRAP\n        });\n        var filterInput = this.createElement('input', {\n            id: this.element.id + '_filter',\n            attrs: { autocomplete: 'off', 'aria-label': this.filterBarPlaceholder }\n        });\n        this.filterContainer.appendChild(filterInput);\n        prepend([this.filterContainer], this.popupEle);\n        this.filterObj = new TextBox({\n            value: '',\n            showClearButton: true,\n            placeholder: this.filterBarPlaceholder,\n            input: this.filterChangeHandler.bind(this)\n        });\n        this.filterObj.appendTo('#' + this.element.id + '_filter');\n    };\n    DropDownTree.prototype.filterChangeHandler = function (args) {\n        var _this = this;\n        if (!isNOU(args.value)) {\n            window.clearTimeout(this.filterTimer);\n            this.filterTimer = window.setTimeout(function () { _this.filterHandler(args.value, args.event); }, this.filterDelayTime);\n        }\n    };\n    DropDownTree.prototype.isChildObject = function () {\n        if (typeof this.treeObj.fields.child === 'object') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    DropDownTree.prototype.filterHandler = function (value, event) {\n        var _this = this;\n        this.isFromFilterChange = true;\n        if (!this.isFilteredData) {\n            if (this.isRemoteData) {\n                this.treeObj.expandedNodes = [];\n            }\n            this.treeData = this.treeObj.getTreeData();\n        }\n        var filterFields = this.cloneFields(this.fields);\n        var args = {\n            cancel: false,\n            preventDefaultAction: false,\n            event: event,\n            text: value.trim(),\n            fields: filterFields\n        };\n        this.trigger('filtering', args, function (args) {\n            if (!args.cancel) {\n                var flag = false;\n                var fields = void 0;\n                _this.isFilteredData = true;\n                if (args.text === '') {\n                    _this.isFilteredData = false;\n                    _this.isFilterRestore = true;\n                    _this.isFromFilterChange = false;\n                    fields = _this.cloneFields(_this.fields);\n                }\n                else if (args.preventDefaultAction) {\n                    fields = args.fields;\n                }\n                else {\n                    if (_this.treeDataType === 1) {\n                        fields = _this.selfReferencefilter(args.text, args.fields);\n                    }\n                    else {\n                        if (_this.fields.dataSource instanceof DataManager) {\n                            fields = _this.remoteDataFilter(args.text, args.fields);\n                            fields.child = _this.fields.child;\n                            _this.treeObj.fields = _this.getTreeFields(args.fields);\n                            _this.treeObj.dataBind();\n                            flag = true;\n                        }\n                        else {\n                            fields = _this.nestedFilter(args.text, args.fields);\n                        }\n                    }\n                }\n                _this.hideCheckAll(_this.isFilteredData);\n                if (flag) {\n                    return;\n                }\n                if (_this.isRemoteData) {\n                    if (_this.isChildObject()) {\n                        fields.child = _this.fields.child;\n                    }\n                    else {\n                        fields = args.fields;\n                    }\n                }\n                _this.treeObj.fields = _this.getTreeFields(fields);\n                _this.treeObj.dataBind();\n                if (_this.hasTemplate && _this.portals && _this.treeObj.portals) {\n                    for (var i = 0; i < _this.treeObj.portals.length; i++) {\n                        if (_this.portals.indexOf(_this.treeObj.portals[i]) === -1) {\n                            _this.portals.push(_this.treeObj.portals[i]);\n                        }\n                    }\n                    if (_this.isReact) {\n                        _this.renderReactTemplates();\n                    }\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.remoteDataFilter = function (value, filteredFields) {\n        var _this = this;\n        filteredFields.dataSource = this.treeData.map(function (item) {\n            return _this.remoteChildFilter(value, item);\n        }).filter(function (filteredChild) {\n            return !isNOU(filteredChild);\n        });\n        return filteredFields;\n    };\n    DropDownTree.prototype.remoteChildFilter = function (value, node, isChild, isChildFiltering) {\n        var children = this.isChildObject() ? node['child'] : node[this.fields.child];\n        if (isNOU(children)) {\n            return (this.isMatchedNode(value, node, isChild, isChildFiltering)) ? node : null;\n        }\n        var matchedChildren = [];\n        for (var i = 0; i < children.length; i++) {\n            var filteredChild = this.remoteChildFilter(value, children[i], true, true);\n            if (!isNOU(filteredChild)) {\n                matchedChildren.push(filteredChild);\n            }\n        }\n        var filteredItems = Object.assign({}, node);\n        isChildFiltering = false;\n        if (matchedChildren.length !== 0) {\n            filteredItems.child = matchedChildren;\n        }\n        else {\n            filteredItems.child = null;\n            filteredItems = (this.isMatchedNode(value, filteredItems)) ? filteredItems : null;\n        }\n        return filteredItems;\n    };\n    DropDownTree.prototype.nestedFilter = function (value, filteredFields) {\n        var matchedDataSource = [];\n        for (var i = 0; i < this.treeData.length; i++) {\n            // eslint-disable-next-line\n            var filteredChild = this.nestedChildFilter(value, this.treeData[i]);\n            if (!isNOU(filteredChild)) {\n                matchedDataSource.push(filteredChild);\n            }\n        }\n        filteredFields.dataSource = matchedDataSource;\n        return filteredFields;\n    };\n    DropDownTree.prototype.nestedChildFilter = function (value, node) {\n        var children = node[this.fields.child];\n        if (isNOU(children)) {\n            return (this.isMatchedNode(value, node)) ? node : null;\n        }\n        else {\n            var matchedChildren = [];\n            for (var i = 0; i < children.length; i++) {\n                // eslint-disable-next-line\n                var filteredChild = this.nestedChildFilter(value, children[i]);\n                if (!isNOU(filteredChild)) {\n                    matchedChildren.push(filteredChild);\n                }\n            }\n            var filteredItems = Object.assign({}, node);\n            if (matchedChildren.length !== 0) {\n                filteredItems[this.fields.child] = matchedChildren;\n                return filteredItems;\n            }\n            else {\n                filteredItems[this.fields.child] = null;\n                return (this.isMatchedNode(value, filteredItems)) ? filteredItems : null;\n            }\n        }\n    };\n    DropDownTree.prototype.selfReferencefilter = function (value, filteredFields) {\n        var matchedData = [];\n        var matchedDataSource = [];\n        for (var i = 0; i < this.treeData.length; i++) {\n            if (this.isMatchedNode(value, this.treeData[i])) {\n                matchedData.push(this.treeData[i]);\n            }\n        }\n        for (var i = 0; i < matchedData.length; i++) {\n            if (matchedDataSource.indexOf(matchedData[i]) === -1) {\n                matchedDataSource.push(matchedData[i]);\n                // eslint-disable-next-line\n                var parentId = matchedData[i][this.fields.parentValue];\n                while (!isNOU(parentId)) {\n                    var parent_1 = null;\n                    for (var j = 0; j < this.treeData.length; j++) {\n                        // eslint-disable-next-line\n                        var value_1 = this.treeData[j][this.fields.value];\n                        if (!isNOU(value_1) && (value_1 === parentId)) {\n                            parent_1 = this.treeData[j];\n                            break;\n                        }\n                    }\n                    if (!isNOU(parent_1) && (matchedDataSource.indexOf(parent_1) === -1)) {\n                        matchedDataSource.push(parent_1);\n                        parentId = parent_1[this.fields.parentValue];\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n        filteredFields.dataSource = matchedDataSource;\n        return filteredFields;\n    };\n    DropDownTree.prototype.isMatchedNode = function (value, node, isChild, isChildFiltering) {\n        var checkValue;\n        var isObjectValue = isChild && isChildFiltering && this.isChildObject();\n        checkValue = isObjectValue ? node[this.fields.child.text] : node[this.fields.text];\n        if (!checkValue) {\n            var tempChild = this.fields.child;\n            while (!node[tempChild.text]) {\n                tempChild = tempChild.child;\n            }\n            checkValue = node[tempChild.text];\n        }\n        if (this.ignoreCase) {\n            checkValue = checkValue.toLowerCase();\n            value = value.toLowerCase();\n        }\n        if (this.ignoreAccent) {\n            checkValue = DataUtil.ignoreDiacritics(checkValue);\n            value = DataUtil.ignoreDiacritics(value);\n        }\n        if (this.filterType === 'StartsWith') {\n            return checkValue.slice(0, value.length) === value;\n        }\n        else if (this.filterType === 'EndsWith') {\n            return checkValue.slice(-value.length) === value;\n        }\n        else {\n            return checkValue.indexOf(value) !== -1;\n        }\n    };\n    /* To wire events for the dropdown tree */\n    DropDownTree.prototype.wireEvents = function () {\n        EventHandler.add(this.inputWrapper, 'mouseup', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper, 'blur', this.focusOut, this);\n        EventHandler.add(this.inputWrapper, 'mousemove', this.mouseIn, this);\n        EventHandler.add(this.inputWrapper, 'mouseout', this.onMouseLeave, this);\n        EventHandler.add(this.overAllClear, 'mousedown', this.clearAll, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        this.keyboardModule = new KeyboardEvents(this.inputWrapper, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.wireTreeEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.tree, {\n            keyAction: this.treeAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.wireCheckAllWrapperEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.checkAllParent, {\n            keyAction: this.checkAllAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    /* To unwire events for the dropdown tree */\n    DropDownTree.prototype.unWireEvents = function () {\n        EventHandler.remove(this.inputWrapper, 'mouseup', this.dropDownClick);\n        EventHandler.remove(this.inputWrapper, 'focus', this.focusIn);\n        EventHandler.remove(this.inputWrapper, 'blur', this.focusOut);\n        EventHandler.remove(this.inputWrapper, 'mousemove', this.mouseIn);\n        EventHandler.remove(this.inputWrapper, 'mouseout', this.onMouseLeave);\n        EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n    };\n    /* Trigger when the dropdown is clicked */\n    DropDownTree.prototype.dropDownClick = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.isClearButtonClick) {\n            this.isClearButtonClick = false;\n            return;\n        }\n        if (this.isPopupOpen) {\n            this.hidePopup();\n        }\n        else {\n            this.focusIn(e);\n            this.renderPopup();\n        }\n        this.showOverAllClear();\n    };\n    DropDownTree.prototype.mouseIn = function () {\n        if (this.enabled || !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    DropDownTree.prototype.onMouseLeave = function () {\n        if (!this.inputFocus) {\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n    };\n    DropDownTree.prototype.getDirective = function () {\n        return 'EJS-DROPDOWNTREE';\n    };\n    DropDownTree.prototype.focusOut = function (e) {\n        if (!this.enabled || this.readonly || !this.inputFocus) {\n            return;\n        }\n        if ((Browser.isIE || Browser.info.name === 'edge') && (e.target === this.inputWrapper)) {\n            return;\n        }\n        var target = e.relatedTarget;\n        if ((target !== this.inputEle) && (isNOU(target)) && (e.target !== this.inputWrapper || !this.isPopupOpen)) {\n            this.onFocusOut(e);\n        }\n    };\n    DropDownTree.prototype.onFocusOut = function (event) {\n        this.inputFocus = false;\n        if (this.isPopupOpen) {\n            this.hidePopup();\n        }\n        if (this.isClearButtonClick) {\n            this.isClearButtonClick = false;\n        }\n        if (this.showClearButton) {\n            this.clearIconWidth = select('.e-clear-icon', this.inputWrapper).offsetWidth;\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n        removeClass([this.inputWrapper], [INPUTFOCUS]);\n        if ((this.allowMultiSelection || this.showCheckBox)) {\n            var isValue = this.value ? (this.value.length ? true : false) : false;\n            if (this.mode !== 'Delimiter' && this.mode !== 'Custom') {\n                if (this.chipWrapper && (this.mode === 'Default')) {\n                    addClass([this.chipWrapper], HIDEICON);\n                    removeClass([this.inputWrapper], SHOW_CHIP);\n                    removeClass([this.inputEle], CHIP_INPUT);\n                }\n            }\n            if (!this.wrapText && isValue) {\n                this.updateView();\n            }\n        }\n        if (this.changeOnBlur) {\n            this.triggerChangeEvent(event);\n        }\n        this.removeValue = false;\n        this.oldValue = this.value;\n        this.trigger('blur');\n    };\n    DropDownTree.prototype.updateView = function () {\n        if ((!this.showCheckBox && !this.allowMultiSelection) || this.mode === 'Custom' || this.inputFocus) {\n            return;\n        }\n        if (this.mode !== 'Box') {\n            addClass([this.inputWrapper, this.overFlowWrapper], SHOW_TEXT);\n        }\n        else {\n            addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        if (this.value && this.value.length !== 0) {\n            if (this.inputWrapper.contains(this.chipWrapper)) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n            addClass([this.inputEle], CHIP_INPUT);\n            this.updateOverFlowView();\n            this.ensurePlaceHolder();\n        }\n    };\n    DropDownTree.prototype.triggerChangeEvent = function (event) {\n        var isEqual = this.ddtCompareValues(this.oldValue, this.value);\n        if ((!isEqual || this.isChipDelete) && !this.removeValue) {\n            var eventArgs = {\n                e: event,\n                oldValue: this.oldValue,\n                value: this.value,\n                isInteracted: event ? true : false,\n                element: this.element\n            };\n            this.trigger('change', eventArgs);\n            this.oldValue = this.value;\n        }\n    };\n    DropDownTree.prototype.ddtCompareValues = function (oldValue, newValue) {\n        if (oldValue === null || newValue === null) {\n            var isValid = oldValue === null ? ((newValue === oldValue) ? true : false) :\n                (oldValue.length === 0 ? (newValue === oldValue) : false);\n            return isValid;\n        }\n        else if (oldValue.length !== newValue.length) {\n            return false;\n        }\n        for (var i = 0; i < oldValue.length; i++) {\n            if (oldValue[i] !== newValue[i]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    DropDownTree.prototype.focusIn = function (e) {\n        if (!this.enabled || this.readonly || this.inputFocus) {\n            return;\n        }\n        this.showOverAllClear();\n        this.inputFocus = true;\n        addClass([this.inputWrapper], [INPUTFOCUS]);\n        if (this.allowMultiSelection || this.showCheckBox) {\n            if (this.mode !== 'Delimiter' && this.inputFocus) {\n                if (this.chipWrapper && (this.value && this.value.length !== 0)) {\n                    removeClass([this.chipWrapper], HIDEICON);\n                    addClass([this.inputEle], CHIP_INPUT);\n                }\n                addClass([this.inputWrapper], SHOW_CHIP);\n                if (this.popupObj) {\n                    this.popupObj.refreshPosition();\n                }\n            }\n            if (!this.wrapText && this.mode !== 'Custom') {\n                if (this.inputWrapper.contains(this.overFlowWrapper)) {\n                    addClass([this.overFlowWrapper], HIDEICON);\n                }\n                if (this.mode === 'Delimiter') {\n                    removeClass([this.inputWrapper], SHOW_CHIP);\n                    removeClass([this.inputEle], CHIP_INPUT);\n                }\n                else {\n                    addClass([this.inputWrapper], SHOW_CHIP);\n                }\n                removeClass([this.inputWrapper], SHOW_TEXT);\n                this.ensurePlaceHolder();\n            }\n        }\n        var args = { isInteracted: e ? true : false, event: e };\n        this.trigger('focus', args);\n    };\n    DropDownTree.prototype.treeAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'escape':\n                    case 'altUp':\n                        _this.inputWrapper.focus();\n                        e.preventDefault();\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'tab':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'enter':\n                    case 'ctrlEnter':\n                    case 'shiftEnter':\n                    case 'csEnter':\n                        if (!_this.showCheckBox) {\n                            _this.isValueChange = true;\n                            _this.keyEventArgs = e;\n                        }\n                        break;\n                    case 'space':\n                        _this.isValueChange = true;\n                        _this.keyEventArgs = e;\n                        break;\n                    case 'ctrlA':\n                        if (_this.allowMultiSelection) {\n                            _this.selectAll(true);\n                        }\n                        break;\n                    case 'moveRight':\n                    case 'moveLeft':\n                    case 'shiftDown':\n                    case 'moveDown':\n                    case 'ctrlDown':\n                    case 'csDown':\n                    case 'shiftUp':\n                    case 'moveUp':\n                    case 'ctrlUp':\n                    case 'csUp':\n                    case 'home':\n                    case 'shiftHome':\n                    case 'ctrlHome':\n                    case 'csHome':\n                    case 'end':\n                    case 'shiftEnd':\n                    case 'ctrlEnd':\n                    case 'csEnd':\n                }\n            }\n            else {\n                e.stopImmediatePropagation();\n            }\n        });\n    };\n    DropDownTree.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'escape':\n                    case 'altUp':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'shiftTab':\n                    case 'tab':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        if (_this.inputFocus) {\n                            _this.onFocusOut();\n                        }\n                        break;\n                    case 'altDown':\n                        if (!_this.isPopupOpen) {\n                            _this.showPopup();\n                            e.preventDefault();\n                        }\n                        break;\n                    case 'moveDown':\n                        if (_this.showSelectAll && _this.showCheckBox) {\n                            _this.checkAllParent.focus();\n                        }\n                        break;\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.checkAllAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'space':\n                        _this.clickHandler(e);\n                        break;\n                    case 'moveDown':\n                        var focusedElement = _this.treeObj.element.querySelector('li');\n                        focusedElement.focus();\n                        addClass([focusedElement], ['e-node-focus']);\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.windowResize = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ width: this.setWidth() });\n            this.popupObj.refreshPosition();\n        }\n    };\n    DropDownTree.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement && e.target === formElement) {\n            this.isDynamicChange = true;\n            this.setProperties({ value: null }, true);\n            this.resetValue(true);\n            this.isDynamicChange = false;\n        }\n    };\n    DropDownTree.prototype.getAriaAttributes = function () {\n        return {};\n    };\n    DropDownTree.prototype.updateOverFlowView = function () {\n        this.overFlowWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        removeClass([this.overFlowWrapper], HIDEICON);\n        if (this.value && this.value.length) {\n            var data = '';\n            var overAllContainer = void 0;\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            var downIconWidth = 0;\n            this.overFlowWrapper.innerHTML = '';\n            var l10nLocale = { overflowCountTemplate: '+${count} more..', totalCountTemplate: '${count} selected' };\n            this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            var remainContent = this.l10n.getConstant('overflowCountTemplate');\n            var totalContent = this.l10n.getConstant('totalCountTemplate');\n            var remainElement = this.createElement('span', { className: REMAIN_WRAPPER });\n            this.overFlowWrapper.appendChild(remainElement);\n            remainElement.innerText = remainContent.replace('${count}', this.value.length.toString());\n            var remainSize = remainElement.offsetWidth;\n            remove(remainElement);\n            if (this.showDropDownIcon) {\n                downIconWidth = select('.' + DDTICON, this.inputWrapper).offsetWidth;\n            }\n            if (!isNOU(this.value)) {\n                if (this.mode !== 'Box') {\n                    for (var index = 0; !isNOU(this.value[index]); index++) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = this.getOverflowVal(index);\n                        data += temp;\n                        temp = this.overFlowWrapper.innerHTML;\n                        if (this.enableHtmlSanitizer) {\n                            this.overFlowWrapper.innerText = SanitizeHtmlHelper.sanitize(data);\n                        }\n                        else {\n                            this.overFlowWrapper.innerHTML = data;\n                        }\n                        wrapperleng = this.overFlowWrapper.offsetWidth;\n                        overAllContainer = this.inputWrapper.offsetWidth;\n                        if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                            if (tempData !== undefined && tempData !== '') {\n                                temp = tempData;\n                                index = tempIndex + 1;\n                            }\n                            this.overFlowWrapper.innerHTML = temp;\n                            remaining = this.value.length - index;\n                            wrapperleng = this.overFlowWrapper.offsetWidth;\n                            while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) >= overAllContainer)\n                                && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                                var textArr = this.overFlowWrapper.innerHTML.split(this.delimiterChar);\n                                textArr.pop();\n                                this.overFlowWrapper.innerHTML = textArr.join(this.delimiterChar);\n                                remaining++;\n                                wrapperleng = this.overFlowWrapper.offsetWidth;\n                            }\n                            break;\n                        }\n                        else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                            tempData = data;\n                            tempIndex = index;\n                        }\n                        else if (index === 0) {\n                            tempData = '';\n                            tempIndex = -1;\n                        }\n                    }\n                }\n                else {\n                    addClass([this.chipWrapper], HIDEICON);\n                    var ele = this.chipWrapper.cloneNode(true);\n                    var chips = selectAll('.' + CHIP, ele);\n                    for (var i = 0; i < chips.length; i++) {\n                        temp = this.overFlowWrapper.innerHTML;\n                        this.overFlowWrapper.appendChild(chips[i]);\n                        data = this.overFlowWrapper.innerHTML;\n                        wrapperleng = this.overFlowWrapper.offsetWidth;\n                        overAllContainer = this.inputWrapper.offsetWidth;\n                        if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                            if (tempData !== undefined && tempData !== '') {\n                                temp = tempData;\n                                i = tempIndex + 1;\n                            }\n                            this.overFlowWrapper.innerHTML = temp;\n                            remaining = this.value.length - i;\n                            wrapperleng = this.overFlowWrapper.offsetWidth;\n                            while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) >= overAllContainer)\n                                && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                                this.overFlowWrapper.removeChild(this.overFlowWrapper.lastChild);\n                                remaining++;\n                                wrapperleng = this.overFlowWrapper.offsetWidth;\n                            }\n                            break;\n                        }\n                        else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                            tempData = data;\n                            tempIndex = i;\n                        }\n                        else if (i === 0) {\n                            tempData = '';\n                            tempIndex = -1;\n                        }\n                    }\n                }\n            }\n            if (remaining > 0) {\n                this.overFlowWrapper.appendChild(this.updateRemainTemplate(remainElement, remaining, remainContent, totalContent));\n            }\n            if (this.mode === 'Box' && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n                addClass([remainElement], REMAIN_COUNT);\n            }\n        }\n        else {\n            this.overFlowWrapper.innerHTML = '';\n            addClass([this.overFlowWrapper], HIDEICON);\n        }\n        this.updateDelimMode();\n    };\n    DropDownTree.prototype.updateRemainTemplate = function (remainElement, remaining, remainContent, totalContent) {\n        if (this.overFlowWrapper.firstChild && this.overFlowWrapper.firstChild.nodeType === 3 &&\n            this.overFlowWrapper.firstChild.nodeValue === '') {\n            this.overFlowWrapper.removeChild(this.overFlowWrapper.firstChild);\n        }\n        remainElement.innerHTML = '';\n        remainElement.innerText = (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) ?\n            remainContent.replace('${count}', remaining.toString()) : totalContent.replace('${count}', remaining.toString());\n        if (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) {\n            removeClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n        }\n        else {\n            addClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n            removeClass([this.overFlowWrapper], REMAIN_COUNT);\n        }\n        return remainElement;\n    };\n    DropDownTree.prototype.getOverflowVal = function (index) {\n        // eslint-disable-next-line\n        var selectedData = this.getSelectedData(this.value[index]);\n        return getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n    };\n    DropDownTree.prototype.updateDelimMode = function () {\n        if (this.mode !== 'Box') {\n            if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper) && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n                addClass([this.overFlowWrapper], REMAIN_COUNT);\n                addClass([this.overFlowWrapper], SHOW_TEXT);\n            }\n            else {\n                this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n                removeClass([this.overFlowWrapper], REMAIN_COUNT);\n            }\n        }\n        else if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper)) {\n            this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n        }\n    };\n    DropDownTree.prototype.createHiddenElement = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'class': HIDDENELEMENT, 'tabindex': '-1', 'multiple': '', 'aria-label': this.getModuleName() }\n            });\n        }\n        else {\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'tabindex': '-1', 'class': HIDDENELEMENT, 'aria-label': this.getModuleName() }\n            });\n        }\n        prepend([this.hiddenElement], this.inputWrapper);\n        this.validationAttribute();\n    };\n    DropDownTree.prototype.createClearIcon = function () {\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS\n        });\n        addClass([this.overAllClear], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CLEAR);\n        if (this.showClearButton) {\n            this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n        }\n    };\n    DropDownTree.prototype.validationAttribute = function () {\n        var name = this.inputEle.getAttribute('name') ? this.inputEle.getAttribute('name') : this.inputEle.getAttribute('id');\n        this.hiddenElement.setAttribute('name', name);\n        this.inputEle.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            var attr = this.inputEle.getAttribute(attributes[i]);\n            if (attr) {\n                this.hiddenElement.setAttribute(attributes[i], attr);\n                this.inputEle.removeAttribute(attributes[i]);\n            }\n        }\n    };\n    DropDownTree.prototype.createChip = function () {\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.chipWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER\n            });\n            this.chipCollection = this.createElement('span', {\n                className: CHIP_COLLECTION\n            });\n            this.chipWrapper.appendChild(this.chipCollection);\n            this.inputWrapper.insertBefore(this.chipWrapper, this.hiddenElement);\n            addClass([this.inputWrapper], SHOW_CHIP);\n            var isValid = this.getValidMode();\n            if (isValid && this.value !== null && (this.value && this.value.length !== 0)) {\n                addClass([this.inputEle], CHIP_INPUT);\n            }\n            else if (this.value === null || (this.value && this.value.length === 0) || this.checkWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n        }\n    };\n    DropDownTree.prototype.getValidMode = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            return this.mode === 'Box' ? true : (this.mode === 'Default' && this.inputFocus) ? true : false;\n        }\n        else {\n            return false;\n        }\n    };\n    DropDownTree.prototype.createSelectAllWrapper = function () {\n        this.checkAllParent = this.createElement('div', {\n            className: CHECKALLPARENT, attrs: { 'tabindex': '0' }\n        });\n        this.selectAllSpan = this.createElement('span', {\n            className: ALLTEXT\n        });\n        this.selectAllSpan.textContent = '';\n        var ele = closest(this.element, '.' + BIGGER);\n        var touchClass = isNOU(ele) ? '' : SMALL;\n        this.checkBoxElement = createCheckBox(this.createElement, true, { cssClass: touchClass });\n        this.checkBoxElement.setAttribute('role', 'checkbox');\n        this.checkAllParent.appendChild(this.checkBoxElement);\n        this.checkAllParent.appendChild(this.selectAllSpan);\n        this.setLocale();\n        EventHandler.add(this.checkAllParent, 'mouseup', this.clickHandler, this);\n        this.wireCheckAllWrapperEvents();\n    };\n    DropDownTree.prototype.clickHandler = function (e) {\n        var target;\n        if ((e.currentTarget && e.currentTarget.classList.contains(CHECKALLPARENT))) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.target;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        if (!isNOU(this.checkWrapper)) {\n            this.isClicked = true;\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.changeState(this.checkWrapper, checkElement.classList.contains(CHECK) ? 'uncheck' : 'check', e);\n            this.isClicked = false;\n        }\n        e.preventDefault();\n    };\n    DropDownTree.prototype.changeState = function (wrapper, state, e) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (!this.isReverseUpdate) {\n                this.isCheckAllCalled = true;\n                this.treeObj.checkAll();\n                if (!this.changeOnBlur) {\n                    this.triggerChangeEvent(e);\n                }\n            }\n            this.setLocale(true);\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK))) {\n            frameSpan.classList.remove(CHECK);\n            ariaState = 'false';\n            if (!this.isReverseUpdate) {\n                this.treeObj.uncheckAll();\n                if (!this.changeOnBlur) {\n                    this.triggerChangeEvent(e);\n                }\n            }\n            this.setLocale(false);\n        }\n        this.setMultiSelect();\n        this.ensurePlaceHolder();\n        ariaState = state === 'check' ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            wrapper.parentElement.setAttribute('aria-checked', ariaState);\n        }\n    };\n    DropDownTree.prototype.setLocale = function (unSelect) {\n        if (!this.selectAllSpan) {\n            return;\n        }\n        if (this.selectAllText !== 'Select All' || this.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.unSelectAllText : this.selectAllText;\n            this.selectAllSpan.textContent = '';\n            var compiledString = compile(template);\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n            for (var _i = 0, _a = compiledString({}, this, templateName, null, !this.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            this.selectAllSpan.textContent = unSelect ? this.unSelectAllText : this.selectAllText;\n        }\n    };\n    DropDownTree.prototype.setAttributes = function () {\n        this.inputEle.setAttribute('tabindex', '-1');\n        this.inputEle.setAttribute('aria-label', this.getModuleName());\n        var id = this.element.getAttribute('id');\n        this.hiddenElement.id = id + '_hidden';\n        this.inputWrapper.setAttribute('tabindex', '0');\n        this.inputWrapper.setAttribute('aria-label', this.getModuleName());\n        attributes(this.inputWrapper, this.getAriaAttributes());\n    };\n    DropDownTree.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    this.inputWrapper.classList.add(this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else if (htmlAttr === 'disabled') {\n                    this.setProperties({ enabled: false }, true);\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly') {\n                    this.setProperties({ readonly: true }, true);\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.setAttribute('style', this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder', 'aria-placeholder',\n                        'role', 'autocorrect', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        if (htmlAttr === 'placeholder') {\n                            Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputEle);\n                        }\n                        else {\n                            this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                    }\n                    else {\n                        this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.updateDataAttribute = function () {\n        var value = this.htmlAttributes;\n        var invalidAttr = ['class', 'style', 'id', 'type'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownTree.prototype.showOverAllClear = function () {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.overAllClear) {\n            var isValue = this.value ? (this.value.length ? true : false) : false;\n            if (isValue && this.showClearButton) {\n                removeClass([this.overAllClear], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CLEAR);\n            }\n            else {\n                addClass([this.overAllClear], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CLEAR);\n            }\n        }\n    };\n    DropDownTree.prototype.setTreeValue = function () {\n        if (this.value !== null && this.value.length !== 0) {\n            var data = void 0;\n            if (this.showCheckBox || this.allowMultiSelection) {\n                for (var i = 0; i < this.value.length; i++) {\n                    data = this.treeObj.getTreeData(this.value[i])[0];\n                    if (isNOU(data)) {\n                        this.value.splice(this.value.indexOf(this.value[i]), 1);\n                    }\n                }\n                if (this.value.length !== 0) {\n                    this.setValidValue();\n                }\n            }\n            else {\n                data = this.treeObj.getTreeData(this.value[0])[0];\n                if (!isNOU(data)) {\n                    this.setProperties({ text: data[this.fields.text] }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ value: this.currentValue }, true);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.setTreeText = function () {\n        if (this.value !== null && !this.isInitialized) {\n            return;\n        }\n        if (this.text !== null) {\n            var data = void 0;\n            var valArr = [];\n            if (this.showCheckBox || this.allowMultiSelection) {\n                var textArr = this.text.split(this.delimiterChar);\n                for (var i = 0; i < textArr.length; i++) {\n                    data = this.getItems(textArr[i]);\n                    if (!isNOU(data)) {\n                        valArr.push(data[this.fields.value].toString());\n                    }\n                }\n                if (valArr.length !== 0) {\n                    this.oldValue = this.value;\n                    this.setProperties({ value: valArr }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ text: this.currentText }, true);\n                }\n            }\n            else {\n                data = this.getItems(this.text);\n                if (!isNOU(data)) {\n                    this.oldValue = this.value;\n                    this.setProperties({ value: [data[this.fields.value].toString()] }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ text: this.currentText }, true);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.setSelectedValue = function () {\n        if (this.value != null) {\n            return;\n        }\n        if (!this.isInitialized) {\n            this.oldValue = this.value;\n            if (this.treeObj.selectedNodes.length > 0 && !this.showCheckBox) {\n                this.setProperties({ value: this.treeObj.selectedNodes }, true);\n                if (this.allowMultiSelection) {\n                    this.updateMode();\n                }\n            }\n            else if (this.showCheckBox && this.treeObj.checkedNodes) {\n                if (this.treeObj.checkedNodes.length > 0) {\n                    this.setProperties({ value: this.treeObj.checkedNodes }, true);\n                    setValue('selectedNodes', [], this.treeObj);\n                    this.treeObj.dataBind();\n                    this.updateMode();\n                }\n            }\n            this.updateSelectedValues();\n            this.currentText = this.text;\n            this.currentValue = this.value;\n        }\n    };\n    DropDownTree.prototype.setValidValue = function () {\n        var _this = this;\n        if (!this.showCheckBox && !this.allowMultiSelection) {\n            Input.setValue(this.text, this.inputEle, this.floatLabelType);\n            var id = this.value[0].toString();\n            if (this.treeObj.selectedNodes[0] !== id) {\n                setValue('selectedNodes', [id], this.treeObj);\n            }\n        }\n        else {\n            if (this.showCheckBox) {\n                var difference = this.value.filter(function (e) {\n                    return _this.treeObj.checkedNodes.indexOf(e) === -1;\n                });\n                if (difference.length > 0 || this.treeSettings.autoCheck) {\n                    this.treeObj.checkedNodes = this.value.slice();\n                    this.treeObj.dataBind();\n                    this.setMultiSelect();\n                }\n            }\n            else {\n                this.treeObj.selectedNodes = this.value.slice();\n                this.selectedText = [];\n                this.updateSelectedValues();\n            }\n            this.treeObj.dataBind();\n        }\n        this.currentText = this.text;\n        this.currentValue = this.value;\n        if (this.isInitialized) {\n            this.triggerChangeEvent();\n        }\n    };\n    DropDownTree.prototype.getItems = function (givenText) {\n        var data;\n        if (this.treeDataType === 1) {\n            for (var i = 0; i < this.treeItems.length; i++) {\n                // eslint-disable-next-line\n                var text = getValue(this.fields.text, this.treeItems[i]);\n                if (!isNOU(this.treeItems[i]) && !isNOU(text) && text === givenText) {\n                    data = this.treeItems[i];\n                    break;\n                }\n            }\n        }\n        else {\n            data = this.getNestedItems(this.treeItems, this.fields, givenText);\n        }\n        return data;\n    };\n    DropDownTree.prototype.getNestedItems = function (data, field, givenText) {\n        var newData;\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            // eslint-disable-next-line\n            var dataId = getValue(this.fields.text, data[i]);\n            if (data[i] && dataId && dataId.toString() === givenText) {\n                return data[i];\n            }\n            else if (typeof field.child === 'string' && !isNOU(getValue(field.child, data[i]))) {\n                // eslint-disable-next-line\n                var childData = getValue(field.child, data[i]);\n                newData = this.getNestedItems(childData, this.getChildType(field), givenText);\n                if (newData !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', data[i]))) {\n                var child = 'child';\n                // eslint-disable-next-line\n                newData = this.getNestedItems(getValue(child, data[i]), this.getChildType(field), givenText);\n                if (newData !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newData;\n    };\n    DropDownTree.prototype.getChildType = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    /* To render the treeview */\n    DropDownTree.prototype.renderTree = function () {\n        this.treeObj = new TreeView({\n            fields: this.getTreeFields(this.fields),\n            enableRtl: this.enableRtl,\n            nodeSelected: this.onNodeSelected.bind(this),\n            nodeChecked: this.onNodeChecked.bind(this),\n            nodeChecking: this.beforeCheck.bind(this),\n            nodeExpanded: this.onNodeExpanded.bind(this),\n            actionFailure: this.onActionFailure.bind(this),\n            nodeClicked: this.onNodeClicked.bind(this),\n            dataBound: this.OnDataBound.bind(this),\n            allowMultiSelection: this.allowMultiSelection,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            showCheckBox: this.showCheckBox,\n            autoCheck: this.treeSettings.autoCheck,\n            sortOrder: this.sortOrder,\n            expandOn: this.treeSettings.expandOn,\n            loadOnDemand: this.treeSettings.loadOnDemand,\n            nodeSelecting: this.onBeforeSelect.bind(this),\n            nodeTemplate: this.itemTemplate\n        });\n        this.treeObj.root = this.root ? this.root : this;\n        this.treeObj.appendTo(this.tree);\n    };\n    /* To render the popup element */\n    DropDownTree.prototype.renderPopup = function () {\n        var _this = this;\n        if (this.isFilteredData) {\n            this.filterObj.value = '';\n            this.treeObj.fields = this.getTreeFields(this.fields);\n            this.isFilterRestore = true;\n            this.isFilteredData = false;\n            this.hideCheckAll(false);\n        }\n        var isCancelled = false;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                addClass([_this.inputWrapper], [ICONANIMATION]);\n                if (_this.isFirstRender) {\n                    _this.popupEle = _this.createElement('div', {\n                        id: _this.element.id + '_options', className: POPUP_CLASS + ' ' + (_this.cssClass != null ? _this.cssClass : '')\n                    });\n                    _this.popupEle.setAttribute('role', 'region');\n                    _this.popupEle.setAttribute('aria-label', _this.element.id);\n                    document.body.appendChild(_this.popupEle);\n                    _this.createPopup(_this.popupEle);\n                }\n                else {\n                    _this.popupEle = _this.popupObj.element;\n                    if (_this.isReact && _this.isFilterRestore) {\n                        _this.treeObj.refresh();\n                        _this.isFilteredData = true;\n                        _this.popupEle.removeChild(_this.filterContainer);\n                    }\n                }\n            }\n            else {\n                isCancelled = true;\n            }\n            if (_this.isFirstRender && !isCancelled || _this.isFilteredData) {\n                _this.isFilteredData = false;\n                prepend([_this.popupDiv], _this.popupEle);\n                removeClass([_this.popupDiv], DDTHIDEICON);\n                if (_this.allowFiltering) {\n                    _this.renderFilter();\n                }\n                if (_this.showCheckBox && _this.showSelectAll && (!_this.popupDiv.classList.contains(NODATA))) {\n                    _this.createSelectAllWrapper();\n                    _this.popupEle.insertBefore(_this.checkAllParent, _this.popupDiv);\n                }\n                if (_this.headerTemplate) {\n                    _this.setHeaderTemplate();\n                }\n                if (_this.footerTemplate) {\n                    _this.setFooterTemplate();\n                }\n                _this.isFirstRender = false;\n                /* eslint-disable */\n                if (_this.hasTemplate && _this.portals) {\n                    if (_this.treeObj.portals) {\n                        _this.portals = _this.portals.concat(_this.treeObj.portals.filter(function (item) { return !_this.portals.includes(item); }));\n                    }\n                    /* eslint-enable */\n                    if (_this.isReact) {\n                        _this.renderReactTemplates(_this.reactCallBack);\n                    }\n                }\n            }\n            if (!isCancelled) {\n                attributes(_this.inputEle, { 'aria-expanded': 'true' });\n                _this.popupObj.show(null, (_this.zIndex === 1000) ? _this.inputEle : null);\n                removeClass([_this.popupEle], DDTHIDEICON);\n                _this.updatePopupHeight();\n                _this.popupObj.refreshPosition();\n                if (!(_this.showCheckBox && _this.showSelectAll) && (!_this.popupDiv.classList.contains(NODATA)\n                    && _this.treeItems.length > 0)) {\n                    var focusedElement = void 0;\n                    if (_this.value != null && _this.text != null) {\n                        _this.treeObj.element.querySelector('li').setAttribute('tabindex', '-1');\n                        focusedElement = _this.treeObj.element.querySelector('[data-uid=\"' + _this.value[0] + '\"]');\n                        focusedElement.setAttribute('tabindex', '0');\n                    }\n                    else {\n                        var oldFocussedNode = _this.treeObj.element.querySelector('.e-node-focus');\n                        focusedElement = _this.treeObj.element.querySelector('li:not(.e-disable):not(.e-prevent)');\n                        if (oldFocussedNode && oldFocussedNode != focusedElement) {\n                            oldFocussedNode.setAttribute('tabindex', '-1');\n                            removeClass([oldFocussedNode], 'e-node-focus');\n                        }\n                    }\n                    focusedElement.focus();\n                    addClass([focusedElement], ['e-node-focus']);\n                }\n                if (_this.treeObj.checkedNodes.length > 0) {\n                    var nodes = _this.treeObj.element.querySelectorAll('li');\n                    var checkedNodes = _this.treeObj.element.querySelectorAll('li[aria-checked=true]');\n                    if ((checkedNodes.length === nodes.length || _this.checkSelectAll) && _this.checkBoxElement) {\n                        var wrap = closest(_this.checkBoxElement, '.' + CHECKBOXWRAP);\n                        _this.changeState(wrap, 'check');\n                        _this.checkSelectAll = false;\n                    }\n                }\n                if (_this.allowFiltering) {\n                    removeClass([_this.inputWrapper], [INPUTFOCUS]);\n                    _this.filterObj.element.focus();\n                }\n                var eventArgs = { popup: _this.popupObj };\n                _this.trigger('open', eventArgs);\n            }\n        });\n    };\n    DropDownTree.prototype.reactCallBack = function () {\n        this.updatePopupHeight();\n        this.popupObj.refreshPosition();\n    };\n    DropDownTree.prototype.updatePopupHeight = function () {\n        if (this.isFirstRender) {\n            return;\n        }\n        var popupHeight = this.getHeight();\n        this.popupEle.style.maxHeight = popupHeight;\n        if (this.allowFiltering) {\n            var height = Math.round(this.filterContainer.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.headerTemplate) {\n            var height = Math.round(this.header.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.showCheckBox && this.showSelectAll && (!this.popupDiv.classList.contains(NODATA))) {\n            var height = Math.round(this.checkAllParent.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.footerTemplate) {\n            var height = Math.round(this.footer.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        var border = parseInt(window.getComputedStyle(this.popupEle).borderTopWidth, 10);\n        border = border + parseInt(window.getComputedStyle(this.popupEle).borderBottomWidth, 10);\n        popupHeight = formatUnit(parseInt(popupHeight, 10) - border + 'px');\n        this.popupDiv.style.maxHeight = popupHeight;\n    };\n    DropDownTree.prototype.createPopup = function (element) {\n        var _this = this;\n        if (this.isFirstRender) {\n            this.popupObj = new Popup(element, {\n                width: this.setWidth(),\n                targetType: 'relative',\n                collision: { X: 'flip', Y: 'flip' },\n                relateTo: this.inputWrapper,\n                zIndex: this.zIndex,\n                enableRtl: this.enableRtl,\n                position: { X: 'left', Y: 'bottom' },\n                close: function () {\n                    _this.isPopupOpen = false;\n                },\n                open: function () {\n                    EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                    _this.isPopupOpen = true;\n                },\n                targetExitViewport: function () {\n                    if (!Browser.isDevice) {\n                        _this.hidePopup();\n                    }\n                }\n            });\n        }\n    };\n    /* To calculate the width when change via set model */\n    DropDownTree.prototype.setElementWidth = function (inputWidth) {\n        var ddElement = this.inputWrapper;\n        if (!isNOU(inputWidth)) {\n            if (typeof inputWidth === 'number') {\n                ddElement.style.width = formatUnit(inputWidth);\n            }\n            else if (typeof inputWidth === 'string') {\n                ddElement.style.width = (inputWidth.match(/px|%|em/)) ? (inputWidth) :\n                    (formatUnit(inputWidth));\n            }\n        }\n    };\n    /* To calculate the width of the popup */\n    DropDownTree.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            width = (this.inputWrapper.offsetWidth * parseFloat(width) / 100).toString() + 'px';\n        }\n        else if (typeof this.popupWidth === 'string') {\n            width = (this.popupWidth.match(/px|em/)) ? (this.popupWidth) : width;\n        }\n        return width;\n    };\n    /* To calculate the height of the popup */\n    DropDownTree.prototype.getHeight = function () {\n        var height = formatUnit(this.popupHeight);\n        if (height.indexOf('%') > -1) {\n            // Will set the height of the popup according to the view port height\n            height = (document.documentElement.clientHeight * parseFloat(height) / 100).toString() + 'px';\n        }\n        else if (typeof this.popupHeight === 'string') {\n            height = (this.popupHeight.match(/px|em/)) ? (this.popupHeight) : height;\n        }\n        return height;\n    };\n    DropDownTree.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        var isTree = closest(target, '.' + PARENTITEM);\n        var isFilter = closest(target, '.' + FILTERWRAP);\n        var isHeader = closest(target, '.' + HEADER);\n        var isFooter = closest(target, '.' + FOOTER);\n        var isScroller = target.classList.contains(DROPDOWN) ? true :\n            (matches(target, '.e-ddt .e-popup') || matches(target, '.e-ddt .e-treeview'));\n        if ((this.isPopupOpen && ((!isNOU(this.inputWrapper) && this.inputWrapper.contains(target)) || isTree || isScroller || isHeader || isFooter)) ||\n            ((this.allowMultiSelection || this.showCheckBox) && (this.isPopupOpen && target.classList.contains(CHIP_CLOSE) ||\n                (this.isPopupOpen && (target.classList.contains(CHECKALLPARENT) || target.classList.contains(ALLTEXT)\n                    || target.classList.contains(CHECKBOXFRAME)))))) {\n            this.isDocumentClick = false;\n            e.preventDefault();\n        }\n        else if (!isNOU(this.inputWrapper) && !this.inputWrapper.contains(target) && this.inputFocus && !isFilter) {\n            this.focusOut(e);\n        }\n    };\n    DropDownTree.prototype.onActionFailure = function (e) {\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        addClass([this.popupDiv], NODATA);\n    };\n    DropDownTree.prototype.OnDataBound = function (args) {\n        this.treeItems = args.data;\n        if (this.treeItems.length <= 0) {\n            this.l10nUpdate();\n            addClass([this.popupDiv], NODATA);\n            this.hideCheckAll(true);\n        }\n        else if (this.popupDiv.classList.contains(NODATA) && this.treeItems.length >= 1) {\n            removeClass([this.popupDiv], NODATA);\n            this.hideCheckAll(false);\n        }\n        this.treeDataType = this.getTreeDataType(this.treeItems, this.fields);\n        if (this.isFirstRender && this.isRemoteData) {\n            this.setTreeValue();\n            this.setTreeText();\n            this.updateHiddenValue();\n            this.setSelectedValue();\n            if (!this.wrapText) {\n                this.updateView();\n            }\n            this.treeObj.element.focus();\n        }\n        var eventArgs = { data: args.data };\n        this.trigger('dataBound', eventArgs);\n        if (this.filterObj === null) {\n            this.isFilteredData = false;\n        }\n        if (this.isFilteredData) {\n            this.treeObj.expandAll();\n        }\n        if (this.isFilterRestore) {\n            this.restoreFilterSelection();\n            this.isFilterRestore = false;\n        }\n    };\n    DropDownTree.prototype.restoreFilterSelection = function () {\n        if (this.showCheckBox) {\n            this.treeObj.checkedNodes = this.value ? this.value : [];\n        }\n        else {\n            this.treeObj.selectedNodes = this.value ? this.value : [];\n        }\n    };\n    /* To set cssclass for the dropdowntree */\n    DropDownTree.prototype.setCssClass = function (newClass, oldClass) {\n        var elements = this.popupObj ? [this.inputWrapper, this.popupObj.element] : [this.inputWrapper];\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass(elements, newClass.split(' '));\n        }\n    };\n    DropDownTree.prototype.setEnableRTL = function (state) {\n        if (state) {\n            this.inputWrapper.classList.add(RTL);\n        }\n        else {\n            this.inputWrapper.classList.remove(RTL);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n        if (this.treeObj) {\n            this.treeObj.enableRtl = state;\n            this.treeObj.dataBind();\n        }\n    };\n    /* To set enable property */\n    DropDownTree.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputEle);\n        if (this.enabled) {\n            removeClass([this.inputWrapper], DISABLED);\n            this.inputEle.setAttribute('aria-disabled', 'false');\n            this.inputWrapper.setAttribute('aria-disabled', 'false');\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            addClass([this.inputWrapper], DISABLED);\n            if (this.inputWrapper && this.inputWrapper.classList.contains(INPUTFOCUS)) {\n                removeClass([this.inputWrapper], [INPUTFOCUS]);\n            }\n            this.inputEle.setAttribute('aria-disabled', 'true');\n            this.inputWrapper.setAttribute('aria-disabled', 'true');\n        }\n    };\n    DropDownTree.prototype.cloneFields = function (fields) {\n        var clonedField = {\n            dataSource: fields.dataSource, value: fields.value, text: fields.text, parentValue: fields.parentValue,\n            child: this.cloneChildField(fields.child), hasChildren: fields.hasChildren, expanded: fields.expanded,\n            iconCss: fields.iconCss, imageUrl: fields.imageUrl, htmlAttributes: fields.htmlAttributes, query: fields.query,\n            selected: fields.selected, selectable: fields.selectable, tableName: fields.tableName, tooltip: fields.tooltip\n        };\n        return clonedField;\n    };\n    DropDownTree.prototype.cloneChildField = function (fields) {\n        if (typeof fields === 'string') {\n            return fields;\n        }\n        else {\n            var clonedField = {\n                dataSource: fields.dataSource, value: fields.value, text: fields.text, parentValue: fields.parentValue,\n                child: (fields.child ? this.cloneChildField(fields.child) : null), hasChildren: fields.hasChildren,\n                expanded: fields.expanded, iconCss: fields.iconCss, imageUrl: fields.imageUrl, htmlAttributes: fields.htmlAttributes,\n                query: fields.query, selected: fields.selected, selectable: fields.selectable, tableName: fields.tableName, tooltip: fields.tooltip\n            };\n            return clonedField;\n        }\n    };\n    DropDownTree.prototype.getTreeFields = function (fields) {\n        var treeFields = {\n            dataSource: fields.dataSource, id: fields.value, text: fields.text, parentID: fields.parentValue,\n            child: this.getTreeChildren(fields.child), hasChildren: fields.hasChildren, expanded: fields.expanded,\n            iconCss: fields.iconCss, imageUrl: fields.imageUrl, isChecked: fields.selected,\n            htmlAttributes: fields.htmlAttributes, query: fields.query, selectable: fields.selectable, selected: fields.selected,\n            tableName: fields.tableName, tooltip: fields.tooltip\n        };\n        return treeFields;\n    };\n    DropDownTree.prototype.getTreeChildren = function (mapper) {\n        if (typeof mapper === 'string') {\n            return mapper;\n        }\n        else if (!isNOU(mapper)) {\n            mapper = this.getActualProperties(mapper);\n            var childFields = mapper;\n            if (mapper.value) {\n                childFields.id = mapper.value;\n            }\n            if (mapper.parentValue) {\n                childFields.parentID = mapper.parentValue;\n            }\n            if (mapper.child) {\n                childFields.child = this.getTreeChildren(mapper.child);\n            }\n            if (mapper.selected && this.showCheckBox) {\n                childFields.isChecked = mapper.selected;\n            }\n            return childFields;\n        }\n        return null;\n    };\n    DropDownTree.prototype.getTreeDataType = function (ds, field) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if ((typeof field.child === 'string') && isNOU(getValue(field.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        if (isNOU(this.fields.dataSource)) {\n            this.fields.dataSource = [];\n        }\n        for (var i = 0, len = this.fields.dataSource.length; i < len; i++) {\n            if ((typeof field.child === 'string') && !isNOU(getValue(field.child, this.fields.dataSource[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(field.parentValue, this.fields.dataSource[i])) || !isNOU(getValue(field.hasChildren, this.fields.dataSource[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    /* Triggers when the tree fields is changed dynamically */\n    DropDownTree.prototype.setFields = function () {\n        this.resetValue();\n        if (this.hasTemplate) {\n            this.updateTemplate();\n        }\n        this.treeObj.fields = this.getTreeFields(this.fields);\n        this.treeObj.dataBind();\n    };\n    DropDownTree.prototype.getEventArgs = function (args) {\n        var checkData = args.data;\n        var selectData = args.nodeData;\n        var state;\n        if (this.showCheckBox) {\n            if (args.action === 'check') {\n                state = 'select';\n            }\n            else if (args.action === 'uncheck') {\n                state = 'un-select';\n            }\n        }\n        var eventArgs = {\n            action: this.showCheckBox ? state : args.action,\n            isInteracted: this.isClicked ? true : args.isInteracted,\n            item: args.node,\n            itemData: this.showCheckBox ? checkData[0] : selectData\n        };\n        return eventArgs;\n    };\n    DropDownTree.prototype.onBeforeSelect = function (args) {\n        if (args.isInteracted) {\n            this.oldValue = this.value ? this.value.slice() : this.value;\n            if (this.value === null) {\n                this.setProperties({ value: [] }, true);\n            }\n        }\n    };\n    DropDownTree.prototype.updateHiddenValue = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            return;\n        }\n        if (this.value && this.value.length) {\n            this.hiddenElement.innerHTML = '<option selected value =\"' + this.value[0] + '\">' + this.text + '</option>';\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /* Triggers when the tree node is selected */\n    DropDownTree.prototype.onNodeSelected = function (args) {\n        if (this.showCheckBox) {\n            return;\n        }\n        var eventArgs = this.getEventArgs(args);\n        this.trigger('select', eventArgs);\n        var selectedText;\n        if (args.isInteracted) {\n            var id = getValue('id', args.nodeData).toString();\n            if (!this.allowMultiSelection) {\n                this.hiddenElement.innerHTML = '';\n                this.setProperties({ value: [id] }, true);\n                if (this.itemTemplate) {\n                    selectedText = getValue('text', this.treeObj.getNode(id));\n                }\n                else {\n                    selectedText = getValue('text', args.nodeData).toString();\n                }\n                Input.setValue(selectedText, this.inputEle, this.floatLabelType);\n                this.setProperties({ text: selectedText }, true);\n                this.currentText = this.text;\n                this.currentValue = this.value;\n                attributes(this.inputWrapper, { 'aria-describedby': this.element.id });\n                attributes(this.inputWrapper, { 'aria-activedescendant': id.toString() });\n                this.updateHiddenValue();\n                this.showOverAllClear();\n                this.hidePopup();\n                this.isNodeSelected = true;\n            }\n            else if (this.allowMultiSelection) {\n                this.setMultiSelect();\n            }\n        }\n        if (this.isValueChange && !this.changeOnBlur) {\n            this.triggerChangeEvent(this.keyEventArgs);\n            this.isValueChange = false;\n        }\n    };\n    DropDownTree.prototype.onNodeClicked = function (args) {\n        if (!this.changeOnBlur && this.isNodeSelected) {\n            this.triggerChangeEvent(args.event);\n            this.isNodeSelected = false;\n        }\n        var target = args.event.target;\n        if ((target.classList.contains('e-fullrow') || target.classList.contains('e-list-text')) && this.showCheckBox) {\n            this.isClicked = true;\n            var getNodeDetails = this.treeObj.getNode(args.node);\n            if (getNodeDetails.isChecked === 'true') {\n                this.treeObj.uncheckAll([args.node]);\n            }\n            else {\n                this.treeObj.checkAll([args.node]);\n            }\n            this.isClicked = false;\n            this.setMultiSelect();\n            this.ensurePlaceHolder();\n        }\n        if (!this.changeOnBlur && (this.allowMultiSelection || this.showCheckBox)) {\n            this.triggerChangeEvent(args.event);\n        }\n    };\n    DropDownTree.prototype.onNodeChecked = function (args) {\n        var eventArgs = this.getEventArgs(args);\n        this.trigger('select', eventArgs);\n        if (this.isFilteredData && args.action === 'uncheck') {\n            var id = getValue('id', args.data[0]).toString();\n            this.removeSelectedData(id, true);\n        }\n        if (!this.isChipDelete && args.isInteracted) {\n            this.setMultiSelect();\n            this.ensurePlaceHolder();\n        }\n        if (this.showSelectAll && this.checkBoxElement) {\n            var nodes = this.treeObj.element.querySelectorAll('li');\n            var checkedNodes = this.treeObj.element.querySelectorAll('li[aria-checked=true]');\n            var wrap = closest(this.checkBoxElement, '.' + CHECKBOXWRAP);\n            if (wrap && args.action === 'uncheck' && (args.isInteracted || checkedNodes.length === 0 || (!isNOU(args.data[0]) && args.data[0].isChecked === 'false'))) {\n                this.isReverseUpdate = true;\n                this.changeState(wrap, 'uncheck');\n                this.isReverseUpdate = false;\n            }\n            else if (wrap && args.action === 'check' && checkedNodes.length === nodes.length && (args.isInteracted || this.isCheckAllCalled || (!isNOU(args.data[0]) && args.data[0].isChecked === 'true'))) {\n                this.isReverseUpdate = true;\n                this.isCheckAllCalled = false;\n                this.changeState(wrap, 'check');\n                this.isReverseUpdate = false;\n            }\n        }\n    };\n    DropDownTree.prototype.beforeCheck = function (args) {\n        if (args.isInteracted) {\n            this.oldValue = this.value ? this.value.slice() : this.value;\n        }\n    };\n    DropDownTree.prototype.onNodeExpanded = function (args) {\n        if (this.hasTemplate && this.portals && this.treeObj.portals) {\n            for (var i = 0; i < this.treeObj.portals.length; i++) {\n                if (this.portals.indexOf(this.treeObj.portals[i]) === -1) {\n                    this.portals.push(this.treeObj.portals[i]);\n                }\n            }\n            /* eslint-enable */\n            this.renderReactTemplates();\n        }\n    };\n    DropDownTree.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (!this.inputWrapper.contains(this.overAllClear)) {\n                this.inputEle.parentElement.insertBefore(this.overAllClear, this.inputEle.nextSibling);\n            }\n            else {\n                removeClass([this.overAllClear], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CLEAR);\n            }\n        }\n        else {\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n            var chipClose = selectAll('.' + CHIP_CLOSE, this.chipWrapper);\n            for (var i = 0; i < chipClose.length; i++) {\n                if (!state) {\n                    addClass([chipClose[i]], HIDEICON);\n                }\n                else {\n                    removeClass([chipClose[i]], HIDEICON);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.updateDropDownIconState = function (state) {\n        var spinIcon = select('.' + DDTICON, this.inputWrapper);\n        if (state) {\n            if (!spinIcon) {\n                Input.appendSpan(DROPDOWNICON, this.inputWrapper, this.createElement);\n            }\n            else {\n                removeClass([spinIcon], HIDEICON);\n            }\n            addClass([this.inputWrapper], SHOW_DD_ICON);\n        }\n        else {\n            addClass([spinIcon], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_DD_ICON);\n        }\n    };\n    DropDownTree.prototype.updateMode = function () {\n        if (this.mode === 'Custom') {\n            return;\n        }\n        if (this.mode !== 'Delimiter') {\n            if (!this.inputWrapper.contains(this.chipWrapper)) {\n                this.createChip();\n            }\n            var isValid = this.getValidMode();\n            if (this.chipWrapper.classList.contains(HIDEICON) && isValid) {\n                removeClass([this.chipWrapper], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CHIP);\n            }\n            else if (!isValid) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n            var isValue = this.value !== null ? (this.value.length !== 0 ? true : false) : false;\n            if (isValid && isValue) {\n                addClass([this.inputEle], CHIP_INPUT);\n            }\n            else {\n                removeClass([this.inputEle], CHIP_INPUT);\n            }\n        }\n        else if (this.inputEle.classList.contains(CHIP_INPUT)) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n        }\n    };\n    DropDownTree.prototype.ensurePlaceHolder = function () {\n        if (isNOU(this.value) || (this.value && this.value.length === 0)) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n        }\n    };\n    DropDownTree.prototype.ensureClearIconPosition = function (floatLabelType) {\n        if (floatLabelType !== 'Never') {\n            this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n        }\n    };\n    DropDownTree.prototype.setMultiSelectValue = function (newValues) {\n        if (!this.isFilteredData) {\n            this.setProperties({ value: this.isFromFilterChange && newValues && newValues.length === 0 ? this.value : newValues }, true);\n            this.isFromFilterChange = false;\n            if (newValues && newValues.length !== 0 && !this.showCheckBox) {\n                this.treeObj.selectedNodes = this.value.slice();\n                this.treeObj.dataBind();\n            }\n        }\n        else {\n            var selectedValues = isNOU(this.value) ? [] : this.value;\n            for (var i = 0; i < newValues.length; i++) {\n                if (isNOU(this.value) || this.value.indexOf(newValues[i]) === -1) {\n                    selectedValues.push(newValues[i]);\n                }\n            }\n            this.setProperties({ value: selectedValues }, true);\n        }\n    };\n    DropDownTree.prototype.setMultiSelect = function () {\n        if (this.showCheckBox && !this.isDynamicChange) {\n            this.setMultiSelectValue(this.treeObj.checkedNodes.slice());\n        }\n        else {\n            var ddtValue = this.allowMultiSelection ? (this.showCheckBox ? this.treeObj.checkedNodes\n                : this.treeObj.selectedNodes) : (this.value ? (this.showCheckBox ? this.value : [this.value[0]]) : null);\n            this.setMultiSelectValue(ddtValue);\n            if (this.showCheckBox && this.value !== null) {\n                this.treeObj.checkedNodes = this.value;\n                this.treeObj.dataBind();\n            }\n        }\n        this.selectedText = [];\n        var checkSelection = this.allowMultiSelection ? true : (this.showCheckBox ? true : false);\n        if (this.inputWrapper.contains(this.chipWrapper) && !checkSelection) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            detach(this.chipWrapper);\n        }\n        var isValid = this.getValidMode();\n        if (isValid && this.value !== null) {\n            addClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                removeClass([this.chipWrapper], HIDEICON);\n            }\n        }\n        var isValue = this.value ? (this.value.length ? true : false) : false;\n        if (this.chipWrapper && (this.mode === 'Box' && !isValue)) {\n            addClass([this.chipWrapper], HIDEICON);\n            removeClass([this.inputEle], CHIP_INPUT);\n        }\n        this.updateSelectedValues();\n    };\n    DropDownTree.prototype.getSelectedData = function (value) {\n        var data = null;\n        if (this.isFilteredData) {\n            for (var i = 0; i < this.selectedData.length; i++) {\n                if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n                    data = this.selectedData[i];\n                    break;\n                }\n            }\n        }\n        if (isNOU(data)) {\n            if (this.treeSettings.loadOnDemand) {\n                data = this.getNodeData(value);\n            }\n            else {\n                data = this.treeObj.getNode(value);\n            }\n            if (!isNOU(data)) {\n                this.selectedData.push(data);\n            }\n        }\n        return data;\n    };\n    DropDownTree.prototype.getNodeData = function (id) {\n        var childItems;\n        if (isNOU(id)) {\n            return childItems;\n        }\n        else if (this.treeDataType === 1) {\n            for (var i = 0, objlen = this.treeItems.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.value, this.treeItems[i]);\n                if (!isNOU(this.treeItems[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return this.treeItems[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeData(this.treeItems, this.fields, id);\n        }\n        return childItems;\n    };\n    DropDownTree.prototype.getChildNodeData = function (obj, mapper, id) {\n        var newChildItems;\n        if (isNOU(obj)) {\n            return newChildItems;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataValue = getValue(mapper.value, obj[i]);\n            if (obj[i] && dataValue && dataValue.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childNodeData = getValue(mapper.child, obj[i]);\n                newChildItems = this.getChildNodeData(childNodeData, this.getChildMapperFields(mapper), id);\n                if (newChildItems !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newChildItems = this.getChildNodeData(getValue(child, obj[i]), this.getChildMapperFields(mapper), id);\n                if (newChildItems !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newChildItems;\n    };\n    DropDownTree.prototype.getChildMapperFields = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    DropDownTree.prototype.removeSelectedData = function (value, muteOnChange) {\n        var selectedValues = isNOU(this.value) ? [] : this.value.slice();\n        selectedValues.splice(selectedValues.indexOf(value), 1);\n        this.setProperties({ value: selectedValues }, muteOnChange);\n        for (var i = 0; i < this.selectedData.length; i++) {\n            if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n                this.selectedData.splice(i, 1);\n                break;\n            }\n        }\n    };\n    DropDownTree.prototype.updateSelectedValues = function () {\n        this.dataValue = '';\n        var temp;\n        var text;\n        var textValue = '';\n        var selectedData;\n        this.hiddenElement.innerHTML = '';\n        var hiddenInputValue = '';\n        if ((!this.isChipDelete || this.treeSettings.autoCheck) && (this.inputWrapper.contains(this.chipWrapper))) {\n            this.chipCollection.innerHTML = '';\n        }\n        if (!this.isFilteredData) {\n            this.selectedData = [];\n        }\n        if (!isNOU(this.value)) {\n            for (var i = 0, len = this.value.length; i < len; i++) {\n                selectedData = this.getSelectedData(this.value[i]);\n                text = getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n                this.selectedText.push(text);\n                temp = this.selectedText[this.selectedText.length - 1];\n                if (this.selectedText.length > 1) {\n                    this.dataValue += (this.delimiterChar + ' ' + temp);\n                    textValue += (',' + temp);\n                }\n                else {\n                    this.dataValue += temp;\n                    textValue += temp;\n                }\n                if (this.mode !== 'Custom' && this.mode !== 'Delimiter' && (!this.isChipDelete || this.treeSettings.autoCheck) &&\n                    (this.allowMultiSelection || this.showCheckBox)) {\n                    this.setChipValues(temp, this.value[i]);\n                }\n                hiddenInputValue += '<option selected value =\"' + this.value[i] + '\">' +\n                    this.selectedText[this.selectedText.length - 1] + '</option>';\n            }\n            if (this.selectedText.length >= 1) {\n                this.setProperties({ text: textValue }, true);\n            }\n            this.hiddenElement.innerHTML = hiddenInputValue;\n            if (this.mode === 'Custom' && (this.allowMultiSelection || this.showCheckBox)) {\n                this.setTagValues();\n            }\n        }\n        var isValid = this.getValidMode();\n        if (this.mode !== 'Custom' && this.mode !== 'Box' && (this.allowMultiSelection || this.showCheckBox) && !isValid) {\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n        }\n        Input.setValue(this.dataValue, this.inputEle, this.floatLabelType);\n        if (textValue === '') {\n            this.setProperties({ text: null }, true);\n        }\n        else {\n            this.setProperties({ text: textValue }, true);\n        }\n        if (this.showClearButton && this.inputFocus) {\n            this.showOverAllClear();\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.popupObj) {\n            this.popupObj.refreshPosition();\n        }\n        this.currentText = this.text;\n        this.currentValue = this.value;\n    };\n    DropDownTree.prototype.setChipValues = function (text, value) {\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.createChip();\n        }\n        var chip = this.createElement('span', {\n            className: CHIP,\n            attrs: { 'data-value': value }\n        });\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE + ' ' + ICONS });\n        if (this.enableHtmlSanitizer) {\n            chipContent.innerText = SanitizeHtmlHelper.sanitize(text);\n        }\n        else {\n            chipContent.innerHTML = text;\n        }\n        chip.appendChild(chipContent);\n        this.chipCollection.appendChild(chip);\n        if (this.showClearButton) {\n            chip.appendChild(chipClose);\n            EventHandler.add(chipClose, 'mousedown', this.removeChip, this);\n        }\n    };\n    DropDownTree.prototype.setTagValues = function () {\n        if (this.value === null || this.text == null) {\n            return;\n        }\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.createChip();\n        }\n        if (!this.inputWrapper.classList.contains(SHOW_CHIP)) {\n            addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        var chip = this.createElement('span', {\n            className: CHIP\n        });\n        if (!this.inputEle.classList.contains(CHIP_INPUT)) {\n            addClass([this.inputEle], CHIP_INPUT);\n        }\n        if (this.chipWrapper.classList.contains(HIDEICON)) {\n            removeClass([this.chipWrapper], HIDEICON);\n        }\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var template = this.customTemplate;\n        var templateId = this.customTemplateId;\n        var templatestring = 'customTemplate';\n        var compiledString = this.templateComplier(template);\n        var tempArr = compiledString({ 'value': this.value, 'text': this.text }, this, templatestring, templateId, this.isStringTemplate, undefined, chipContent);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, chipContent);\n        }\n        chip.appendChild(chipContent);\n        this.chipCollection.appendChild(chip);\n    };\n    DropDownTree.prototype.setSelectAllWrapper = function (state) {\n        if (this.isFirstRender) {\n            return;\n        }\n        if (state && !this.popupEle.contains(this.checkAllParent) && this.showCheckBox) {\n            this.createSelectAllWrapper();\n            this.popupEle.insertBefore(this.checkAllParent, this.popupDiv);\n        }\n        else if (this.popupEle.contains(this.checkAllParent)) {\n            detach(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    DropDownTree.prototype.setHeaderTemplate = function () {\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], HEADER);\n        }\n        var compiledString = this.templateComplier(this.headerTemplate);\n        var tempArr = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, undefined, this.header);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, this.header);\n        }\n        this.popupEle.insertBefore(this.header, this.checkAllParent ? this.checkAllParent : this.popupDiv);\n    };\n    DropDownTree.prototype.templateComplier = function (template) {\n        if (template) {\n            // eslint-disable-next-line\n            var e = void 0;\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return compile(template);\n    };\n    DropDownTree.prototype.setFooterTemplate = function () {\n        if (this.footer) {\n            if (this.isReact && typeof this.footerTemplate === 'function') {\n                this.clearTemplate(['footerTemplate']);\n            }\n            else {\n                this.footer.innerHTML = '';\n            }\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], FOOTER);\n        }\n        var compiledString = this.templateComplier(this.footerTemplate);\n        var tempArr = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, undefined, this.footer);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, this.footer);\n        }\n        append([this.footer], this.popupEle);\n    };\n    DropDownTree.prototype.clearAll = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.resetValue();\n        this.showOverAllClear();\n        if ((this.allowMultiSelection || this.showCheckBox)) {\n            if (this.popupObj) {\n                this.popupObj.refreshPosition();\n            }\n            if (!this.wrapText) {\n                this.updateOverflowWrapper(true);\n            }\n        }\n        if (e) {\n            this.isClearButtonClick = true;\n        }\n        if (!this.changeOnBlur) {\n            this.triggerChangeEvent(e);\n        }\n    };\n    DropDownTree.prototype.removeChip = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var element = e.target.parentElement;\n        var value = element.getAttribute('data-value');\n        if (this.chipCollection) {\n            if (element) {\n                remove(element);\n            }\n        }\n        this.isChipDelete = true;\n        this.isClearButtonClick = true;\n        this.removeSelectedData(value, true);\n        this.selectedText = [];\n        if (this.allowMultiSelection) {\n            this.treeObj.selectedNodes = this.value.slice();\n            this.updateSelectedValues();\n        }\n        if (this.showCheckBox) {\n            this.treeObj.uncheckAll([value]);\n            this.clearCheckAll();\n            this.setMultiSelect();\n        }\n        this.triggerChangeEvent(e);\n        this.isChipDelete = false;\n        this.ensurePlaceHolder();\n    };\n    DropDownTree.prototype.resetValue = function (isDynamicChange) {\n        if (this.value === [] && this.text == null) {\n            return;\n        }\n        Input.setValue(null, this.inputEle, this.floatLabelType);\n        if (!isDynamicChange) {\n            this.oldValue = this.value;\n            this.setProperties({ value: [] }, true);\n        }\n        this.dataValue = null;\n        this.setProperties({ text: null }, true);\n        this.selectedData = [];\n        setValue('selectedNodes', [], this.treeObj);\n        this.hiddenElement.innerHTML = '';\n        if (this.showCheckBox) {\n            this.treeObj.uncheckAll();\n            this.setMultiSelect();\n            this.clearCheckAll();\n        }\n        if (this.oldValue === null && !isDynamicChange) {\n            this.removeValue = true;\n        }\n        else if (isDynamicChange) {\n            this.triggerChangeEvent();\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n            this.chipCollection.innerHTML = '';\n            if (!this.wrapText) {\n                this.updateOverflowWrapper(true);\n            }\n            this.ensurePlaceHolder();\n        }\n    };\n    DropDownTree.prototype.clearCheckAll = function () {\n        if (this.showSelectAll && this.value && this.value.length === 0) {\n            this.setLocale(false);\n        }\n    };\n    DropDownTree.prototype.selectAllItems = function (state) {\n        if (this.showCheckBox) {\n            if (state) {\n                this.isCheckAllCalled = true;\n                this.treeObj.checkAll();\n            }\n            else {\n                this.treeObj.uncheckAll();\n            }\n            this.checkSelectAll = state;\n        }\n        else if (this.allowMultiSelection) {\n            if (!state) {\n                this.treeObj.selectedNodes = [];\n            }\n            else {\n                var li = selectAll('li', this.treeObj.element);\n                var id = void 0;\n                var arr = [];\n                for (var i = 0; i < li.length; i++) {\n                    id = li[i].getAttribute('data-uid').toString();\n                    arr.push(id);\n                }\n                this.treeObj.selectedNodes = arr;\n            }\n        }\n        this.updateMode();\n        this.setMultiSelect();\n        if (!this.wrapText) {\n            if (state) {\n                this.updateView();\n            }\n            else {\n                this.updateOverflowWrapper(true);\n            }\n        }\n    };\n    DropDownTree.prototype.updateTreeSettings = function (prop) {\n        var value = Object.keys(prop.treeSettings)[0];\n        if (value === 'autoCheck') {\n            this.treeObj.autoCheck = this.treeSettings.autoCheck;\n        }\n        else if (value === 'loadOnDemand') {\n            this.treeObj.loadOnDemand = this.treeSettings.loadOnDemand;\n        }\n        else if (value === 'expandOn') {\n            this.treeObj.expandOn = this.treeSettings.expandOn;\n            this.treeObj.dataBind();\n            return;\n        }\n        this.treeObj.dataBind();\n        this.setMultiSelect();\n        this.updateValue(this.value);\n    };\n    DropDownTree.prototype.updateCheckBoxState = function (checkBox) {\n        if (this.hasTemplate) {\n            this.updateTemplate();\n        }\n        if (!this.wrapText) {\n            this.updateOverflowWrapper(false);\n        }\n        this.treeObj.showCheckBox = checkBox;\n        this.treeObj.dataBind();\n        this.isDynamicChange = true;\n        this.setSelectAllWrapper(this.showSelectAll);\n        if (this.showSelectAll) {\n            this.setLocale();\n        }\n        if (this.showCheckBox) {\n            this.updateMode();\n        }\n        this.setMultiSelect();\n        this.isDynamicChange = false;\n    };\n    DropDownTree.prototype.updateTemplate = function () {\n        if (this.popupObj) {\n            this.clearTemplate();\n            /* eslint-disable */\n            this.portals = [];\n            /* eslint-enable */\n            this.popupObj.destroy();\n            if (this.isPopupOpen) {\n                this.hidePopup();\n                this.isFirstRender = true;\n                this.renderPopup();\n            }\n            else {\n                this.isFirstRender = true;\n            }\n        }\n    };\n    DropDownTree.prototype.l10nUpdate = function (actionFailure) {\n        if (this.noRecord) {\n            this.noRecord.innerHTML = '';\n        }\n        else {\n            this.noRecord = this.createElement('div');\n        }\n        if (this.noRecordsTemplate !== 'No Records Found' || this.actionFailureTemplate !== 'The Request Failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            var templatestring = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n            var compiledString = this.templateComplier(template);\n            var tempArr = compiledString({}, this, templatestring, templateId, this.isStringTemplate, undefined, this.noRecord);\n            if (tempArr) {\n                tempArr = Array.prototype.slice.call(tempArr);\n                append(tempArr, this.noRecord);\n            }\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No Records Found', actionFailureTemplate: 'The Request Failed' };\n            this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            this.noRecord.innerHTML = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n        }\n        addClass([this.noRecord], NODATACONTAINER);\n        prepend([this.noRecord], this.popupDiv);\n    };\n    DropDownTree.prototype.updateRecordTemplate = function (action) {\n        if (this.treeItems && this.treeItems.length <= 0) {\n            this.l10nUpdate(action);\n            if (this.hasTemplate) {\n                this.updateTemplate();\n            }\n        }\n    };\n    DropDownTree.prototype.updateOverflowWrapper = function (state) {\n        if (!state) {\n            if (!this.inputWrapper.contains(this.overFlowWrapper)) {\n                this.overFlowWrapper = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + HIDEICON });\n                this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n            }\n        }\n        else if (this.inputWrapper.contains(this.overFlowWrapper) && state) {\n            this.overFlowWrapper.innerHTML = '';\n        }\n    };\n    DropDownTree.prototype.updateMultiSelection = function (state) {\n        if (!this.wrapText) {\n            this.updateOverflowWrapper(false);\n        }\n        this.treeObj.allowMultiSelection = state;\n        this.treeObj.dataBind();\n        this.updateOption();\n        if (this.allowMultiSelection) {\n            this.updateMode();\n        }\n        this.setMultiSelect();\n    };\n    DropDownTree.prototype.updateAllowFiltering = function (state) {\n        if (!this.isFirstRender) {\n            if (state) {\n                this.renderFilter();\n            }\n            else {\n                this.destroyFilter();\n            }\n        }\n    };\n    DropDownTree.prototype.updateFilterPlaceHolder = function () {\n        if (this.filterObj) {\n            this.filterObj.placeholder = this.filterBarPlaceholder;\n            this.filterObj.element.setAttribute('aria-label', this.filterBarPlaceholder);\n        }\n    };\n    DropDownTree.prototype.updateValue = function (value) {\n        this.isDynamicChange = true;\n        if (isNOU(value) || value.length === 0) {\n            this.resetValue(true);\n        }\n        else {\n            this.setTreeValue();\n            if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                this.updateOverflowWrapper(false);\n                this.updateView();\n            }\n        }\n        this.updateHiddenValue();\n        this.isDynamicChange = false;\n    };\n    DropDownTree.prototype.updateText = function (text) {\n        if (isNOU(text)) {\n            this.resetValue();\n        }\n        else {\n            this.setTreeText();\n            if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                this.updateOverflowWrapper(false);\n                this.updateView();\n            }\n        }\n        this.updateHiddenValue();\n    };\n    DropDownTree.prototype.updateModelMode = function () {\n        var validMode = this.allowMultiSelection ? true : (this.showCheckBox ? true : false);\n        if (!validMode) {\n            return;\n        }\n        if (!this.wrapText) {\n            var overFlow = select('.' + OVERFLOW_VIEW, this.inputWrapper);\n            if (overFlow) {\n                overFlow.innerHTML = '';\n            }\n        }\n        this.updateMode();\n        this.setMultiSelect();\n        if (!this.wrapText && (this.value && this.value.length !== 0)) {\n            this.updateOverFlowView();\n            addClass([this.inputEle], CHIP_INPUT);\n            if (this.mode === 'Box') {\n                removeClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n            }\n            else {\n                addClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n            }\n        }\n    };\n    DropDownTree.prototype.updateOption = function () {\n        if (!this.hiddenElement.hasAttribute('multiple') && (this.allowMultiSelection || this.showCheckBox)) {\n            this.hiddenElement.setAttribute('multiple', '');\n        }\n        else if (this.hiddenElement.hasAttribute('multiple') && (!this.allowMultiSelection && !this.showCheckBox)) {\n            this.hiddenElement.removeAttribute('multiple');\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {DropDownTreeModel} newProp - specifies the newProp value.\n     * @param {DropDownTreeModel} oldProp - specifies the newProp value.\n     * @returns {void}\n     * @private\n     */\n    DropDownTree.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    this.setElementWidth(newProp.width);\n                    if (this.popupObj) {\n                        this.popupObj.element.style.width = this.setWidth();\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputEle);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL(this.enableRtl);\n                    break;\n                case 'fields':\n                    this.setFields();\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.inputEle);\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this.inputObj);\n                    Input.addFloating(this.inputEle, newProp.floatLabelType, this.placeholder, this.createElement);\n                    this.ensureClearIconPosition(newProp.floatLabelType);\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'allowFiltering':\n                    this.updateAllowFiltering(newProp.allowFiltering);\n                    break;\n                case 'filterBarPlaceholder':\n                    this.updateFilterPlaceHolder();\n                    break;\n                case 'value':\n                    this.oldValue = oldProp.value;\n                    this.updateValue(newProp.value);\n                    break;\n                case 'text':\n                    this.updateText(newProp.text);\n                    break;\n                case 'allowMultiSelection':\n                    this.updateMultiSelection(newProp.allowMultiSelection);\n                    break;\n                case 'mode':\n                    if (!this.showCheckBox && !this.allowMultiSelection) {\n                        return;\n                    }\n                    if (this.mode === 'Custom') {\n                        if (this.overFlowWrapper) {\n                            detach(this.overFlowWrapper);\n                        }\n                        if (this.chipWrapper) {\n                            detach(this.chipWrapper);\n                        }\n                        this.setTagValues();\n                    }\n                    else {\n                        if (oldProp.mode === 'Custom') {\n                            this.updateOverflowWrapper(this.wrapText);\n                        }\n                        this.updateModelMode();\n                    }\n                    break;\n                case 'delimiterChar':\n                    if (this.mode === 'Box') {\n                        return;\n                    }\n                    if (this.showCheckBox || this.allowMultiSelection) {\n                        this.setMultiSelect();\n                    }\n                    break;\n                case 'selectAllText':\n                    if (this.showCheckBox && this.showSelectAll) {\n                        this.setLocale();\n                    }\n                    break;\n                case 'unSelectAllText':\n                    if (this.showCheckBox && this.showSelectAll) {\n                        this.setLocale(false);\n                    }\n                    break;\n                case 'showSelectAll':\n                    if (this.showCheckBox) {\n                        this.setSelectAllWrapper(newProp.showSelectAll);\n                        this.updatePopupHeight();\n                    }\n                    break;\n                case 'showCheckBox':\n                    this.updateCheckBoxState(newProp.showCheckBox);\n                    if (!this.wrapText) {\n                        this.updateOverflowWrapper(true);\n                    }\n                    this.updatePopupHeight();\n                    this.updateOption();\n                    break;\n                case 'treeSettings':\n                    this.updateTreeSettings(newProp);\n                    break;\n                case 'customTemplate':\n                    if (this.mode !== 'Custom') {\n                        return;\n                    }\n                    this.chipCollection.innerHTML = '';\n                    this.setTagValues();\n                    break;\n                case 'sortOrder':\n                    if (this.hasTemplate) {\n                        this.updateTemplate();\n                    }\n                    this.treeObj.sortOrder = newProp.sortOrder;\n                    this.treeObj.dataBind();\n                    this.updateValue(this.value);\n                    break;\n                case 'showDropDownIcon':\n                    this.updateDropDownIconState(newProp.showDropDownIcon);\n                    break;\n                case 'popupWidth':\n                    if (this.popupObj) {\n                        this.popupObj.element.style.width = this.setWidth();\n                    }\n                    break;\n                case 'popupHeight':\n                    if (this.popupObj) {\n                        this.updatePopupHeight();\n                    }\n                    break;\n                case 'zIndex':\n                    if (this.popupObj) {\n                        this.popupObj.zIndex = newProp.zIndex;\n                        this.popupObj.dataBind();\n                    }\n                    break;\n                case 'headerTemplate':\n                    this.updateTemplate();\n                    break;\n                case 'footerTemplate':\n                    this.updateTemplate();\n                    break;\n                case 'itemTemplate':\n                    this.updateTemplate();\n                    this.treeObj.nodeTemplate = newProp.itemTemplate;\n                    this.treeObj.dataBind();\n                    break;\n                case 'noRecordsTemplate':\n                    this.updateRecordTemplate();\n                    break;\n                case 'actionFailureTemplate':\n                    this.updateRecordTemplate(true);\n                    break;\n                case 'htmlAttributes':\n                    this.setHTMLAttributes();\n                    break;\n                case 'wrapText':\n                    this.updateOverflowWrapper(this.wrapText);\n                    if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                        this.updateView();\n                    }\n                    else {\n                        addClass([this.overFlowWrapper], HIDEICON);\n                        if (this.chipWrapper && this.mode === 'Box') {\n                            removeClass([this.chipWrapper], HIDEICON);\n                        }\n                        else {\n                            removeClass([this.inputWrapper], SHOW_CHIP);\n                            removeClass([this.inputEle], CHIP_INPUT);\n                        }\n                        this.ensurePlaceHolder();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Allows you to clear the selected values from the Dropdown Tree component.\n     *\n     * @method clear\n     * @returns {void}\n     */\n    DropDownTree.prototype.clear = function () {\n        this.clearAll();\n        if (this.inputFocus) {\n            this.onFocusOut();\n        }\n        else {\n            if (this.changeOnBlur) {\n                this.triggerChangeEvent();\n            }\n            this.removeValue = false;\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also, it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownTree.prototype.destroy = function () {\n        this.clearTemplate();\n        this.unWireEvents();\n        this.setCssClass(null, this.cssClass);\n        this.setProperties({ text: null }, true);\n        this.treeObj.destroy();\n        this.destroyFilter();\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n        if (this.element.tagName !== this.getDirective()) {\n            this.inputWrapper.parentElement.insertBefore(this.element, this.inputWrapper);\n        }\n        Input.setValue(null, this.inputEle, this.floatLabelType);\n        detach(this.inputWrapper);\n        detach(this.popupDiv);\n        detach(this.hiddenElement);\n        this.element.classList.remove('e-input');\n        if (this.showCheckBox || this.allowMultiSelection) {\n            this.element.classList.remove(CHIP_INPUT);\n        }\n        this.inputObj = null;\n        while (this.hiddenElement.options.length > 0) {\n            this.hiddenElement.remove(0);\n        }\n        this.hiddenElement.innerHTML = '';\n        this.hiddenElement = null;\n        this.inputWrapper = null;\n        this.popupDiv = null;\n        this.tree = null;\n        this.popupObj = null;\n        this.treeObj = null;\n        this.overAllClear = null;\n        this.chipWrapper = null;\n        this.chipCollection = null;\n        this.checkAllParent = null;\n        this.selectAllSpan = null;\n        this.checkBoxElement = null;\n        this.checkWrapper = null;\n        this.popupEle = null;\n        this.header = null;\n        this.footer = null;\n        this.overFlowWrapper = null;\n        this.keyboardModule = null;\n        _super.prototype.destroy.call(this);\n        this.setProperties({ value: [] }, true);\n    };\n    DropDownTree.prototype.destroyFilter = function () {\n        if (this.filterObj) {\n            this.filterObj.destroy();\n            detach(this.filterObj.element);\n            detach(this.filterContainer);\n            this.filterObj = null;\n        }\n    };\n    DropDownTree.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n    };\n    /**\n     * Ensures visibility of the Dropdown Tree item by using item value or item element.\n     * If many Dropdown Tree items are present, and we are in need to find a particular item, then the `ensureVisible` property\n     * helps you to bring the item to visibility by expanding the Dropdown Tree and scrolling to the specific item.\n     *\n     * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element.\n     * @returns {void}\n     */\n    DropDownTree.prototype.ensureVisible = function (item) {\n        this.treeObj.ensureVisible(item);\n    };\n    /**\n     * To get the updated data source of the Dropdown Tree.\n     *\n     * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element\n     * @returns {'{[key: string]: Object }[]'} - returns the updated data source of the Dropdown Tree.\n     */\n    DropDownTree.prototype.getData = function (item) {\n        return this.treeObj.getTreeData(item);\n    };\n    /**\n     * Close the Dropdown tree pop-up.\n     *\n     * @returns {void}\n     */\n    DropDownTree.prototype.hidePopup = function () {\n        var eventArgs = { popup: this.popupObj };\n        this.inputWrapper.classList.remove(ICONANIMATION);\n        if (this.popupEle) {\n            addClass([this.popupEle], DDTHIDEICON);\n        }\n        attributes(this.inputEle, { 'aria-expanded': 'false' });\n        if (this.popupObj && this.isPopupOpen) {\n            this.popupObj.hide();\n            if (this.inputFocus) {\n                this.inputWrapper.focus();\n                if (this.allowFiltering) {\n                    addClass([this.inputWrapper], [INPUTFOCUS]);\n                }\n            }\n            this.trigger('close', eventArgs);\n            if (this.destroyPopupOnHide) {\n                this.isFirstRender = true;\n                this.destroyPopup();\n            }\n        }\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected or deselected.\n     *\n     * @param {boolean} state - Unselects/Selects entire Dropdown Tree items.\n     * @returns {void}\n     *\n     */\n    DropDownTree.prototype.selectAll = function (state) {\n        this.selectAllItems(state);\n    };\n    /**\n     * Opens the popup that displays the Dropdown Tree items.\n     *\n     * @returns {void}\n     */\n    DropDownTree.prototype.showPopup = function () {\n        if (!this.enabled || this.readonly || this.isPopupOpen) {\n            return;\n        }\n        this.renderPopup();\n        this.focusIn();\n    };\n    /**\n     * Return the module name.\n     *\n     * @private\n     * @returns {string} - returns the module name.\n     */\n    DropDownTree.prototype.getModuleName = function () {\n        return 'dropdowntree';\n    };\n    __decorate([\n        Property('The Request Failed')\n    ], DropDownTree.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"changeOnBlur\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownTree.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('${value.length} item(s) selected')\n    ], DropDownTree.prototype, \"customTemplate\", void 0);\n    __decorate([\n        Property(',')\n    ], DropDownTree.prototype, \"delimiterChar\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"enabled\", void 0);\n    __decorate([\n        Complex({}, Fields)\n    ], DropDownTree.prototype, \"fields\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], DropDownTree.prototype, \"filterType\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownTree.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownTree.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('Default')\n    ], DropDownTree.prototype, \"mode\", void 0);\n    __decorate([\n        Property('No Records Found')\n    ], DropDownTree.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownTree.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownTree.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Select All')\n    ], DropDownTree.prototype, \"selectAllText\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"destroyPopupOnHide\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"showDropDownIcon\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownTree.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"text\", void 0);\n    __decorate([\n        Complex({}, TreeSettings)\n    ], DropDownTree.prototype, \"treeSettings\", void 0);\n    __decorate([\n        Property('Unselect All')\n    ], DropDownTree.prototype, \"unSelectAllText\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"value\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownTree.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownTree.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"wrapText\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"select\", void 0);\n    DropDownTree = __decorate([\n        NotifyPropertyChanges\n    ], DropDownTree);\n    return DropDownTree;\n}(Component));\nexport { DropDownTree };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-list/drop-down-list-model.d.ts'/>\nimport { EventHandler, Property, Event, addClass, Browser, removeClass, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, NotifyPropertyChanges, getValue, setValue } from '@syncfusion/ej2-base';\nimport { DropDownList, dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { Search } from '../common/incremental-search';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Predicate, Query } from '@syncfusion/ej2-data';\nvar SPINNER_CLASS = 'e-atc-spinner-icon';\ndropDownListClasses.root = 'e-combobox';\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The ComboBox component allows the user to type a value or choose an option from the list of predefined options.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n *   let games:ComboBox = new ComboBox();\n *   games.appendTo(\"#list\");\n * ```\n */\nvar ComboBox = /** @class */ (function (_super) {\n    __extends(ComboBox, _super);\n    /**\n     * *Constructor for creating the component\n     *\n     * @param {ComboBoxModel} options - Specifies the ComboBox model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function ComboBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    ComboBox.prototype.getLocaleName = function () {\n        return 'combo-box';\n    };\n    ComboBox.prototype.wireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur, this);\n            EventHandler.add(this.inputWrapper.container, 'blur', this.onBlurHandler, this);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick, this);\n        }\n        EventHandler.add(this.inputElement, 'focus', this.targetFocus, this);\n        if (!this.readonly) {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n            EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n            EventHandler.add(window, 'resize', this.windowResize, this);\n        }\n        this.bindCommonEvent();\n    };\n    ComboBox.prototype.preventBlur = function (e) {\n        if ((!this.allowFiltering && document.activeElement !== this.inputElement &&\n            !document.activeElement.classList.contains(dropDownListClasses.input) && Browser.isDevice || !Browser.isDevice)) {\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.onBlurHandler = function (e) {\n        var inputValue = this.inputElement && this.inputElement.value === '' ?\n            null : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData) && !isNullOrUndefined(inputValue) && inputValue !== this.text) {\n            this.customValue(e);\n        }\n        _super.prototype.onBlurHandler.call(this, e);\n    };\n    ComboBox.prototype.targetElement = function () {\n        return this.inputElement;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldText = function (text) {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.customValue();\n        this.removeSelection();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldValue = function (value) {\n        if (this.allowCustom) {\n            this.valueMuteChange(this.value);\n        }\n        else {\n            this.valueMuteChange(null);\n        }\n        this.removeSelection();\n        this.setHiddenValue();\n    };\n    ComboBox.prototype.valueMuteChange = function (value) {\n        value = this.allowObjectBinding && !isNullOrUndefined(value) ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n        var inputValue = isNullOrUndefined(value) ? null : value.toString();\n        Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        if (this.allowObjectBinding) {\n            value = this.getDataByValue(value);\n        }\n        this.setProperties({ value: value, text: value, index: null }, true);\n        this.activeIndex = this.index;\n        var fields = this.fields;\n        var dataItem = {};\n        dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString();\n        dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString();\n        this.itemData = dataItem;\n        this.item = null;\n        if ((!this.allowObjectBinding && (this.previousValue !== this.value)) || (this.allowObjectBinding && this.previousValue && this.value && !this.isObjectInArray(this.previousValue, [this.value]))) {\n            this.detachChangeEvent(null);\n        }\n    };\n    ComboBox.prototype.updateValues = function () {\n        if (!isNullOrUndefined(this.value)) {\n            var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            var li = this.getElementByValue(currentValue);\n            var doesItemExist = !isNullOrUndefined(li) ? true : false;\n            if (this.enableVirtualization && this.value) {\n                var fields = (this.fields.value) ? this.fields.value : '';\n                var currentValue_1 = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                if (this.dataSource instanceof DataManager) {\n                    var getItem = new DataManager(this.virtualGroupDataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue_1)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        doesItemExist = true;\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text, 'value': value });\n                        }\n                    }\n                }\n                else {\n                    var getItem = new DataManager(this.dataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue_1)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        doesItemExist = true;\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text, 'value': value });\n                        }\n                    }\n                }\n            }\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else if ((!this.enableVirtualization && this.allowCustom) || (this.allowCustom && this.enableVirtualization && !doesItemExist)) {\n                this.valueMuteChange(this.value);\n            }\n            else if (!this.enableVirtualization || (this.enableVirtualization && !doesItemExist)) {\n                this.valueMuteChange(null);\n            }\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var li = this.getElementByText(this.text);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.customValue();\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    ComboBox.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement && this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    ComboBox.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'role': 'combobox',\n            'aria-autocomplete': 'both',\n            'aria-labelledby': this.hiddenElement.id,\n            'aria-expanded': 'false',\n            'aria-readonly': this.readonly.toString(),\n            'autocomplete': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false'\n        };\n        return ariaAttributes;\n    };\n    ComboBox.prototype.searchLists = function (e) {\n        this.isTyped = true;\n        if (this.isFiltering()) {\n            _super.prototype.searchLists.call(this, e);\n            if (this.ulElement && this.filterInput.value.trim() === '') {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n        }\n        else {\n            if (this.ulElement && this.inputElement.value === '' && this.preventAutoFill) {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n            this.incrementalSearch(e);\n        }\n    };\n    ComboBox.prototype.getNgDirective = function () {\n        return 'EJS-COMBOBOX';\n    };\n    ComboBox.prototype.setSearchBox = function () {\n        this.filterInput = this.inputElement;\n        var searchBoxContainer = (this.isFiltering() || (this.isReact && this.getModuleName() === 'combobox')) ? this.inputWrapper : inputObject;\n        return searchBoxContainer;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isSelectCustom) {\n            this.removeSelection();\n        }\n        if (!this.preventAutoFill && this.getModuleName() === 'combobox' && this.isTyped && !this.enableVirtualization) {\n            setTimeout(function () {\n                _this.inlineSearch();\n            });\n        }\n    };\n    ComboBox.prototype.getFocusElement = function () {\n        var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n        var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : this.list;\n        var isSelected = dataItem.text && dataItem.text.toString() === this.inputElement.value && !isNullOrUndefined(selected);\n        if (isSelected) {\n            return selected;\n        }\n        if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) &&\n            !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {\n            var inputValue = this.inputElement.value;\n            var dataSource = this.sortedData;\n            var type = this.typeOfData(dataSource).typeof;\n            var activeItem = Search(inputValue, this.liCollections, this.filterType, true, dataSource, this.fields, type);\n            if (this.enableVirtualization && inputValue !== '' && this.getModuleName() !== 'autocomplete' && this.isTyped && !this.allowFiltering) {\n                var updatingincrementalindex = false;\n                if ((this.viewPortInfo.endIndex >= this.incrementalEndIndex && this.incrementalEndIndex <= this.totalItemCount) || this.incrementalEndIndex == 0) {\n                    updatingincrementalindex = true;\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    if (this.incrementalEndIndex == 0) {\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                    }\n                    else {\n                        this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100;\n                    }\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                }\n                if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                    this.updateIncrementalView(0, this.itemCount);\n                }\n                activeItem = Search(inputValue, this.incrementalLiCollections, this.filterType, true, dataSource, this.fields, type);\n                while (isNullOrUndefined(activeItem.item) && this.incrementalEndIndex < this.totalItemCount) {\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100;\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    activeItem = Search(inputValue, this.incrementalLiCollections, this.filterType, true, dataSource, this.fields, type);\n                    if (!isNullOrUndefined(activeItem)) {\n                        activeItem.index = activeItem.index + this.incrementalStartIndex;\n                        break;\n                    }\n                    if (isNullOrUndefined(activeItem) && this.incrementalEndIndex >= this.totalItemCount) {\n                        this.incrementalStartIndex = 0;\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                        break;\n                    }\n                }\n                if (activeItem.index) {\n                    if ((!(this.viewPortInfo.startIndex >= activeItem.index)) || (!(activeItem.index >= this.viewPortInfo.endIndex))) {\n                        var startIndex = activeItem.index - ((this.itemCount / 2) - 2) > 0 ? activeItem.index - ((this.itemCount / 2) - 2) : 0;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        if (startIndex != this.viewPortInfo.startIndex) {\n                            this.updateIncrementalView(startIndex, endIndex);\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(activeItem.item)) {\n                    var index_1 = this.getIndexByValue(activeItem.item.getAttribute('data-value')) - this.skeletonCount;\n                    if (index_1 > this.itemCount / 2) {\n                        var startIndex = this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) < this.totalItemCount ? this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) : this.totalItemCount;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        this.updateIncrementalView(startIndex, endIndex);\n                    }\n                    activeItem.item = this.getElementByValue(activeItem.item.getAttribute('data-value'));\n                }\n                else {\n                    this.updateIncrementalView(0, this.itemCount);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    this.list.scrollTop = 0;\n                }\n                if (activeItem && activeItem.item) {\n                    activeItem.item = this.getElementByValue(activeItem.item.getAttribute('data-value'));\n                }\n            }\n            var activeElement = activeItem.item;\n            if (!isNullOrUndefined(activeElement)) {\n                var count = this.getIndexByValue(activeElement.getAttribute('data-value')) - 1;\n                var height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n                if (!isNaN(height) && this.getModuleName() !== 'autocomplete') {\n                    this.removeFocus();\n                    var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;\n                    if (!this.enableVirtualization) {\n                        this.list.scrollTop = count * height + fixedHead;\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                        if (this.enableVirtualization && !this.fields.groupBy) {\n                            var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? activeElement.offsetTop + (this.virtualListInfo.startIndex * activeElement.offsetHeight) : activeElement.offsetTop;\n                            this.list.scrollTop = selectedLiOffsetTop - (this.list.querySelectorAll('.e-virtual-list').length * activeElement.offsetHeight);\n                        }\n                    }\n                    addClass([activeElement], dropDownListClasses.focus);\n                }\n            }\n            else {\n                if (this.isSelectCustom && this.inputElement.value.trim() !== '') {\n                    this.removeFocus();\n                    if (!this.enableVirtualization) {\n                        this.list.scrollTop = 0;\n                    }\n                }\n            }\n            return activeElement;\n        }\n        else {\n            return null;\n        }\n    };\n    ComboBox.prototype.setValue = function (e) {\n        if ((e && e.type === 'keydown' && e.action === 'enter') || (e && e.type === 'click')) {\n            this.removeFillSelection();\n        }\n        if (this.autofill && this.getModuleName() === 'combobox' && e && e.type === 'keydown' && e.action !== 'enter') {\n            this.preventAutoFill = false;\n            this.inlineSearch(e);\n            return false;\n        }\n        else {\n            return _super.prototype.setValue.call(this, e);\n        }\n    };\n    ComboBox.prototype.checkCustomValue = function () {\n        var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        this.itemData = this.getDataByValue(value);\n        var dataItem = this.getItemData();\n        var setValue = this.allowObjectBinding ? this.itemData : dataItem.value;\n        if (!(this.allowCustom && isNullOrUndefined(dataItem.value) && isNullOrUndefined(dataItem.text))) {\n            this.setProperties({ 'value': setValue }, !this.allowCustom);\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = (this.getModuleName() === 'autocomplete') ? (this.inputWrapper.buttons[0] ||\n                this.inputWrapper.clearButton ||\n                Input.appendSpan('e-input-group-icon ' + SPINNER_CLASS, this.inputWrapper.container, this.createElement)) :\n                (this.inputWrapper.buttons[0] || this.inputWrapper.clearButton);\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    ComboBox.prototype.setAutoFill = function (activeElement, isHover) {\n        if (!isHover) {\n            this.setHoverList(activeElement);\n        }\n        if (this.autofill && !this.preventAutoFill) {\n            var currentValue = this.getTextByValue(activeElement.getAttribute('data-value')).toString();\n            var currentFillValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n            if (this.getModuleName() === 'combobox') {\n                if (!this.isSelected && ((!this.allowObjectBinding && this.previousValue !== currentFillValue)) || (this.allowObjectBinding && this.previousValue && currentFillValue && !this.isObjectInArray(this.previousValue, [this.getDataByValue(currentFillValue)]))) {\n                    this.updateSelectedItem(activeElement, null);\n                    this.isSelected = true;\n                    this.previousValue = this.allowObjectBinding ? this.getDataByValue(this.getFormattedValue(activeElement.getAttribute('data-value'))) : this.getFormattedValue(activeElement.getAttribute('data-value'));\n                }\n                else {\n                    this.updateSelectedItem(activeElement, null, true);\n                }\n            }\n            if (!this.isAndroidAutoFill(currentValue)) {\n                this.setAutoFillSelection(currentValue, isHover);\n            }\n        }\n    };\n    ComboBox.prototype.isAndroidAutoFill = function (value) {\n        if (Browser.isAndroid) {\n            var currentPoints = this.getSelectionPoints();\n            var prevEnd = this.prevSelectPoints.end;\n            var curEnd = currentPoints.end;\n            var prevStart = this.prevSelectPoints.start;\n            var curStart = currentPoints.start;\n            if (prevEnd !== 0 && ((prevEnd === value.length && prevStart === value.length) ||\n                (prevStart > curStart && prevEnd > curEnd) || (prevEnd === curEnd && prevStart === curStart))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    ComboBox.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n        }\n        if (this.isFiltering() && !isNullOrUndefined(e) && e.target === this.inputWrapper.clearButton) {\n            this.searchLists(e);\n        }\n    };\n    ComboBox.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    ComboBox.prototype.inlineSearch = function (e) {\n        var isKeyNavigate = (e && (e.action === 'down' || e.action === 'up' ||\n            e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown'));\n        var activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();\n        if (!isNullOrUndefined(activeElement)) {\n            if (!isKeyNavigate) {\n                var value = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n                this.activeIndex = !isNullOrUndefined(this.activeIndex) ? this.activeIndex : null;\n            }\n            this.preventAutoFill = this.inputElement.value === '' ? false : this.preventAutoFill;\n            this.setAutoFill(activeElement, isKeyNavigate);\n        }\n        else if (!isNullOrUndefined(this.inputElement) && this.inputElement.value === '') {\n            this.activeIndex = null;\n            if (!isNullOrUndefined(this.list)) {\n                if (!this.enableVirtualization) {\n                    this.list.scrollTop = 0;\n                }\n                var focusItem = this.list.querySelector('.' + dropDownListClasses.li);\n                this.setHoverList(focusItem);\n            }\n        }\n        else {\n            this.activeIndex = null;\n            this.removeSelection();\n            if (this.liCollections && this.liCollections.length > 0 && !this.isCustomFilter) {\n                this.removeFocus();\n            }\n        }\n    };\n    ComboBox.prototype.incrementalSearch = function (e) {\n        this.showPopup(e);\n        if (!isNullOrUndefined(this.listData)) {\n            this.inlineSearch(e);\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.setAutoFillSelection = function (currentValue, isKeyNavigate) {\n        if (isKeyNavigate === void 0) { isKeyNavigate = false; }\n        var selection = this.getSelectionPoints();\n        var value = this.inputElement.value.substr(0, selection.start);\n        if (value && (value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase())) {\n            var inputValue = value + currentValue.substr(value.length, currentValue.length);\n            Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);\n        }\n        else if (isKeyNavigate) {\n            Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n        }\n    };\n    ComboBox.prototype.getValueByText = function (text) {\n        return _super.prototype.getValueByText.call(this, text, true, this.ignoreAccent);\n    };\n    ComboBox.prototype.unWireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur);\n            EventHandler.remove(this.inputWrapper.container, 'blur', this.onBlurHandler);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick);\n        }\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'focus', this.targetFocus);\n            if (!this.readonly) {\n                EventHandler.remove(this.inputElement, 'input', this.onInput);\n                EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n                EventHandler.remove(window, 'resize', this.windowResize);\n            }\n        }\n        this.unBindCommonEvent();\n    };\n    ComboBox.prototype.setSelection = function (li, e) {\n        _super.prototype.setSelection.call(this, li, e);\n        if (!isNullOrUndefined(li) && !this.autofill && !this.isDropDownClick) {\n            this.removeFocus();\n        }\n    };\n    ComboBox.prototype.selectCurrentItem = function (e) {\n        var li;\n        if (this.isPopupOpen) {\n            if (this.isSelected) {\n                li = this.list.querySelector('.' + dropDownListClasses.selected);\n            }\n            else {\n                li = this.list.querySelector('.' + dropDownListClasses.focus);\n            }\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n        }\n        if (e.action === 'enter' && this.inputElement.value.trim() === '') {\n            this.clearAll(e);\n        }\n        else if (this.isTyped && !this.isSelected && isNullOrUndefined(li)) {\n            this.customValue(e);\n        }\n        this.hidePopup(e);\n    };\n    ComboBox.prototype.setHoverList = function (li) {\n        this.removeSelection();\n        if (this.isValidLI(li) && !li.classList.contains(dropDownListClasses.selected)) {\n            this.removeFocus();\n            li.classList.add(dropDownListClasses.focus);\n        }\n    };\n    ComboBox.prototype.targetFocus = function (e) {\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = false;\n        }\n        this.onFocus(e);\n        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n    };\n    ComboBox.prototype.dropDownClick = function (e) {\n        e.preventDefault();\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.dropDownClick.call(this, e);\n    };\n    ComboBox.prototype.customValue = function (e) {\n        var _this = this;\n        var value = this.getValueByText(this.inputElement.value);\n        if (!this.allowCustom && this.inputElement.value !== '') {\n            var previousValue = this.previousValue;\n            var currentValue = this.value;\n            value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n            this.setProperties({ value: value });\n            if (isNullOrUndefined(this.value)) {\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            var newValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            if (this.autofill && ((!this.allowObjectBinding && previousValue === this.value) || (this.allowObjectBinding && previousValue && this.isObjectInArray(previousValue, [this.value]))) && ((!this.allowObjectBinding && currentValue !== this.value) || (this.allowObjectBinding && currentValue && !this.isObjectInArray(currentValue, [this.value])))) {\n                this.onChangeEvent(null);\n            }\n        }\n        else if (this.inputElement.value.trim() !== '') {\n            var previousValue_1 = this.value;\n            if (isNullOrUndefined(value)) {\n                var value_1 = this.inputElement.value === '' ? null : this.inputElement.value;\n                // eslint-disable-next-line max-len\n                var eventArgs = { text: value_1, item: {} };\n                this.isObjectCustomValue = true;\n                if (!this.initial) {\n                    this.trigger('customValueSpecifier', eventArgs, function (eventArgs) {\n                        _this.updateCustomValueCallback(value_1, eventArgs, previousValue_1, e);\n                    });\n                }\n                else {\n                    this.updateCustomValueCallback(value_1, eventArgs, previousValue_1);\n                }\n            }\n            else {\n                this.isSelectCustom = false;\n                value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n                this.setProperties({ value: value });\n                if ((!this.allowObjectBinding && previousValue_1 !== this.value) || (this.allowObjectBinding && previousValue_1 && this.value && !this.isObjectInArray(previousValue_1, [this.value]))) {\n                    this.onChangeEvent(e);\n                }\n            }\n        }\n        else if (this.allowCustom) {\n            this.isSelectCustom = true;\n        }\n    };\n    ComboBox.prototype.updateCustomValueCallback = function (value, eventArgs, previousValue, e) {\n        var _this = this;\n        var fields = this.fields;\n        var item = eventArgs.item;\n        var dataItem = {};\n        if (item && getValue(fields.text, item) && getValue(fields.value, item)) {\n            dataItem = item;\n        }\n        else {\n            setValue(fields.text, value, dataItem);\n            setValue(fields.value, value, dataItem);\n        }\n        this.itemData = dataItem;\n        var emptyObject = {};\n        if (this.allowObjectBinding) {\n            var keys = this.listData && this.listData.length > 0 ? Object.keys(this.listData[0]) : Object.keys(this.itemData);\n            if ((!(this.listData && this.listData.length > 0)) && (this.getModuleName() === 'autocomplete' || (this.getModuleName() === 'combobox' && this.allowFiltering))) {\n                keys = this.firstItem ? Object.keys(this.firstItem) : Object.keys(this.itemData);\n            }\n            // Create an empty object with predefined keys\n            keys.forEach(function (key) {\n                emptyObject[key] = ((key === fields.value) || (key === fields.text)) ? getValue(fields.value, _this.itemData) : null;\n            });\n        }\n        var changeData = {\n            text: getValue(fields.text, this.itemData),\n            value: this.allowObjectBinding ? emptyObject : getValue(fields.value, this.itemData),\n            index: null\n        };\n        this.setProperties(changeData, true);\n        this.setSelection(null, null);\n        this.isSelectCustom = true;\n        this.isObjectCustomValue = false;\n        if ((!this.allowObjectBinding && (previousValue !== this.value)) || (this.allowObjectBinding && ((previousValue == null && this.value !== null) || (previousValue && !this.isObjectInArray(previousValue, [this.value]))))) {\n            this.onChangeEvent(e, true);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {ComboBoxModel} newProp - Returns the dynamic property value of the component.\n     * @param {ComboBoxModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'combobox') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp, oldProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    if (this.readonly) {\n                        EventHandler.remove(this.inputElement, 'input', this.onInput);\n                        EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                        EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                    }\n                    else {\n                        EventHandler.add(this.inputElement, 'input', this.onInput, this);\n                        EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n                        EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n                    }\n                    this.setReadOnly();\n                    break;\n                case 'allowFiltering':\n                    this.setSearchBox();\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                case 'allowCustom':\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var comboProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);\n                    if (this.isFiltering() && prop === 'dataSource' && isNullOrUndefined(this.list) && this.itemTemplate &&\n                        this.getModuleName() === 'combobox') {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                }\n            }\n        }\n    };\n    /**\n     * To initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.setSearchBox();\n        this.renderComplete();\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    ComboBox.prototype.getModuleName = function () {\n        return 'combobox';\n    };\n    /**\n     * Adds a new item to the combobox popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.filter = function (dataSource, query, fields) {\n        _super.prototype.filter.call(this, dataSource, query, fields);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.showPopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        _super.prototype.showPopup.call(this, e);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        var inputValue = this.inputElement && this.inputElement.value === '' ? null\n            : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData)) {\n            var isEscape = this.isEscapeKey;\n            if (this.isEscapeKey) {\n                Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.isEscapeKey = false;\n            }\n            if (this.autofill) {\n                this.removeFillSelection();\n            }\n            var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n            var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : null;\n            if (this.inputElement && dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) {\n                if (this.isSelected) {\n                    this.onChangeEvent(e);\n                    this.isSelectCustom = false;\n                }\n                _super.prototype.hidePopup.call(this, e);\n                return;\n            }\n            if (this.getModuleName() === 'combobox' && this.inputElement.value.trim() !== '') {\n                var dataSource = this.sortedData;\n                var type = this.typeOfData(dataSource).typeof;\n                var searchItem = Search(this.inputElement.value, this.liCollections, 'Equal', true, dataSource, this.fields, type);\n                this.selectedLI = searchItem.item;\n                if (isNullOrUndefined(searchItem.index)) {\n                    searchItem.index = Search(this.inputElement.value, this.liCollections, 'StartsWith', true, dataSource, this.fields, type).index;\n                }\n                this.activeIndex = searchItem.index;\n                if (!isNullOrUndefined(this.selectedLI)) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                }\n                else if (isEscape) {\n                    this.isSelectCustom = true;\n                    this.removeSelection();\n                }\n            }\n            if (!this.isEscapeKey && this.isTyped && !this.isInteracted) {\n                this.customValue(e);\n            }\n        }\n        var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        if (isNullOrUndefined(this.listData) && this.allowCustom && !isNullOrUndefined(inputValue) && inputValue !== value) {\n            this.customValue();\n        }\n        _super.prototype.hidePopup.call(this, e);\n    };\n    /**\n     * Sets the focus to the component for interaction.\n     *\n     * @returns {void}\n     */\n    ComboBox.prototype.focusIn = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.focusIn.call(this);\n    };\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.clear = function () {\n        this.value = null;\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        _super.prototype.focusOut.call(this, e);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     * @deprecated\n     */\n    ComboBox.prototype.getItems = function () {\n        return _super.prototype.getItems.call(this);\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     * @deprecated\n     */\n    ComboBox.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    ComboBox.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"autofill\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"allowCustom\", void 0);\n    __decorate([\n        Property({})\n    ], ComboBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"index\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"customValueSpecifier\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property('Never')\n    ], ComboBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('100%')\n    ], ComboBox.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], ComboBox.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], ComboBox.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowObjectBinding\", void 0);\n    ComboBox = __decorate([\n        NotifyPropertyChanges\n    ], ComboBox);\n    return ComboBox;\n}(DropDownList));\nexport { ComboBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../combo-box/combo-box-model.d.ts'/>\nimport { Property, EventHandler, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { Event, Complex } from '@syncfusion/ej2-base';\nimport { removeClass, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { ComboBox } from '../combo-box/combo-box';\nimport { highlightSearch, revertHighlightSearch } from '../common/highlight-search';\nimport { Search } from '../common/incremental-search';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Predicate, Query } from '@syncfusion/ej2-data';\ndropDownListClasses.root = 'e-autocomplete';\ndropDownListClasses.icon = 'e-input-group-icon e-ddl-icon e-search-icon';\n/**\n * The AutoComplete component provides the matched suggestion list when type into the input,\n * from which the user can select one.\n * ```html\n * <input id=\"list\" type=\"text\"/>\n * ```\n * ```typescript\n *   let atcObj:AutoComplete = new AutoComplete();\n *   atcObj.appendTo(\"#list\");\n * ```\n */\nvar AutoComplete = /** @class */ (function (_super) {\n    __extends(AutoComplete, _super);\n    /**\n     * * Constructor for creating the widget\n     *\n     * @param {AutoCompleteModel} options - Specifies the AutoComplete model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function AutoComplete(options, element) {\n        var _this_1 = _super.call(this, options, element) || this;\n        _this_1.isFiltered = false;\n        _this_1.searchList = false;\n        return _this_1;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    AutoComplete.prototype.getLocaleName = function () {\n        return 'auto-complete';\n    };\n    AutoComplete.prototype.getNgDirective = function () {\n        return 'EJS-AUTOCOMPLETE';\n    };\n    AutoComplete.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        var filterType = (this.queryString === '' && !isNullOrUndefined(value)) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(value)) ? value : this.queryString;\n        if (this.isFiltered) {\n            if ((this.enableVirtualization && !isNullOrUndefined(this.customFilterQuery))) {\n                filterQuery = this.customFilterQuery.clone();\n            }\n            else if (!this.enableVirtualization) {\n                return filterQuery;\n            }\n        }\n        if (this.queryString !== null && this.queryString !== '') {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var mapping = !isNullOrUndefined(this.fields.value) ? this.fields.value : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount) && !this.enableVirtualization) {\n            // Since defualt value of suggestioncount is 20, checked the condition\n            if (this.suggestionCount !== 20) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        filterQuery.queries.splice(queryElements, 1);\n                    }\n                }\n            }\n            filterQuery.take(this.suggestionCount);\n        }\n        if (this.enableVirtualization) {\n            var queryTakeValue = 0;\n            var querySkipValue = 0;\n            var takeValue = this.getTakeValue();\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        querySkipValue = filterQuery.queries[queryElements].e.nos;\n                    }\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        queryTakeValue = takeValue <= filterQuery.queries[queryElements].e.nos ? filterQuery.queries[queryElements].e.nos : takeValue;\n                    }\n                }\n            }\n            if (queryTakeValue <= 0 && this.query && this.query.queries.length > 0) {\n                for (var queryElements = 0; queryElements < this.query.queries.length; queryElements++) {\n                    if (this.query.queries[queryElements].fn === 'onTake') {\n                        queryTakeValue = takeValue <= this.query.queries[queryElements].e.nos ? this.query.queries[queryElements].e.nos : takeValue;\n                    }\n                }\n            }\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        querySkipValue = filterQuery.queries[queryElements].e.nos;\n                        filterQuery.queries.splice(queryElements, 1);\n                        --queryElements;\n                        continue;\n                    }\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        queryTakeValue = filterQuery.queries[queryElements].e.nos <= queryTakeValue ? queryTakeValue : filterQuery.queries[queryElements].e.nos;\n                        filterQuery.queries.splice(queryElements, 1);\n                        --queryElements;\n                    }\n                }\n            }\n            if (querySkipValue > 0 && this.virtualItemStartIndex <= querySkipValue) {\n                filterQuery.skip(querySkipValue);\n            }\n            else {\n                filterQuery.skip(this.virtualItemStartIndex);\n            }\n            if (queryTakeValue > 0 && takeValue <= queryTakeValue) {\n                filterQuery.take(queryTakeValue);\n            }\n            else {\n                filterQuery.take(takeValue);\n            }\n            filterQuery.requiresCount();\n        }\n        return filterQuery;\n    };\n    AutoComplete.prototype.searchLists = function (e) {\n        var _this_1 = this;\n        this.isTyped = true;\n        this.isDataFetched = this.isSelectCustom = false;\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        this.checkAndResetCache();\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this, e, true);\n        }\n        this.queryString = this.filterInput.value;\n        if (e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields, null, e);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.filterInput.value,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this_1.isFiltered = true;\n                _this_1.customFilterQuery = query;\n                _this_1.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && !_this_1.isFiltered && !eventArgs.preventDefaultAction) {\n                _this_1.searchList = true;\n                _this_1.filterAction(_this_1.dataSource, null, _this_1.fields, e);\n            }\n        });\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    AutoComplete.prototype.filter = function (dataSource, query, fields) {\n        this.isFiltered = true;\n        this.filterAction(dataSource, query, fields);\n    };\n    AutoComplete.prototype.filterAction = function (dataSource, query, fields, e) {\n        this.beforePopupOpen = true;\n        var isNoDataElement = this.list.classList.contains('e-nodata');\n        if (this.queryString !== '' && (this.queryString.length >= this.minLength)) {\n            if (this.enableVirtualization && this.isFiltering() && this.isTyped) {\n                this.isPreventScrollAction = true;\n                this.list.scrollTop = 0;\n                this.previousStartIndex = 0;\n                this.virtualListInfo = null;\n            }\n            this.resetList(dataSource, fields, query, e);\n            if (this.enableVirtualization && isNoDataElement && !this.list.classList.contains('e-nodata')) {\n                if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                    this.list.appendChild(this.createElement('div', {\n                        className: 'e-virtual-ddl-content',\n                        styles: this.getTransformValues()\n                    })).appendChild(this.list.querySelector('.e-list-parent'));\n                }\n                if (!this.list.querySelector('.e-virtual-ddl')) {\n                    var virualElement = this.createElement('div', {\n                        id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                    });\n                    document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                }\n            }\n            if ((this.getModuleName() === 'autocomplete' && !(this.dataSource instanceof DataManager)) || (this.getModuleName() === 'autocomplete' && (this.dataSource instanceof DataManager) && this.totalItemCount != 0)) {\n                this.getFilteringSkeletonCount();\n            }\n        }\n        else {\n            this.hidePopup(e);\n            this.beforePopupOpen = false;\n        }\n        this.renderReactTemplates();\n    };\n    AutoComplete.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n            this.checkAndResetCache();\n        }\n        if (this.beforePopupOpen) {\n            this.hidePopup();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    AutoComplete.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        if (!this.enableVirtualization) {\n            this.fixedHeaderElement = null;\n        }\n        if ((this.getModuleName() === 'autocomplete' && !(this.dataSource instanceof DataManager)) || (this.getModuleName() === 'autocomplete' && (this.dataSource instanceof DataManager) && this.totalItemCount != 0)) {\n            this.getFilteringSkeletonCount();\n        }\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        var item = this.list.querySelector('.' + dropDownListClasses.li);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], dropDownListClasses.focus);\n        }\n        this.postBackAction();\n    };\n    AutoComplete.prototype.postBackAction = function () {\n        if (this.autofill && !isNullOrUndefined(this.liCollections[0]) && this.searchList) {\n            var items = [this.liCollections[0]];\n            var dataSource = this.listData;\n            var type = this.typeOfData(dataSource).typeof;\n            var searchItem = Search(this.inputElement.value, items, 'StartsWith', this.ignoreCase, dataSource, this.fields, type);\n            this.searchList = false;\n            if (!isNullOrUndefined(searchItem.item)) {\n                _super.prototype.setAutoFill.call(this, this.liCollections[0], true);\n            }\n        }\n    };\n    AutoComplete.prototype.setSelection = function (li, e) {\n        if (!this.isValidLI(li)) {\n            this.selectedLI = li;\n            return;\n        }\n        if (!isNullOrUndefined(e) && e.type === 'keydown' && e.action !== 'enter'\n            && e.action !== 'tab' && this.isValidLI(li)) {\n            var value = this.getFormattedValue(li.getAttribute('data-value'));\n            this.activeIndex = this.getIndexByValue(value);\n            this.setHoverList(li);\n            this.selectedLI = li;\n            this.setScrollPosition(e);\n            if (this.autofill && this.isPopupOpen) {\n                this.preventAutoFill = false;\n                var isKeyNavigate = (e && e.action === 'down' || e.action === 'up' ||\n                    e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown');\n                _super.prototype.setAutoFill.call(this, li, isKeyNavigate);\n            }\n        }\n        else {\n            _super.prototype.setSelection.call(this, li, e);\n        }\n    };\n    AutoComplete.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this_1 = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this_1.highlight) {\n                    if (_this_1.element.tagName === _this_1.getNgDirective() && _this_1.itemTemplate) {\n                        setTimeout(function () {\n                            highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                        }, 0);\n                    }\n                    else {\n                        highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                    }\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this_1.highlight) {\n                    highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                }\n                itemCreated_1.apply(_this_1, [e]);\n            };\n        }\n        return fields;\n    };\n    AutoComplete.prototype.isFiltering = function () {\n        return true;\n    };\n    AutoComplete.prototype.renderPopup = function (e) {\n        if (!this.enableVirtualization) {\n            this.list.scrollTop = 0;\n        }\n        _super.prototype.renderPopup.call(this, e);\n    };\n    AutoComplete.prototype.isEditTextBox = function () {\n        return false;\n    };\n    AutoComplete.prototype.isPopupButton = function () {\n        return this.showPopupButton;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    AutoComplete.prototype.isSelectFocusItem = function (element) {\n        return false;\n    };\n    AutoComplete.prototype.setInputValue = function (newProp, oldProp) {\n        var oldValue = oldProp && oldProp.text ? oldProp.text : oldProp ? oldProp.value : oldProp;\n        var value = newProp && newProp.text ? newProp.text : newProp && newProp.value ? newProp.value : this.value;\n        if (this.allowObjectBinding) {\n            oldValue = !isNullOrUndefined(oldValue) ? getValue((this.fields.value) ? this.fields.value : '', oldValue) : oldValue;\n            value = !isNullOrUndefined(value) ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n        }\n        if (value && this.typedString === '' && !this.allowCustom && !(this.dataSource instanceof DataManager)) {\n            var checkFields_1_1 = this.typeOfData(this.dataSource).typeof === 'string' ? '' : this.fields.value;\n            var listLength_1 = this.getItems().length;\n            var query = new Query();\n            var _this_2 = this;\n            new DataManager(this.dataSource).executeQuery(query.where(new Predicate(checkFields_1_1, 'equal', value)))\n                .then(function (e) {\n                if (e.result.length > 0) {\n                    _this_2.value = checkFields_1_1 !== '' ? _this_2.allowObjectBinding ? e.result[0] : e.result[0][_this_2.fields.value].toString() : e.result[0].toString();\n                    _this_2.addItem(e.result, listLength_1);\n                    _this_2.updateValues();\n                }\n                else {\n                    newProp && newProp.text ? _this_2.setOldText(oldValue) : newProp && newProp.value ? _this_2.setOldValue(oldValue) : _this_2.updateValues();\n                }\n            });\n        }\n        else if (newProp) {\n            newProp.text ? this.setOldText(oldValue) : this.setOldValue(oldValue);\n        }\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    AutoComplete.prototype.showPopup = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        this.preventAutoFill = true;\n        if (isNullOrUndefined(this.list)) {\n            this.renderList(e);\n        }\n        else {\n            this.resetList(this.dataSource, this.fields, null, e);\n        }\n    };\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @returns {void}\n     */\n    AutoComplete.prototype.hidePopup = function (e) {\n        _super.prototype.hidePopup.call(this, e);\n        this.activeIndex = null;\n        this.virtualListInfo = this.viewPortInfo;\n        this.previousStartIndex = this.viewPortInfo.startIndex;\n        this.startIndex = this.viewPortInfo.startIndex;\n        this.previousEndIndex = this.viewPortInfo.endIndex;\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {AutoCompleteModel} newProp - Returns the dynamic property value of the component.\n     * @param {AutoCompleteModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'showPopupButton':\n                    if (this.showPopupButton) {\n                        var button = Input.appendSpan(dropDownListClasses.icon, this.inputWrapper.container, this.createElement);\n                        this.inputWrapper.buttons[0] = button;\n                        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n                        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                        }\n                        if (this.inputWrapper && this.inputWrapper.buttons && this.inputWrapper.buttons[0]) {\n                            EventHandler.add(this.inputWrapper.buttons[0], 'click', this.dropDownClick, this);\n                        }\n                    }\n                    else {\n                        detach(this.inputWrapper.buttons[0]);\n                        this.inputWrapper.buttons[0] = null;\n                    }\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var atcProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, atcProps.newProperty, atcProps.oldProperty);\n                    break;\n                }\n            }\n        }\n    };\n    AutoComplete.prototype.renderHightSearch = function () {\n        if (this.highlight) {\n            for (var i = 0; i < this.liCollections.length; i++) {\n                var isHighlight = this.ulElement.querySelector('.e-active');\n                if (!isHighlight) {\n                    revertHighlightSearch(this.liCollections[i]);\n                    highlightSearch(this.liCollections[i], this.queryString, this.ignoreCase, this.filterType);\n                }\n                isHighlight = null;\n            }\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    AutoComplete.prototype.getModuleName = function () {\n        return 'autocomplete';\n    };\n    /**\n     * To initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.render = function () {\n        _super.prototype.render.call(this);\n    };\n    __decorate([\n        Complex({ value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], AutoComplete.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], AutoComplete.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"showPopupButton\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"highlight\", void 0);\n    __decorate([\n        Property(20)\n    ], AutoComplete.prototype, \"suggestionCount\", void 0);\n    __decorate([\n        Property({})\n    ], AutoComplete.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"query\", void 0);\n    __decorate([\n        Property(1)\n    ], AutoComplete.prototype, \"minLength\", void 0);\n    __decorate([\n        Property('Contains')\n    ], AutoComplete.prototype, \"filterType\", void 0);\n    __decorate([\n        Event()\n    ], AutoComplete.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], AutoComplete.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"text\", void 0);\n    AutoComplete = __decorate([\n        NotifyPropertyChanges\n    ], AutoComplete);\n    return AutoComplete;\n}(ComboBox));\nexport { AutoComplete };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { isCollide, Popup, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { attributes, setValue, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, extend } from '@syncfusion/ej2-base';\nimport { EventHandler, Property, Event, compile, L10n } from '@syncfusion/ej2-base';\nimport { Animation, Browser, prepend, Complex } from '@syncfusion/ej2-base';\nimport { Search } from '../common/incremental-search';\nimport { append, addClass, removeClass, closest, detach, remove, select, selectAll } from '@syncfusion/ej2-base';\nimport { getUniqueID, formatUnit, isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { DataManager, Query, Predicate, JsonAdaptor } from '@syncfusion/ej2-data';\nimport { createFloatLabel, removeFloating, floatLabelFocus, floatLabelBlur, encodePlaceholder } from './float-label';\nvar FOCUS = 'e-input-focus';\nvar DISABLED = 'e-disabled';\nvar OVER_ALL_WRAPPER = 'e-multiselect e-input-group e-control-wrapper';\nvar ELEMENT_WRAPPER = 'e-multi-select-wrapper';\nvar ELEMENT_MOBILE_WRAPPER = 'e-mob-wrapper';\nvar HIDE_LIST = 'e-hide-listitem';\nvar DELIMITER_VIEW = 'e-delim-view';\nvar CHIP_WRAPPER = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar CHIP_SELECTED = 'e-chip-selected';\nvar SEARCHBOX_WRAPPER = 'e-searcher';\nvar DELIMITER_VIEW_WRAPPER = 'e-delimiter';\nvar ZERO_SIZE = 'e-zero-size';\nvar REMAIN_WRAPPER = 'e-remain';\nvar CLOSEICON_CLASS = 'e-chips-close e-close-hooker';\nvar DELIMITER_WRAPPER = 'e-delim-values';\nvar POPUP_WRAPPER = 'e-ddl e-popup e-multi-select-list-wrapper';\nvar INPUT_ELEMENT = 'e-dropdownbase';\nvar RTL_CLASS = 'e-rtl';\nvar CLOSE_ICON_HIDE = 'e-close-icon-hide';\nvar MOBILE_CHIP = 'e-mob-chip';\nvar FOOTER = 'e-ddl-footer';\nvar HEADER = 'e-ddl-header';\nvar DISABLE_ICON = 'e-ddl-disable-icon';\nvar SPINNER_CLASS = 'e-ms-spinner-icon';\nvar HIDDEN_ELEMENT = 'e-multi-hidden';\nvar destroy = 'destroy';\nvar dropdownIcon = 'e-input-group-icon e-ddl-icon';\nvar iconAnimation = 'e-icon-anim';\nvar TOTAL_COUNT_WRAPPER = 'e-delim-total';\nvar BOX_ELEMENT = 'e-multiselect-box';\nvar FILTERPARENT = 'e-filter-parent';\nvar CUSTOM_WIDTH = 'e-search-custom-width';\nvar FILTERINPUT = 'e-input-filter';\n/**\n * The Multiselect allows the user to pick a more than one value from list of predefined values.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var multiselectObj = new Multiselect();\n *   multiselectObj.appendTo(\"#list\");\n * </script>\n * ```\n */\nvar MultiSelect = /** @class */ (function (_super) {\n    __extends(MultiSelect, _super);\n    /**\n     * Constructor for creating the DropDownList widget.\n     *\n     * @param {MultiSelectModel} option - Specifies the MultiSelect model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function MultiSelect(option, element) {\n        var _this = _super.call(this, option, element) || this;\n        _this.clearIconWidth = 0;\n        _this.previousFilterText = '';\n        _this.isValidKey = false;\n        _this.selectAllEventData = [];\n        _this.selectAllEventEle = [];\n        _this.resetMainList = null;\n        _this.resetFilteredData = false;\n        _this.preventSetCurrentData = false;\n        _this.isSelectAllLoop = false;\n        _this.scrollFocusStatus = false;\n        _this.keyDownStatus = false;\n        _this.IsScrollerAtEnd = function () {\n            return this.list && this.list.scrollTop + this.list.clientHeight >= this.list.scrollHeight;\n        };\n        return _this;\n    }\n    MultiSelect.prototype.enableRTL = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.add(RTL_CLASS);\n        }\n        else {\n            this.overAllWrapper.classList.remove(RTL_CLASS);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n    };\n    MultiSelect.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'VirtualScroll' });\n        }\n        if (this.mode === 'CheckBox') {\n            this.isGroupChecking = this.enableGroupCheckBox;\n            if (this.enableGroupCheckBox) {\n                var prevOnChange = this.isProtectedOnChange;\n                this.isProtectedOnChange = true;\n                this.enableSelectionOrder = false;\n                this.isProtectedOnChange = prevOnChange;\n            }\n            this.allowCustomValue = false;\n            this.hideSelectedItem = false;\n            this.closePopupOnSelect = false;\n            modules.push({\n                member: 'CheckBoxSelection',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    MultiSelect.prototype.updateHTMLAttribute = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                switch (htmlAttr) {\n                    case 'class': {\n                        var updatedClassValue = (this.htmlAttributes[\"\" + htmlAttr].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassValue !== '') {\n                            addClass([this.overAllWrapper], updatedClassValue.split(' '));\n                            addClass([this.popupWrapper], updatedClassValue.split(' '));\n                        }\n                        break;\n                    }\n                    case 'disabled':\n                        this.enable(false);\n                        break;\n                    case 'placeholder':\n                        if (!this.placeholder) {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                            this.setProperties({ placeholder: this.inputElement.placeholder }, true);\n                            this.refreshPlaceHolder();\n                        }\n                        break;\n                    default: {\n                        var defaultAttr = ['id'];\n                        var validateAttr = ['name', 'required', 'aria-required', 'form'];\n                        var containerAttr = ['title', 'role', 'style', 'class'];\n                        if (defaultAttr.indexOf(htmlAttr) > -1) {\n                            this.element.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                            this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (containerAttr.indexOf(htmlAttr) > -1) {\n                            this.overAllWrapper.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (htmlAttr !== 'size' && !isNullOrUndefined(this.inputElement)) {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.updateReadonly = function (state) {\n        if (!isNullOrUndefined(this.inputElement)) {\n            if (state || this.mode === 'CheckBox') {\n                this.inputElement.setAttribute('readonly', 'true');\n            }\n            else {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    };\n    MultiSelect.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (this.overAllClear.parentNode) {\n                this.overAllClear.style.display = '';\n            }\n            else {\n                this.componentWrapper.appendChild(this.overAllClear);\n            }\n            this.componentWrapper.classList.remove(CLOSE_ICON_HIDE);\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n    };\n    MultiSelect.prototype.updateCssClass = function () {\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            var updatedCssClassValues = this.cssClass;\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n            if (updatedCssClassValues !== '') {\n                addClass([this.overAllWrapper], updatedCssClassValues.split(' '));\n                addClass([this.popupWrapper], updatedCssClassValues.split(' '));\n            }\n        }\n    };\n    MultiSelect.prototype.updateOldPropCssClass = function (oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n            if (oldClass !== '') {\n                removeClass([this.overAllWrapper], oldClass.split(' '));\n                removeClass([this.popupWrapper], oldClass.split(' '));\n            }\n        }\n    };\n    MultiSelect.prototype.onPopupShown = function (e) {\n        var _this = this;\n        if (Browser.isDevice && (this.mode === 'CheckBox' && this.allowFiltering)) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            window.onpopstate = function () {\n                proxy_1.hidePopup();\n                proxy_1.inputElement.focus();\n            };\n            history.pushState({}, '');\n        }\n        var animModel = { name: 'FadeIn', duration: 100 };\n        var eventArgs = { popup: this.popupObj, event: e, cancel: false, animation: animModel };\n        this.trigger('open', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                _this.focusAtFirstListItem();\n                if (_this.popupObj) {\n                    document.body.appendChild(_this.popupObj.element);\n                }\n                if (_this.mode === 'CheckBox' && _this.enableGroupCheckBox && !isNullOrUndefined(_this.fields.groupBy)) {\n                    _this.updateListItems(_this.list.querySelectorAll('li.e-list-item'), _this.mainList.querySelectorAll('li.e-list-item'));\n                }\n                if (_this.mode === 'CheckBox' || _this.showDropDownIcon) {\n                    addClass([_this.overAllWrapper], [iconAnimation]);\n                }\n                _this.refreshPopup();\n                _this.renderReactTemplates();\n                if (_this.popupObj) {\n                    _this.popupObj.show(eventArgs.animation, (_this.zIndex === 1000) ? _this.element : null);\n                }\n                attributes(_this.inputElement, { 'aria-expanded': 'true', 'aria-owns': _this.element.id + '_popup', 'aria-controls': _this.element.id });\n                _this.updateAriaActiveDescendant();\n                if (_this.isFirstClick) {\n                    if (!_this.enableVirtualization) {\n                        _this.loadTemplate();\n                    }\n                }\n                if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                    EventHandler.add(_this.popupObj.element, 'click', _this.clickHandler, _this);\n                }\n            }\n        });\n    };\n    MultiSelect.prototype.updateVirtualReOrderList = function (isCheckBoxUpdate) {\n        var query = this.getForQuery(this.value, true).clone();\n        if (this.enableVirtualization && this.dataSource instanceof DataManager) {\n            this.resetList(this.selectedListData, this.fields, query);\n        }\n        else {\n            this.resetList(this.dataSource, this.fields, query);\n        }\n        this.UpdateSkeleton();\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.virtualItemCount = this.itemCount;\n        if (this.mode !== 'CheckBox') {\n            this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n        }\n        if (!this.list.querySelector('.e-virtual-ddl')) {\n            var virualElement = this.createElement('div', {\n                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n            });\n            this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n        }\n        if (this.list.querySelector('.e-virtual-ddl-content')) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n        if (isCheckBoxUpdate) {\n            this.loadTemplate();\n        }\n    };\n    MultiSelect.prototype.updateListItems = function (listItems, mainListItems) {\n        for (var i = 0; i < listItems.length; i++) {\n            this.findGroupStart(listItems[i]);\n            this.findGroupStart(mainListItems[i]);\n        }\n        this.deselectHeader();\n    };\n    MultiSelect.prototype.loadTemplate = function () {\n        this.refreshListItems(null);\n        if (this.enableVirtualization && this.list && this.mode === 'CheckBox') {\n            var reOrderList = this.list.querySelectorAll('.e-reorder')[0];\n            if (this.list.querySelector('.e-virtual-ddl-content') && reOrderList) {\n                this.list.querySelector('.e-virtual-ddl-content').removeChild(reOrderList);\n            }\n        }\n        if (this.mode === 'CheckBox') {\n            this.removeFocus();\n        }\n        this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n        this.isPreventScrollAction = true;\n    };\n    MultiSelect.prototype.setScrollPosition = function () {\n        if (((!this.hideSelectedItem && this.mode !== 'CheckBox') || (this.mode === 'CheckBox' && !this.enableSelectionOrder)) &&\n            (!isNullOrUndefined(this.value) && (this.value.length > 0))) {\n            var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n            var valueEle = this.findListElement((this.hideSelectedItem ? this.ulElement : this.list), 'li', 'data-value', value);\n            if (!isNullOrUndefined(valueEle)) {\n                this.scrollBottom(valueEle);\n            }\n        }\n        if (this.enableVirtualization) {\n            var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n            this.isKeyBoardAction = false;\n            this.scrollBottom(focusedItem);\n        }\n    };\n    MultiSelect.prototype.focusAtFirstListItem = function () {\n        if (this.ulElement && this.ulElement.querySelector('li.'\n            + dropDownBaseClasses.li)) {\n            var element = void 0;\n            if (this.mode === 'CheckBox') {\n                this.removeFocus();\n                return;\n            }\n            else {\n                if (this.enableVirtualization) {\n                    element = this.ulElement.querySelector('li.'\n                        + dropDownBaseClasses.li + ':not(.e-virtual-list)' + ':not(.e-hide-listitem)');\n                }\n                else {\n                    element = this.ulElement.querySelector('li.'\n                        + dropDownBaseClasses.li + ':not(.'\n                        + HIDE_LIST + ')');\n                }\n            }\n            if (element !== null) {\n                this.removeFocus();\n                this.addListFocus(element);\n            }\n        }\n    };\n    MultiSelect.prototype.focusAtLastListItem = function (data) {\n        var activeElement;\n        if (data) {\n            activeElement = Search(data, this.liCollections, 'StartsWith', this.ignoreCase);\n        }\n        else {\n            if (this.value && this.value.length) {\n                var value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n                Search(value, this.liCollections, 'StartsWith', this.ignoreCase);\n            }\n            else {\n                activeElement = null;\n            }\n        }\n        if (activeElement && activeElement.item !== null) {\n            this.addListFocus(activeElement.item);\n            if (((this.allowCustomValue || this.allowFiltering) && this.isPopupOpen() && this.closePopupOnSelect && !this.enableVirtualization) || this.closePopupOnSelect && !this.enableVirtualization) {\n                this.scrollBottom(activeElement.item, activeElement.index);\n            }\n        }\n    };\n    MultiSelect.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'aria-disabled': 'false',\n            'role': 'combobox',\n            'aria-expanded': 'false'\n        };\n        return ariaAttributes;\n    };\n    MultiSelect.prototype.updateListARIA = function () {\n        if (!isNullOrUndefined(this.ulElement)) {\n            attributes(this.ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false', 'aria-label': 'list' });\n        }\n        var disableStatus = !isNullOrUndefined(this.inputElement) && (this.inputElement.disabled) ? true : false;\n        if (!this.isPopupOpen() && !isNullOrUndefined(this.inputElement)) {\n            attributes(this.inputElement, this.getAriaAttributes());\n        }\n        if (disableStatus) {\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n        }\n        this.ensureAriaDisabled((disableStatus) ? 'true' : 'false');\n    };\n    MultiSelect.prototype.ensureAriaDisabled = function (status) {\n        if (this.htmlAttributes && this.htmlAttributes['aria-disabled']) {\n            var attr = this.htmlAttributes;\n            extend(attr, { 'aria-disabled': status }, attr);\n            this.setProperties({ htmlAttributes: attr }, true);\n        }\n    };\n    MultiSelect.prototype.removelastSelection = function (e) {\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        if (selectedElem !== null) {\n            this.removeSelectedChip(e);\n            return;\n        }\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        var value = elements[elements.length - 1].getAttribute('data-value');\n        if (!isNullOrUndefined(this.value)) {\n            this.tempValues = this.allowObjectBinding ? this.value.slice() : this.value.slice();\n        }\n        var customValue = this.allowObjectBinding ? this.getDataByValue(this.getFormattedValue(value)) : this.getFormattedValue(value);\n        if (this.allowCustomValue && (value !== 'false' && customValue === false || (!isNullOrUndefined(customValue) &&\n            customValue.toString() === 'NaN'))) {\n            customValue = value;\n        }\n        this.removeValue(customValue, e);\n        this.removeChipSelection();\n        this.updateDelimeter(this.delimiterChar, e);\n        this.makeTextBoxEmpty();\n        if (this.mainList && this.listData) {\n            this.refreshSelection();\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        this.renderPopup();\n        this.onPopupShown();\n    };\n    MultiSelect.prototype.targetElement = function () {\n        this.targetInputElement = this.inputElement;\n        if (this.mode === 'CheckBox' && this.allowFiltering) {\n            this.notify('targetElement', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        return this.targetInputElement.value;\n    };\n    MultiSelect.prototype.getForQuery = function (valuecheck, isCheckbox) {\n        var predicate;\n        var field = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n        if (this.enableVirtualization && valuecheck) {\n            if (isCheckbox) {\n                for (var i = 0; i < valuecheck.length; i++) {\n                    var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', valuecheck[i]) : valuecheck[i];\n                    if (i === 0) {\n                        predicate = new Predicate(field, 'equal', (value));\n                    }\n                    else {\n                        predicate = predicate.or(field, 'equal', (value));\n                    }\n                }\n                return new Query().where(predicate);\n            }\n            else {\n                for (var i = 0; i < valuecheck.length; i++) {\n                    var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', valuecheck[i]) : valuecheck[i];\n                    if (i === 0) {\n                        predicate = new Predicate(field, 'notequal', (value));\n                    }\n                    else {\n                        predicate = predicate.and(field, 'notequal', (value));\n                    }\n                }\n                return new Query().where(predicate);\n            }\n        }\n        else {\n            for (var i = 0; i < valuecheck.length; i++) {\n                if (i === 0) {\n                    predicate = new Predicate(field, 'equal', valuecheck[i]);\n                }\n                else {\n                    predicate = predicate.or(field, 'equal', valuecheck[i]);\n                }\n            }\n        }\n        if (this.dataSource instanceof DataManager && this.dataSource.adaptor instanceof JsonAdaptor) {\n            return new Query().where(predicate);\n        }\n        else {\n            return this.getQuery(this.query).clone().where(predicate);\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    MultiSelect.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        if (this.dataSource instanceof DataManager && !isNullOrUndefined(e) && !this.virtualGroupDataSource) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = e.count;\n        }\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        this.skeletonCount = this.totalItemCount != 0 && this.totalItemCount < (this.itemCount * 2) ? 0 : this.skeletonCount;\n        this.updateSelectElementData(this.allowFiltering);\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var proxy = this;\n        if (!isNullOrUndefined(this.value) && !this.allowCustomValue && !this.enableVirtualization && this.listData && this.listData.length > 0) {\n            for (var i = 0; i < this.value.length; i++) {\n                var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', proxy.value[i]) : proxy.value[i];\n                var checkEle = this.findListElement(((this.allowFiltering && !isNullOrUndefined(this.mainList)) ? this.mainList : ulElement), 'li', 'data-value', value);\n                if (!checkEle && !(this.dataSource instanceof DataManager)) {\n                    this.value.splice(i, 1);\n                    i -= 1;\n                }\n            }\n        }\n        var valuecheck = [];\n        if (!isNullOrUndefined(this.value)) {\n            valuecheck = this.presentItemValue(this.ulElement);\n        }\n        if (valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value)\n            && this.listData != null && !this.enableVirtualization) {\n            this.addNonPresentItems(valuecheck, this.ulElement, this.listData);\n        }\n        else {\n            this.updateActionList(ulElement, list, e);\n        }\n        if (this.dataSource instanceof DataManager && this.allowCustomValue && !this.isCustomRendered && this.inputElement.value && this.inputElement.value !== '') {\n            var query = new Query();\n            query = this.allowFiltering ? query.where(this.fields.text, 'startswith', this.inputElement.value, this.ignoreCase, this.ignoreAccent) : query;\n            this.checkForCustomValue(query, this.fields);\n            this.isCustomRendered = true;\n            this.remoteCustomValue = this.enableVirtualization ? false : this.remoteCustomValue;\n        }\n        if (this.dataSource instanceof DataManager && this.mode === 'CheckBox' && this.allowFiltering) {\n            this.removeFocus();\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    MultiSelect.prototype.updateActionList = function (ulElement, list, e, isUpdated) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        if (!this.mainList && !this.mainData) {\n            this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n            this.mainData = list;\n            this.mainListCollection = this.liCollections;\n        }\n        else if (isNullOrUndefined(this.mainData) || this.mainData.length === 0) {\n            this.mainData = list;\n        }\n        if ((this.remoteCustomValue || list.length <= 0) && this.allowCustomValue && this.inputFocus && this.allowFiltering &&\n            this.inputElement.value && this.inputElement.value !== '') {\n            this.checkForCustomValue(this.tempQuery, this.fields);\n            if (this.isCustomRendered) {\n                return;\n            }\n        }\n        if (this.value && this.value.length && ((this.mode !== 'CheckBox' && !isNullOrUndefined(this.inputElement) && this.inputElement.value.trim() !== '') ||\n            this.mode === 'CheckBox' || ((this.keyCode === 8 || this.keyCode === 46) && this.allowFiltering &&\n            this.allowCustomValue && this.dataSource instanceof DataManager && this.inputElement.value === ''))) {\n            this.refreshSelection();\n        }\n        this.updateListARIA();\n        this.unwireListEvents();\n        this.wireListEvents();\n        if (!isNullOrUndefined(this.setInitialValue)) {\n            this.setInitialValue();\n        }\n        if (!isNullOrUndefined(this.selectAllAction)) {\n            this.selectAllAction();\n        }\n        if (this.setDynValue) {\n            if (!isNullOrUndefined(this.text) && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n                this.initialTextUpdate();\n            }\n            if (!this.enableVirtualization || (this.enableVirtualization && (!(this.dataSource instanceof DataManager)))) {\n                this.initialValueUpdate();\n            }\n            this.initialUpdate();\n            this.refreshPlaceHolder();\n            if (this.mode !== 'CheckBox' && this.changeOnBlur) {\n                this.updateValueState(null, this.value, null);\n            }\n        }\n        this.renderPopup();\n        if (this.beforePopupOpen) {\n            this.beforePopupOpen = false;\n            this.onPopupShown(e);\n        }\n    };\n    MultiSelect.prototype.refreshSelection = function () {\n        var value;\n        var element;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (!isNullOrUndefined(this.value)) {\n            for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[index]) : this.value[index];\n                element = this.findListElement(this.list, 'li', 'data-value', value);\n                if (element) {\n                    addClass([element], className);\n                    if (this.hideSelectedItem && element.previousSibling\n                        && element.previousElementSibling.classList.contains(dropDownBaseClasses.group)\n                        && (!element.nextElementSibling ||\n                            element.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                        addClass([element.previousElementSibling], className);\n                    }\n                    if (this.hideSelectedItem && this.fields.groupBy && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n                        this.hideGroupItem(value);\n                    }\n                    if (this.hideSelectedItem && element.classList.contains(dropDownBaseClasses.focus)) {\n                        removeClass([element], dropDownBaseClasses.focus);\n                        var listEle = element.parentElement.querySelectorAll('.' +\n                            dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n                        if (listEle.length > 0) {\n                            addClass([listEle[0]], dropDownBaseClasses.focus);\n                            this.updateAriaActiveDescendant();\n                        }\n                        else {\n                            //EJ2-57588 - for this task, we prevent the ul element cloning ( this.ulElement = this.ulElement.cloneNode ? <HTMLElement>this.ulElement.cloneNode(true) : this.ulElement;)\n                            if (!(this.list && this.list.querySelectorAll('.' + dropDownBaseClasses.li).length > 0)) {\n                                this.l10nUpdate();\n                                addClass([this.list], dropDownBaseClasses.noData);\n                            }\n                        }\n                    }\n                    element.setAttribute('aria-selected', 'true');\n                    if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n                        var ariaValue = element.getElementsByClassName('e-check').length;\n                        if (ariaValue === 0) {\n                            var args = {\n                                module: 'CheckBoxSelection',\n                                enable: this.mode === 'CheckBox',\n                                li: element,\n                                e: null\n                            };\n                            this.notify('updatelist', args);\n                        }\n                    }\n                }\n            }\n        }\n        this.checkSelectAll();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.hideGroupItem = function (value) {\n        var element;\n        var element1;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        element1 = element = this.findListElement(this.ulElement, 'li', 'data-value', value);\n        var i = 0;\n        var j = 0;\n        var temp = true;\n        var temp1 = true;\n        do {\n            if (element && element.previousElementSibling\n                && (!element.previousElementSibling.classList.contains(HIDE_LIST) &&\n                    element.previousElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp = false;\n            }\n            if (!temp || !element || (element.previousElementSibling\n                && element.previousElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                i = 10;\n            }\n            else {\n                element = element.previousElementSibling;\n            }\n            if (element1 && element1.nextElementSibling\n                && (!element1.nextElementSibling.classList.contains(HIDE_LIST) &&\n                    element1.nextElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp1 = false;\n            }\n            if (!temp1 || !element1 || (element1.nextElementSibling\n                && element1.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                j = 10;\n            }\n            else {\n                element1 = element1.nextElementSibling;\n            }\n        } while (i < 10 || j < 10);\n        if (temp && temp1 && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            addClass([element.previousElementSibling], className);\n        }\n        else if (temp && temp1 && element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            removeClass([element.previousElementSibling], className);\n        }\n    };\n    MultiSelect.prototype.getValidLi = function () {\n        var liElement = this.ulElement.querySelector('li.' + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n        return (!isNullOrUndefined(liElement) ? liElement : this.liCollections[0]);\n    };\n    MultiSelect.prototype.checkSelectAll = function () {\n        var groupItemLength = this.list.querySelectorAll('li.e-list-group-item.e-active').length;\n        var listItem = this.list.querySelectorAll('li.e-list-item');\n        var searchCount = this.enableVirtualization ? this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-virtual-list)').length : this.list.querySelectorAll('li.' + dropDownBaseClasses.li).length;\n        var searchActiveCount = this.list.querySelectorAll('li.' + dropDownBaseClasses.selected).length;\n        if (this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n            searchActiveCount = searchActiveCount - groupItemLength;\n        }\n        if ((!this.enableVirtualization && ((searchCount === searchActiveCount || searchActiveCount === this.maximumSelectionLength)\n            && (this.mode === 'CheckBox' && this.showSelectAll))) || (this.enableVirtualization && this.mode === 'CheckBox' && this.showSelectAll && this.virtualSelectAll && this.value && this.value.length === this.totalItemCount)) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'check' });\n        }\n        else if ((searchCount !== searchActiveCount) && (this.mode === 'CheckBox' && this.showSelectAll) && ((!this.enableVirtualization) || (this.enableVirtualization && !this.virtualSelectAll))) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n        }\n        if (this.enableGroupCheckBox && this.fields.groupBy && !this.enableSelectionOrder) {\n            for (var i = 0; i < listItem.length; i++) {\n                this.findGroupStart(listItem[i]);\n            }\n            this.deselectHeader();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.openClick = function (e) {\n        if (!this.openOnClick && this.mode !== 'CheckBox' && !this.isPopupOpen()) {\n            if (this.targetElement() !== '') {\n                this.showPopup();\n            }\n            else {\n                this.hidePopup(e);\n            }\n        }\n        else if (!this.openOnClick && this.mode === 'CheckBox' && !this.isPopupOpen()) {\n            this.showPopup();\n        }\n    };\n    MultiSelect.prototype.keyUp = function (e) {\n        if (this.mode === 'CheckBox' && !this.openOnClick) {\n            var char = String.fromCharCode(e.keyCode);\n            var isWordCharacter = char.match(/\\w/);\n            if (!isNullOrUndefined(isWordCharacter)) {\n                this.isValidKey = true;\n            }\n        }\n        this.isValidKey = (this.isPopupOpen() && e.keyCode === 8) || this.isValidKey;\n        this.isValidKey = e.ctrlKey && e.keyCode === 86 ? false : this.isValidKey;\n        if (this.isValidKey && this.inputElement) {\n            this.isValidKey = false;\n            this.expandTextbox();\n            this.showOverAllClear();\n            switch (e.keyCode) {\n                default:\n                    // For filtering works in mobile firefox\n                    this.search(e);\n            }\n        }\n    };\n    /**\n     * To filter the multiselect data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     */\n    MultiSelect.prototype.filter = function (dataSource, query, fields) {\n        this.isFiltered = true;\n        this.remoteFilterAction = true;\n        this.dataUpdater(dataSource, query, fields);\n    };\n    MultiSelect.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        if (this.isFiltered) {\n            if ((this.enableVirtualization && !isNullOrUndefined(this.customFilterQuery))) {\n                filterQuery = this.customFilterQuery.clone();\n            }\n            else if (!this.enableVirtualization) {\n                return filterQuery;\n            }\n        }\n        if (this.filterAction) {\n            if ((this.targetElement() !== null && !this.enableVirtualization) || (this.enableVirtualization && this.targetElement() !== null && this.targetElement().trim() !== '')) {\n                var dataType = this.typeOfData(this.dataSource).typeof;\n                if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                    filterQuery.where('', this.filterType, this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n                else if ((this.enableVirtualization && this.targetElement() !== \"\") || !this.enableVirtualization) {\n                    var fields = this.fields;\n                    filterQuery.where(!isNullOrUndefined(fields.text) ? fields.text : '', this.filterType, this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n            }\n            if (this.enableVirtualization && (this.viewPortInfo.endIndex != 0) && !this.virtualSelectAll) {\n                return this.virtualFilterQuery(filterQuery);\n            }\n            return filterQuery;\n        }\n        else {\n            if (this.enableVirtualization && (this.viewPortInfo.endIndex != 0) && !this.virtualSelectAll) {\n                return this.virtualFilterQuery(filterQuery);\n            }\n            if (this.virtualSelectAll) {\n                return query ? query.take(this.maximumSelectionLength).requiresCount() : this.query ? this.query.take(this.maximumSelectionLength).requiresCount() : new Query().take(this.maximumSelectionLength).requiresCount();\n            }\n            return query ? query : this.query ? this.query : new Query();\n        }\n    };\n    MultiSelect.prototype.virtualFilterQuery = function (filterQuery) {\n        var takeValue = this.getTakeValue();\n        var isReOrder = true;\n        var isSkip = true;\n        var isTake = true;\n        for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n            if (this.getModuleName() === 'multiselect' && ((filterQuery.queries[queryElements].e && filterQuery.queries[queryElements].e.condition == 'or') || (filterQuery.queries[queryElements].e && filterQuery.queries[queryElements].e.operator == 'equal'))) {\n                isReOrder = false;\n            }\n            if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                isSkip = false;\n            }\n            if (filterQuery.queries[queryElements].fn === 'onTake') {\n                isTake = false;\n            }\n        }\n        var queryTakeValue = 0;\n        if (filterQuery && filterQuery.queries.length > 0) {\n            for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                if (filterQuery.queries[queryElements].fn === 'onTake') {\n                    queryTakeValue = takeValue <= filterQuery.queries[queryElements].e.nos ? filterQuery.queries[queryElements].e.nos : takeValue;\n                }\n            }\n        }\n        if (queryTakeValue <= 0 && this.query && this.query.queries.length > 0) {\n            for (var queryElements = 0; queryElements < this.query.queries.length; queryElements++) {\n                if (this.query.queries[queryElements].fn === 'onTake') {\n                    queryTakeValue = takeValue <= this.query.queries[queryElements].e.nos ? this.query.queries[queryElements].e.nos : takeValue;\n                }\n            }\n        }\n        if (filterQuery && filterQuery.queries.length > 0) {\n            for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                if (filterQuery.queries[queryElements].fn === 'onTake') {\n                    queryTakeValue = filterQuery.queries[queryElements].e.nos <= queryTakeValue ? queryTakeValue : filterQuery.queries[queryElements].e.nos;\n                    filterQuery.queries.splice(queryElements, 1);\n                    --queryElements;\n                }\n            }\n        }\n        if ((this.allowFiltering && isSkip) || !isReOrder || (!this.allowFiltering && isSkip)) {\n            if (!isReOrder) {\n                filterQuery.skip(this.viewPortInfo.startIndex);\n            }\n            else {\n                filterQuery.skip(this.virtualItemStartIndex);\n            }\n        }\n        if (this.isIncrementalRequest) {\n            filterQuery.take(this.incrementalEndIndex);\n        }\n        else if (queryTakeValue > 0) {\n            filterQuery.take(queryTakeValue);\n        }\n        else {\n            filterQuery.take(takeValue);\n        }\n        filterQuery.requiresCount();\n        return filterQuery;\n    };\n    MultiSelect.prototype.getTakeValue = function () {\n        return this.allowFiltering && Browser.isDevice ? Math.round(window.outerHeight / this.listItemHeight) : this.itemCount;\n    };\n    MultiSelect.prototype.dataUpdater = function (dataSource, query, fields) {\n        this.isDataFetched = false;\n        var isNoData = this.list.classList.contains(dropDownBaseClasses.noData);\n        if (this.targetElement().trim() === '') {\n            var list = this.enableVirtualization ? this.list.cloneNode(true) : this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (this.backCommand) {\n                this.remoteCustomValue = false;\n                if (this.allowCustomValue && list.querySelectorAll('li').length == 0 && this.mainData.length > 0) {\n                    this.mainData = [];\n                }\n                if (this.enableVirtualization) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n                    this.resetList(dataSource, fields, query);\n                    if (this.mode !== 'CheckBox') {\n                        this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n                    }\n                    this.UpdateSkeleton();\n                    if ((isNoData || this.allowCustomValue) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                        if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                            this.list.appendChild(this.createElement('div', {\n                                className: 'e-virtual-ddl-content',\n                                styles: this.getTransformValues()\n                            })).appendChild(this.list.querySelector('.e-list-parent'));\n                        }\n                        if (!this.list.querySelector('.e-virtual-ddl')) {\n                            var virualElement = this.createElement('div', {\n                                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                            });\n                            document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                        }\n                    }\n                }\n                this.onActionComplete(list, this.mainData);\n                if (this.value && this.value.length) {\n                    this.refreshSelection();\n                }\n                if (this.keyCode !== 8) {\n                    this.focusAtFirstListItem();\n                }\n                this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n            }\n        }\n        else {\n            if (this.enableVirtualization && this.allowFiltering) {\n                this.isPreventScrollAction = true;\n                this.list.scrollTop = 0;\n                this.previousStartIndex = 0;\n                this.virtualListInfo = null;\n            }\n            this.resetList(dataSource, fields, query);\n            if (this.enableVirtualization && (isNoData || this.allowCustomValue) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                    this.list.appendChild(this.createElement('div', {\n                        className: 'e-virtual-ddl-content',\n                        styles: this.getTransformValues()\n                    })).appendChild(this.list.querySelector('.e-list-parent'));\n                }\n                if (this.mode !== 'CheckBox') {\n                    this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n                }\n                if (!this.list.querySelector('.e-virtual-ddl')) {\n                    var virualElement = this.createElement('div', {\n                        id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                    });\n                    document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                }\n            }\n            if (this.allowCustomValue) {\n                if (!(dataSource instanceof DataManager)) {\n                    this.checkForCustomValue(query, fields);\n                }\n                else {\n                    this.remoteCustomValue = true;\n                    this.tempQuery = query;\n                }\n            }\n        }\n        if (this.enableVirtualization && this.allowFiltering) {\n            this.getFilteringSkeletonCount();\n        }\n        this.refreshPopup();\n        if (this.mode === 'CheckBox') {\n            this.removeFocus();\n        }\n    };\n    MultiSelect.prototype.checkForCustomValue = function (query, fields) {\n        var dataChecks = !this.getValueByText(this.inputElement.value, this.ignoreCase);\n        var field = fields ? fields : this.fields;\n        if (this.allowCustomValue && dataChecks) {\n            var value = this.inputElement.value;\n            var customData = (!isNullOrUndefined(this.mainData) && this.mainData.length > 0) ?\n                this.mainData[0] : this.mainData;\n            if (customData && typeof (customData) !== 'string' && typeof (customData) !== 'number' && typeof (customData) !== 'boolean') {\n                var dataItem_1 = {};\n                setValue(field.text, value, dataItem_1);\n                if (typeof getValue((this.fields.value ? this.fields.value : 'value'), customData)\n                    === 'number' && this.fields.value !== this.fields.text) {\n                    setValue(field.value, Math.random(), dataItem_1);\n                }\n                else {\n                    setValue(field.value, value, dataItem_1);\n                }\n                var emptyObject_1 = {};\n                if (this.allowObjectBinding) {\n                    var keys = this.listData && this.listData.length > 0 ? Object.keys(this.listData[0]) : this.firstItem ? Object.keys(this.firstItem) : Object.keys(dataItem_1);\n                    // Create an empty object with predefined keys\n                    keys.forEach(function (key) {\n                        emptyObject_1[key] = ((key === fields.value) || (key === fields.text)) ? getValue(fields.value, dataItem_1) : null;\n                    });\n                }\n                dataItem_1 = this.allowObjectBinding ? emptyObject_1 : dataItem_1;\n                if (this.enableVirtualization) {\n                    this.virtualCustomData = dataItem_1;\n                    var tempData = this.dataSource instanceof DataManager ? JSON.parse(JSON.stringify(this.listData)) : JSON.parse(JSON.stringify(this.dataSource));\n                    var totalData = [];\n                    if (this.virtualCustomSelectData && this.virtualCustomSelectData.length > 0) {\n                        totalData = tempData.concat(this.virtualCustomSelectData);\n                    }\n                    tempData.splice(0, 0, dataItem_1);\n                    this.isCustomDataUpdated = true;\n                    var tempCount = this.totalItemCount;\n                    this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n                    this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n                    this.resetList(tempData, field, query);\n                    this.isCustomDataUpdated = false;\n                    this.totalItemCount = this.enableVirtualization && this.dataSource instanceof DataManager ? tempCount : this.totalItemCount;\n                }\n                else {\n                    if (this.dataSource instanceof DataManager && this.allowCustomValue && this.allowFiltering) {\n                        this.remoteCustomValue = false;\n                    }\n                    var tempData = JSON.parse(JSON.stringify(this.listData));\n                    tempData.splice(0, 0, dataItem_1);\n                    this.resetList(tempData, field, query);\n                }\n            }\n            else if (this.listData) {\n                var tempData = JSON.parse(JSON.stringify(this.listData));\n                tempData.splice(0, 0, this.inputElement.value);\n                tempData[0] = (typeof customData === 'number' && !isNaN(parseFloat(tempData[0]))) ?\n                    parseFloat(tempData[0]) : tempData[0];\n                tempData[0] = (typeof customData === 'boolean') ?\n                    (tempData[0] === 'true' ? true : (tempData[0] === 'false' ? false : tempData[0])) : tempData[0];\n                this.resetList(tempData, field);\n            }\n        }\n        else if (this.listData && this.mainData && !dataChecks && this.allowCustomValue) {\n            if (this.allowFiltering && this.isRemoteSelection && this.remoteCustomValue) {\n                this.isRemoteSelection = false;\n                if (!this.enableVirtualization) {\n                    this.resetList(this.listData, field, query);\n                }\n            }\n            else if (!this.allowFiltering && this.list) {\n                var liCollections = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-hide-listitem)');\n                var activeElement = Search(this.targetElement(), liCollections, 'StartsWith', this.ignoreCase);\n                if (activeElement && activeElement.item !== null) {\n                    this.addListFocus(activeElement.item);\n                }\n            }\n        }\n        if (this.value && this.value.length) {\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.getNgDirective = function () {\n        return 'EJS-MULTISELECT';\n    };\n    MultiSelect.prototype.wrapperClick = function (e) {\n        this.setDynValue = false;\n        this.keyboardEvent = null;\n        this.isKeyBoardAction = false;\n        if (!this.enabled) {\n            return;\n        }\n        if (e.target === this.overAllClear) {\n            e.preventDefault();\n            return;\n        }\n        if (!this.inputFocus) {\n            this.inputElement.focus();\n        }\n        if (!this.readonly) {\n            if (e.target && e.target.classList.toString().indexOf(CHIP_CLOSE) !== -1) {\n                if (this.isPopupOpen()) {\n                    this.refreshPopup();\n                }\n                return;\n            }\n            if (!this.isPopupOpen() &&\n                (this.openOnClick || (this.showDropDownIcon && e.target && e.target.className === dropdownIcon))) {\n                this.showPopup(e);\n            }\n            else {\n                this.hidePopup(e);\n                if (this.mode === 'CheckBox') {\n                    this.showOverAllClear();\n                    this.inputFocus = true;\n                    if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                        this.overAllWrapper.classList.add(FOCUS);\n                    }\n                }\n            }\n        }\n        if (!(this.targetElement() && this.targetElement() !== '')) {\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.enable = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.remove(DISABLED);\n            this.inputElement.removeAttribute('disabled');\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n            this.ensureAriaDisabled('false');\n        }\n        else {\n            this.overAllWrapper.classList.add(DISABLED);\n            this.inputElement.setAttribute('disabled', 'true');\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n            this.ensureAriaDisabled('true');\n        }\n        if (this.enabled !== state) {\n            this.enabled = state;\n        }\n        this.hidePopup();\n    };\n    MultiSelect.prototype.onBlurHandler = function (eve, isDocClickFromCheck) {\n        var target;\n        if (!isNullOrUndefined(eve)) {\n            target = eve.relatedTarget;\n        }\n        if (this.popupObj && document.body.contains(this.popupObj.element) && this.popupObj.element.contains(target)) {\n            if (this.mode !== 'CheckBox') {\n                this.inputElement.focus();\n            }\n            else if ((this.floatLabelType === 'Auto' &&\n                ((this.overAllWrapper.classList.contains('e-outline')) || (this.overAllWrapper.classList.contains('e-filled'))))) {\n                addClass([this.overAllWrapper], 'e-valid-input');\n            }\n            return;\n        }\n        if (this.floatLabelType === 'Auto' && (this.overAllWrapper.classList.contains('e-outline')) && this.mode === 'CheckBox' &&\n            ((isNullOrUndefined(this.value)) || this.value.length === 0)) {\n            removeClass([this.overAllWrapper], 'e-valid-input');\n        }\n        if (this.mode === 'CheckBox' && Browser.isIE && !isNullOrUndefined(eve) && !isDocClickFromCheck) {\n            this.inputFocus = false;\n            this.overAllWrapper.classList.remove(FOCUS);\n            return;\n        }\n        if (this.scrollFocusStatus) {\n            if (!isNullOrUndefined(eve)) {\n                eve.preventDefault();\n            }\n            this.inputElement.focus();\n            this.scrollFocusStatus = false;\n            return;\n        }\n        this.inputFocus = false;\n        this.overAllWrapper.classList.remove(FOCUS);\n        if (this.addTagOnBlur) {\n            var dataChecks = this.getValueByText(this.inputElement.value, this.ignoreCase, this.ignoreAccent);\n            var listLiElement = this.findListElement(this.list, 'li', 'data-value', dataChecks);\n            var className = this.hideSelectedItem ? HIDE_LIST : dropDownBaseClasses.selected;\n            var allowChipAddition = (listLiElement && !listLiElement.classList.contains(className)) ? true : false;\n            if (allowChipAddition) {\n                this.updateListSelection(listLiElement, eve);\n                if (this.mode === 'Delimiter') {\n                    this.updateDelimeter(this.delimiterChar);\n                }\n            }\n        }\n        this.updateDataList();\n        if (this.resetMainList) {\n            this.mainList = this.resetMainList;\n            this.resetMainList = null;\n        }\n        this.refreshListItems(null);\n        if (this.mode !== 'Box' && this.mode !== 'CheckBox') {\n            this.updateDelimView();\n        }\n        if (this.changeOnBlur) {\n            this.updateValueState(eve, this.value, this.tempValues);\n            this.dispatchEvent(this.hiddenElement, 'change');\n        }\n        this.overAllClear.style.display = 'none';\n        if (this.isPopupOpen()) {\n            this.hidePopup(eve);\n        }\n        this.makeTextBoxEmpty();\n        this.trigger('blur');\n        this.focused = true;\n        if (Browser.isDevice && this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.removeChipFocus();\n        }\n        this.removeChipSelection();\n        this.refreshInputHight();\n        floatLabelBlur(this.overAllWrapper, this.componentWrapper, this.value, this.floatLabelType, this.placeholder);\n        this.refreshPlaceHolder();\n        if ((this.allowFiltering || (this.enableSelectionOrder === true && this.mode === 'CheckBox'))\n            && !isNullOrUndefined(this.mainList)) {\n            this.ulElement = this.mainList;\n        }\n        this.checkPlaceholderSize();\n        Input.createSpanElement(this.overAllWrapper, this.createElement);\n        this.calculateWidth();\n        if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n            this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n    };\n    MultiSelect.prototype.calculateWidth = function () {\n        var elementWidth;\n        if (this.overAllWrapper) {\n            if (!this.showDropDownIcon || this.overAllWrapper.querySelector('.' + 'e-label-top')) {\n                elementWidth = this.overAllWrapper.clientWidth - 2 * (parseInt(getComputedStyle(this.inputElement).paddingRight));\n            }\n            else {\n                var downIconWidth = this.dropIcon.offsetWidth +\n                    parseInt(getComputedStyle(this.dropIcon).marginRight);\n                elementWidth = this.overAllWrapper.clientWidth - (downIconWidth + 2 * (parseInt(getComputedStyle(this.inputElement).paddingRight)));\n            }\n            if (this.floatLabelType !== 'Never') {\n                Input.calculateWidth(elementWidth, this.overAllWrapper, this.getModuleName());\n            }\n        }\n    };\n    MultiSelect.prototype.checkPlaceholderSize = function () {\n        if (this.showDropDownIcon) {\n            var downIconWidth = this.dropIcon.offsetWidth +\n                parseInt(window.getComputedStyle(this.dropIcon).marginRight, 10);\n            this.setPlaceholderSize(downIconWidth);\n        }\n        else {\n            if (!isNullOrUndefined(this.dropIcon)) {\n                this.setPlaceholderSize(this.showDropDownIcon ? this.dropIcon.offsetWidth : 0);\n            }\n        }\n    };\n    MultiSelect.prototype.setPlaceholderSize = function (downIconWidth) {\n        if (isNullOrUndefined(this.value) || this.value.length === 0) {\n            if (this.dropIcon.offsetWidth !== 0) {\n                this.searchWrapper.style.width = ('calc(100% - ' + (downIconWidth + 10)) + 'px';\n            }\n            else {\n                addClass([this.searchWrapper], CUSTOM_WIDTH);\n            }\n        }\n        else if (!isNullOrUndefined(this.value)) {\n            this.searchWrapper.removeAttribute('style');\n            removeClass([this.searchWrapper], CUSTOM_WIDTH);\n        }\n    };\n    MultiSelect.prototype.refreshInputHight = function () {\n        if (!isNullOrUndefined(this.searchWrapper)) {\n            if ((!this.value || !this.value.length) && (isNullOrUndefined(this.text) || this.text === '')) {\n                this.searchWrapper.classList.remove(ZERO_SIZE);\n            }\n            else {\n                this.searchWrapper.classList.add(ZERO_SIZE);\n            }\n        }\n    };\n    MultiSelect.prototype.validateValues = function (newValue, oldValue) {\n        return JSON.stringify(newValue.slice().sort()) !== JSON.stringify(oldValue.slice().sort());\n    };\n    MultiSelect.prototype.updateValueState = function (event, newVal, oldVal) {\n        var newValue = newVal ? newVal : [];\n        var oldValue = oldVal ? oldVal : [];\n        if (this.initStatus && this.validateValues(newValue, oldValue)) {\n            var eventArgs = {\n                e: event,\n                oldValue: this.allowObjectBinding ? oldVal : oldVal,\n                value: this.allowObjectBinding ? newVal : newVal,\n                isInteracted: event ? true : false,\n                element: this.element,\n                event: event\n            };\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', eventArgs);\n            }\n            this.updateTempValue();\n            if (!this.changeOnBlur) {\n                this.dispatchEvent(this.hiddenElement, 'change');\n            }\n        }\n        this.selectedValueInfo = this.viewPortInfo;\n    };\n    MultiSelect.prototype.updateTempValue = function () {\n        if (!this.value) {\n            this.tempValues = this.value;\n        }\n        else {\n            this.tempValues = this.allowObjectBinding ? this.value.slice() : this.value.slice();\n        }\n    };\n    MultiSelect.prototype.updateAriaActiveDescendant = function () {\n        if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n        }\n    };\n    MultiSelect.prototype.pageUpSelection = function (steps, isVirtualKeyAction) {\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem = steps >= 0 ? collection[steps + 1] : collection[0];\n        if (this.enableVirtualization && isVirtualKeyAction) {\n            previousItem = (this.liCollections.length >= steps && steps >= 0) ? this.liCollections[steps] : this.liCollections[this.skeletonCount];\n        }\n        if (!isNullOrUndefined(previousItem) && previousItem.classList.contains('e-virtual-list')) {\n            previousItem = this.liCollections[this.skeletonCount];\n        }\n        if (this.enableVirtualization) {\n            if (!isNullOrUndefined(previousItem) && !previousItem.classList.contains('e-item-focus')) {\n                this.isKeyBoardAction = true;\n                this.addListFocus(previousItem);\n                this.scrollTop(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), this.keyboardEvent.keyCode);\n            }\n            else if (this.viewPortInfo.startIndex == 0) {\n                this.isKeyBoardAction = true;\n                this.scrollTop(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), this.keyboardEvent.keyCode);\n            }\n            this.previousFocusItem = previousItem;\n        }\n        else {\n            this.isKeyBoardAction = true;\n            this.addListFocus(previousItem);\n            this.scrollTop(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), this.keyboardEvent.keyCode);\n        }\n    };\n    MultiSelect.prototype.pageDownSelection = function (steps, isVirtualKeyAction) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var list = this.getItems();\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem = steps <= collection.length ? collection[steps - 1] : collection[collection.length - 1];\n        if (this.enableVirtualization && this.skeletonCount > 0) {\n            previousItem = steps < list.length ? this.liCollections[steps] : this.liCollections[list.length - 1];\n        }\n        if (this.enableVirtualization && isVirtualKeyAction) {\n            previousItem = steps <= list.length ? this.liCollections[steps] : this.liCollections[list.length - 1];\n        }\n        this.isKeyBoardAction = true;\n        this.addListFocus(previousItem);\n        this.previousFocusItem = previousItem;\n        this.scrollBottom(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), false, this.keyboardEvent.keyCode);\n    };\n    MultiSelect.prototype.getItems = function () {\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        return this.ulElement && this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li).length > 0 ?\n            this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li\n                + ':not(.' + HIDE_LIST + ')') : [];\n    };\n    MultiSelect.prototype.focusInHandler = function (e) {\n        var _this = this;\n        if (this.enabled) {\n            this.showOverAllClear();\n            this.inputFocus = true;\n            if (this.value && this.value.length) {\n                if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                    this.chipCollectionWrapper.style.display = '';\n                }\n                else {\n                    this.showDelimWrapper();\n                }\n                if (this.mode !== 'CheckBox') {\n                    this.viewWrapper.style.display = 'none';\n                }\n            }\n            if (this.mode !== 'CheckBox') {\n                this.searchWrapper.classList.remove(ZERO_SIZE);\n            }\n            this.checkPlaceholderSize();\n            if (this.focused) {\n                var args = { isInteracted: e ? true : false, event: e };\n                this.trigger('focus', args);\n                this.focused = false;\n            }\n            if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                this.overAllWrapper.classList.add(FOCUS);\n            }\n            floatLabelFocus(this.overAllWrapper, this.componentWrapper);\n            if (this.isPopupOpen()) {\n                this.refreshPopup();\n            }\n            setTimeout(function () {\n                _this.calculateWidth();\n            }, 150);\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    MultiSelect.prototype.showDelimWrapper = function () {\n        if (this.mode === 'CheckBox') {\n            this.viewWrapper.style.display = '';\n        }\n        else {\n            this.delimiterWrapper.style.display = '';\n        }\n        this.componentWrapper.classList.add(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.hideDelimWrapper = function () {\n        this.delimiterWrapper.style.display = 'none';\n        this.componentWrapper.classList.remove(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.expandTextbox = function () {\n        var size = 5;\n        if (this.placeholder) {\n            size = size > this.inputElement.placeholder.length ? size : this.inputElement.placeholder.length;\n        }\n        if (this.inputElement.value.length > size) {\n            this.inputElement.size = this.inputElement.value.length;\n        }\n        else {\n            this.inputElement.size = size;\n        }\n    };\n    MultiSelect.prototype.isPopupOpen = function () {\n        return ((this.popupWrapper !== null) && (this.popupWrapper.parentElement !== null));\n    };\n    MultiSelect.prototype.refreshPopup = function () {\n        if (this.popupObj && this.mobFilter) {\n            this.popupObj.setProperties({ width: this.calcPopupWidth() });\n            this.popupObj.refreshPosition(this.overAllWrapper);\n            this.popupObj.resolveCollision();\n        }\n    };\n    MultiSelect.prototype.checkTextLength = function () {\n        return this.targetElement().length < 1;\n    };\n    MultiSelect.prototype.popupKeyActions = function (e) {\n        switch (e.keyCode) {\n            case 38:\n                this.hidePopup(e);\n                if (this.mode === 'CheckBox') {\n                    this.inputElement.focus();\n                }\n                e.preventDefault();\n                break;\n            case 40:\n                if (!this.isPopupOpen()) {\n                    this.showPopup(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    MultiSelect.prototype.updateAriaAttribute = function () {\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (!isNullOrUndefined(focusedItem)) {\n            this.inputElement.setAttribute('aria-activedescendant', focusedItem.id);\n            if (this.allowFiltering) {\n                var filterInput = this.popupWrapper.querySelector('.' + FILTERINPUT);\n                filterInput && filterInput.setAttribute('aria-activedescendant', focusedItem.id);\n            }\n            else if (this.mode == \"CheckBox\") {\n                this.overAllWrapper.setAttribute('aria-activedescendant', focusedItem.id);\n            }\n        }\n    };\n    MultiSelect.prototype.homeNavigation = function (isHome, isVirtualKeyAction) {\n        this.removeFocus();\n        if (this.enableVirtualization) {\n            if (isHome) {\n                if (this.enableVirtualization && this.viewPortInfo.startIndex !== 0) {\n                    this.viewPortInfo.startIndex = 0;\n                    this.viewPortInfo.endIndex = this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.resetList(this.dataSource, this.fields, this.query);\n                }\n            }\n            else {\n                if (this.enableVirtualization && ((!this.value && this.viewPortInfo.endIndex !== this.totalItemCount) || (this.value && this.value.length > 0 && this.viewPortInfo.endIndex !== this.totalItemCount + this.value.length))) {\n                    this.viewPortInfo.startIndex = this.totalItemCount - this.itemCount;\n                    this.viewPortInfo.endIndex = this.totalItemCount;\n                    this.updateVirtualItemIndex();\n                    var query = new Query().clone();\n                    if (this.value && this.value.length > 0) {\n                        query = this.getForQuery(this.value).clone();\n                        query = query.skip(this.totalItemCount - this.itemCount);\n                    }\n                    this.resetList(this.dataSource, this.fields, query);\n                }\n            }\n        }\n        this.UpdateSkeleton();\n        var scrollEle = this.ulElement.querySelectorAll('li.' + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        if (scrollEle.length > 0) {\n            var element = scrollEle[(isHome) ? 0 : (scrollEle.length - 1)];\n            if (this.enableVirtualization && isHome) {\n                element = scrollEle[this.skeletonCount];\n            }\n            this.removeFocus();\n            element.classList.add(dropDownBaseClasses.focus);\n            if (this.enableVirtualization && isHome) {\n                this.scrollTop(element, undefined, this.keyboardEvent.keyCode);\n            }\n            else if (!isVirtualKeyAction) {\n                this.scrollBottom(element, undefined, false, this.keyboardEvent.keyCode);\n            }\n            this.updateAriaActiveDescendant();\n        }\n    };\n    MultiSelect.prototype.updateSelectionList = function () {\n        if (!isNullOrUndefined(this.value) && this.value.length) {\n            for (var index = 0; index < this.value.length; index++) {\n                var value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) : this.value[index];\n                var selectedItem = this.getElementByValue(value);\n                if (selectedItem && !selectedItem.classList.contains(dropDownBaseClasses.selected)) {\n                    selectedItem.classList.add('e-active');\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        var activeIndex;\n        this.isKeyBoardAction = true;\n        switch (e.keyCode) {\n            case 40:\n                this.arrowDown(e, true);\n                break;\n            case 38:\n                this.arrowUp(e, true);\n                break;\n            case 33:\n                e.preventDefault();\n                if (focusedItem) {\n                    activeIndex = this.getIndexByValue(this.previousFocusItem.getAttribute('data-value')) - 1;\n                    this.pageUpSelection(activeIndex, true);\n                    this.updateAriaAttribute();\n                }\n                break;\n            case 34:\n                e.preventDefault();\n                if (focusedItem) {\n                    activeIndex = this.getIndexByValue(this.previousFocusItem.getAttribute('data-value'));\n                    this.pageDownSelection(activeIndex, true);\n                    this.updateAriaAttribute();\n                }\n                break;\n            case 35:\n            case 36:\n                this.isMouseScrollAction = true;\n                this.homeNavigation((e.keyCode === 36) ? true : false, true);\n                this.isPreventScrollAction = true;\n                break;\n        }\n        this.keyboardEvent = null;\n        this.isScrollChanged = true;\n        this.isKeyBoardAction = false;\n    };\n    MultiSelect.prototype.onKeyDown = function (e) {\n        if (this.readonly || !this.enabled && this.mode !== 'CheckBox') {\n            return;\n        }\n        this.preventSetCurrentData = false;\n        this.keyboardEvent = e;\n        if (this.isPreventKeyAction && this.enableVirtualization) {\n            e.preventDefault();\n        }\n        this.keyCode = e.keyCode;\n        this.keyDownStatus = true;\n        if (e.keyCode > 111 && e.keyCode < 124) {\n            return;\n        }\n        if (e.altKey) {\n            this.popupKeyActions(e);\n            return;\n        }\n        else if (this.isPopupOpen()) {\n            var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n            var activeIndex = void 0;\n            switch (e.keyCode) {\n                case 36:\n                case 35:\n                    this.isMouseScrollAction = true;\n                    this.isKeyBoardAction = true;\n                    this.homeNavigation((e.keyCode === 36) ? true : false);\n                    break;\n                case 33:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        activeIndex = this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageUpSelection(activeIndex - this.getPageCount() - 1);\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 34:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        activeIndex = this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageDownSelection(activeIndex + this.getPageCount());\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 38:\n                    this.isKeyBoardAction = true;\n                    this.arrowUp(e);\n                    break;\n                case 40:\n                    this.isKeyBoardAction = true;\n                    this.arrowDown(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.isKeyBoardAction = true;\n                    this.hidePopup(e);\n                    if (this.mode === 'CheckBox') {\n                        this.inputElement.focus();\n                    }\n                    return;\n                case 13:\n                    e.preventDefault();\n                    this.isKeyBoardAction = true;\n                    if (this.mode !== 'CheckBox') {\n                        this.selectByKey(e);\n                    }\n                    this.checkPlaceholderSize();\n                    return;\n                case 32:\n                    this.isKeyBoardAction = true;\n                    this.spaceKeySelection(e);\n                    return;\n                case 9:\n                    e.preventDefault();\n                    this.isKeyBoardAction = true;\n                    this.hidePopup(e);\n                    this.inputElement.focus();\n                    this.overAllWrapper.classList.add(FOCUS);\n            }\n        }\n        else {\n            switch (e.keyCode) {\n                case 13:\n                case 9:\n                case 16:\n                case 17:\n                case 20:\n                    return;\n                case 40:\n                    if (this.openOnClick) {\n                        this.showPopup();\n                    }\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.escapeAction();\n                    return;\n            }\n        }\n        if (this.checkTextLength()) {\n            this.keyNavigation(e);\n        }\n        if (this.mode === 'CheckBox' && this.enableSelectionOrder) {\n            if (this.allowFiltering) {\n                this.previousFilterText = this.targetElement();\n            }\n            this.checkBackCommand(e);\n        }\n        this.expandTextbox();\n        if (!(this.mode === 'CheckBox' && this.showSelectAll)) {\n            this.refreshPopup();\n        }\n        this.isKeyBoardAction = false;\n    };\n    MultiSelect.prototype.arrowDown = function (e, isVirtualKeyAction) {\n        e.preventDefault();\n        this.moveByList(1, isVirtualKeyAction);\n        this.keyAction = true;\n        if (document.activeElement.classList.contains(FILTERINPUT)\n            || (this.mode === 'CheckBox' && !this.allowFiltering && document.activeElement !== this.list)) {\n            EventHandler.add(this.list, 'keydown', this.onKeyDown, this);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.arrowUp = function (e, isVirtualKeyAction) {\n        e.preventDefault();\n        this.keyAction = true;\n        var list = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            list = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + ',li.' + dropDownBaseClasses.group\n                + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        }\n        var focuseElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        this.focusFirstListItem = !isNullOrUndefined(this.liCollections[0]) ? this.liCollections[0].classList.contains('e-item-focus') : false;\n        var index = Array.prototype.slice.call(list).indexOf(focuseElem);\n        if (index <= 0 && (this.mode === 'CheckBox' && this.allowFiltering)) {\n            this.keyAction = false;\n            this.notify('inputFocus', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'focus' });\n        }\n        this.moveByList(-1, isVirtualKeyAction);\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.spaceKeySelection = function (e) {\n        if (this.mode === 'CheckBox') {\n            var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n            var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n            if (!isNullOrUndefined(li) || (selectAllParent && selectAllParent.classList.contains('e-item-focus'))) {\n                e.preventDefault();\n                this.keyAction = true;\n            }\n            this.selectByKey(e);\n            if (this.keyAction) {\n                var li_1 = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n                if (!isNullOrUndefined(li_1) && selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n                    li_1.classList.remove('e-item-focus');\n                }\n            }\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.checkBackCommand = function (e) {\n        if (e.keyCode === 8 && this.allowFiltering ? this.targetElement() !== this.previousFilterText : this.targetElement() === '') {\n            this.backCommand = false;\n        }\n        else {\n            this.backCommand = true;\n        }\n    };\n    MultiSelect.prototype.keyNavigation = function (e) {\n        if ((this.mode !== 'Delimiter' && this.mode !== 'CheckBox') && this.value && this.value.length) {\n            switch (e.keyCode) {\n                case 37: //left arrow\n                    e.preventDefault();\n                    this.moveBy(-1, e);\n                    break;\n                case 39: //right arrow\n                    e.preventDefault();\n                    this.moveBy(1, e);\n                    break;\n                case 8:\n                    this.removelastSelection(e);\n                    break;\n                case 46: //del\n                    this.removeSelectedChip(e);\n                    break;\n            }\n        }\n        else if (e.keyCode === 8 && this.mode === 'Delimiter') {\n            if (this.value && this.value.length) {\n                e.preventDefault();\n                var temp = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n                this.removeValue(this.value[this.value.length - 1], e);\n                this.updateDelimeter(this.delimiterChar, e);\n                this.focusAtLastListItem(temp);\n            }\n        }\n    };\n    MultiSelect.prototype.selectByKey = function (e) {\n        this.removeChipSelection();\n        this.selectListByKey(e);\n        if (this.hideSelectedItem) {\n            this.focusAtFirstListItem();\n        }\n    };\n    MultiSelect.prototype.escapeAction = function () {\n        var temp = this.tempValues ? this.tempValues.slice() : [];\n        if (this.allowObjectBinding) {\n            temp = this.tempValues ? this.tempValues.slice() : [];\n        }\n        if (this.value && this.validateValues(this.value, temp)) {\n            if (this.mode !== 'CheckBox') {\n                this.value = temp;\n                this.initialValueUpdate();\n            }\n            if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                this.chipCollectionWrapper.style.display = '';\n            }\n            else {\n                this.showDelimWrapper();\n            }\n            this.refreshPlaceHolder();\n            if (this.value.length) {\n                this.showOverAllClear();\n            }\n            else {\n                this.hideOverAllClear();\n            }\n        }\n        this.makeTextBoxEmpty();\n    };\n    MultiSelect.prototype.scrollBottom = function (selectedLI, activeIndex, isInitialSelection, keyCode) {\n        if (isInitialSelection === void 0) { isInitialSelection = false; }\n        if (keyCode === void 0) { keyCode = null; }\n        if ((!isNullOrUndefined(selectedLI) && selectedLI.classList.contains('e-virtual-list')) || (this.enableVirtualization && isNullOrUndefined(selectedLI))) {\n            selectedLI = this.liCollections[this.skeletonCount];\n        }\n        this.isUpwardScrolling = false;\n        var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n        var lastElementValue = this.list.querySelector('li:last-of-type') ? this.list.querySelector('li:last-of-type').getAttribute('data-value') : null;\n        var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? selectedLI.offsetTop + (this.virtualListInfo.startIndex * selectedLI.offsetHeight) : selectedLI.offsetTop;\n        var currentOffset = this.list.offsetHeight;\n        var nextBottom = selectedLiOffsetTop - (virtualListCount * selectedLI.offsetHeight) + selectedLI.offsetHeight - this.list.scrollTop;\n        var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n        var isScrollerCHanged = false;\n        var isScrollTopChanged = false;\n        var boxRange = selectedLiOffsetTop - (virtualListCount * selectedLI.offsetHeight) + selectedLI.offsetHeight - this.list.scrollTop;\n        boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n            boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n        if (activeIndex === 0 && !this.enableVirtualization) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            var currentElementValue = selectedLI ? selectedLI.getAttribute('data-value') : null;\n            var liCount = keyCode == 34 ? this.getPageCount() - 1 : 1;\n            if (!this.enableVirtualization || this.isKeyBoardAction || isInitialSelection) {\n                if (this.isKeyBoardAction && this.enableVirtualization && lastElementValue && currentElementValue === lastElementValue && keyCode != 35 && !this.isVirtualScrolling) {\n                    this.isPreventKeyAction = true;\n                    this.list.scrollTop += selectedLI.offsetHeight * liCount;\n                    this.isPreventKeyAction = this.IsScrollerAtEnd() ? false : this.isPreventKeyAction;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                }\n                else if (this.enableVirtualization && keyCode == 35) {\n                    this.isPreventKeyAction = false;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                    this.list.scrollTop = this.list.scrollHeight;\n                }\n                else {\n                    if (keyCode == 34 && this.enableVirtualization && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                    }\n                    this.list.scrollTop = nextOffset;\n                }\n            }\n            else {\n                this.list.scrollTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.virtualListInfo.startIndex * this.listItemHeight : 0;\n            }\n            isScrollerCHanged = this.isKeyBoardAction;\n            isScrollTopChanged = true;\n        }\n        this.isKeyBoardAction = isScrollerCHanged;\n    };\n    MultiSelect.prototype.scrollTop = function (selectedLI, activeIndex, keyCode) {\n        if (keyCode === void 0) { keyCode = null; }\n        var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n        var selectedLiOffsetTop = (this.virtualListInfo && this.virtualListInfo.startIndex) ? selectedLI.offsetTop + (this.virtualListInfo.startIndex * selectedLI.offsetHeight) : selectedLI.offsetTop;\n        var nextOffset = selectedLiOffsetTop - (virtualListCount * selectedLI.offsetHeight) - this.list.scrollTop;\n        var firstElementValue = this.list.querySelector('li.e-list-item:not(.e-virtual-list)') ? this.list.querySelector('li.e-list-item:not(.e-virtual-list)').getAttribute('data-value') : null;\n        nextOffset = this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ?\n            nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n        var boxRange = (selectedLiOffsetTop - (virtualListCount * selectedLI.offsetHeight) + selectedLI.offsetHeight - this.list.scrollTop);\n        var isPageUpKeyAction = this.enableVirtualization && this.getModuleName() === 'autocomplete' && nextOffset <= 0;\n        if (activeIndex === 0 && !this.enableVirtualization) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextOffset < 0 || isPageUpKeyAction) {\n            var currentElementValue = selectedLI ? selectedLI.getAttribute('data-value') : null;\n            var liCount = keyCode == 33 ? this.getPageCount() - 2 : 1;\n            if (this.enableVirtualization && this.isKeyBoardAction && firstElementValue && currentElementValue === firstElementValue && keyCode != 36 && !this.isVirtualScrolling) {\n                this.isUpwardScrolling = true;\n                this.isPreventKeyAction = true;\n                this.isKeyBoardAction = false;\n                this.list.scrollTop -= selectedLI.offsetHeight * liCount;\n                this.isPreventKeyAction = this.list.scrollTop != 0 ? this.isPreventKeyAction : false;\n                this.isPreventScrollAction = false;\n            }\n            else if (this.enableVirtualization && keyCode == 36) {\n                this.isPreventScrollAction = false;\n                this.isPreventKeyAction = true;\n                this.isKeyBoardAction = false;\n                this.list.scrollTo(0, 0);\n            }\n            else {\n                if (keyCode == 33 && this.enableVirtualization && !this.isVirtualScrolling) {\n                    this.isPreventKeyAction = false;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                }\n                this.list.scrollTop = this.list.scrollTop + nextOffset;\n            }\n        }\n        else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                this.fixedHeaderElement.offsetHeight : 0);\n        }\n    };\n    MultiSelect.prototype.selectListByKey = function (e) {\n        var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        var target;\n        if (li !== null) {\n            e.preventDefault();\n            if (li.classList.contains('e-active')) {\n                limit = limit - 1;\n            }\n            if (this.isValidLI(li) && limit < this.maximumSelectionLength) {\n                this.updateListSelection(li, e);\n                this.addListFocus(li);\n                if (this.mode === 'CheckBox') {\n                    this.updateDelimView();\n                    this.updateDelimeter(this.delimiterChar, e);\n                    this.refreshInputHight();\n                    this.checkPlaceholderSize();\n                    if (this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n                        target = li.firstElementChild.lastElementChild;\n                        this.findGroupStart(target);\n                        this.deselectHeader();\n                    }\n                }\n                else {\n                    this.updateDelimeter(this.delimiterChar, e);\n                }\n                this.makeTextBoxEmpty();\n                if (this.mode !== 'CheckBox') {\n                    this.refreshListItems(li.textContent);\n                }\n                if (!this.changeOnBlur) {\n                    this.updateValueState(e, this.value, this.tempValues);\n                }\n                this.refreshPopup();\n            }\n            else {\n                if (!this.isValidLI(li) && limit < this.maximumSelectionLength) {\n                    target = li.firstElementChild.lastElementChild;\n                    if (target.classList.contains('e-check')) {\n                        this.selectAllItem(false, e, li);\n                    }\n                    else {\n                        this.selectAllItem(true, e, li);\n                    }\n                }\n            }\n            this.refreshSelection();\n            if (this.closePopupOnSelect) {\n                this.hidePopup(e);\n            }\n        }\n        var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n        if (selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n            var selectAllCheckBox = selectAllParent.childNodes[0];\n            if (!selectAllCheckBox.classList.contains('e-check')) {\n                selectAllCheckBox.classList.add('e-check');\n                var args = {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox',\n                    value: 'check',\n                    name: 'checkSelectAll'\n                };\n                this.notify('checkSelectAll', args);\n                this.selectAllItem(true, e, li);\n            }\n            else {\n                selectAllCheckBox.classList.remove('e-check');\n                var args = {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox',\n                    value: 'check',\n                    name: 'checkSelectAll'\n                };\n                this.notify('checkSelectAll', args);\n                this.selectAllItem(false, e, li);\n            }\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshListItems = function (data) {\n        if ((this.allowFiltering || (this.mode === 'CheckBox' && this.enableSelectionOrder === true)\n            || this.allowCustomValue) && this.mainList && this.listData) {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (this.enableVirtualization) {\n                if (this.allowCustomValue && this.virtualCustomData && data == null && this.virtualCustomData && this.viewPortInfo && this.viewPortInfo.startIndex === 0 && this.viewPortInfo.endIndex === this.itemCount) {\n                    this.virtualCustomData = null;\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.renderItems(this.mainData, this.fields);\n                }\n                else {\n                    this.onActionComplete(this.list, this.listData);\n                }\n            }\n            else {\n                this.onActionComplete(list, this.mainData);\n            }\n            this.focusAtLastListItem(data);\n            if (this.value && this.value.length) {\n                this.refreshSelection();\n            }\n        }\n        else if (!isNullOrUndefined(this.fields.groupBy) && this.value && this.value.length) {\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.removeSelectedChip = function (e) {\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        var temp;\n        if (selectedElem !== null) {\n            if (!isNullOrUndefined(this.value)) {\n                this.tempValues = this.allowObjectBinding ? this.value.slice() : this.value.slice();\n            }\n            temp = selectedElem.nextElementSibling;\n            if (temp !== null) {\n                this.removeChipSelection();\n                this.addChipSelection(temp, e);\n            }\n            var currentChip = this.allowObjectBinding ? this.getDataByValue(this.getFormattedValue(selectedElem.getAttribute('data-value'))) : selectedElem.getAttribute('data-value');\n            this.removeValue(currentChip, e);\n            this.makeTextBoxEmpty();\n        }\n        if (this.closePopupOnSelect) {\n            this.hidePopup(e);\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.moveByTop = function (state) {\n        var elements = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n        var index;\n        if (elements.length > 1) {\n            this.removeFocus();\n            index = state ? 0 : (elements.length - 1);\n            this.addListFocus(elements[index]);\n            this.scrollBottom(elements[index], index);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.clickHandler = function (e) {\n        var targetElement = e.target;\n        var filterInputClassName = targetElement.className;\n        var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n        if ((filterInputClassName === 'e-input-filter e-input' || filterInputClassName === 'e-input-group e-control-wrapper e-input-focus') && selectAllParent.classList.contains('e-item-focus')) {\n            selectAllParent.classList.remove('e-item-focus');\n        }\n    };\n    MultiSelect.prototype.moveByList = function (position, isVirtualKeyAction) {\n        if (this.list) {\n            var elements = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li\n                + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n            if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n                elements = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li + ',li.' + dropDownBaseClasses.group\n                    + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n            }\n            var selectedElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n            if (this.enableVirtualization && isVirtualKeyAction && !isNullOrUndefined(this.currentFocuedListElement)) {\n                selectedElem = this.getElementByValue(this.getFormattedValue(this.currentFocuedListElement.getAttribute('data-value')));\n            }\n            var temp = -1;\n            var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n            if (this.mode === 'CheckBox' && this.showSelectAll && position == 1 && !isNullOrUndefined(selectAllParent) && !selectAllParent.classList.contains('e-item-focus') && this.list.getElementsByClassName('e-item-focus').length == 0 && this.liCollections.length > 1) {\n                if (!this.focusFirstListItem && selectAllParent.classList.contains('e-item-focus')) {\n                    selectAllParent.classList.remove('e-item-focus');\n                }\n                else if (!selectAllParent.classList.contains('e-item-focus')) {\n                    selectAllParent.classList.add('e-item-focus');\n                }\n            }\n            else if (elements.length) {\n                if (this.mode === 'CheckBox' && this.showSelectAll && !isNullOrUndefined(selectAllParent && position == -1)) {\n                    if (!this.focusFirstListItem && selectAllParent.classList.contains('e-item-focus')) {\n                        selectAllParent.classList.remove('e-item-focus');\n                    }\n                    else if (this.focusFirstListItem && !selectAllParent.classList.contains('e-item-focus')) {\n                        selectAllParent.classList.add('e-item-focus');\n                    }\n                }\n                for (var index = 0; index < elements.length; index++) {\n                    if (elements[index] === selectedElem) {\n                        temp = index;\n                        break;\n                    }\n                }\n                if (position > 0) {\n                    if (temp < (elements.length - 1)) {\n                        this.removeFocus();\n                        if (this.enableVirtualization && isVirtualKeyAction) {\n                            this.addListFocus(elements[temp]);\n                        }\n                        else {\n                            if (this.enableVirtualization && elements[temp + 1].classList.contains('e-virtual-list')) {\n                                this.addListFocus(elements[this.skeletonCount]);\n                            }\n                            else {\n                                this.addListFocus(elements[++temp]);\n                            }\n                        }\n                        if (temp > -1) {\n                            this.updateCheck(elements[temp]);\n                            this.scrollBottom(elements[temp], temp);\n                            this.currentFocuedListElement = elements[temp];\n                        }\n                    }\n                }\n                else {\n                    if (temp > 0) {\n                        if (this.enableVirtualization) {\n                            var isVirtualElement = elements[temp - 1].classList.contains('e-virtual-list');\n                            var elementIndex = isVirtualKeyAction ? temp : temp - 1;\n                            if (isVirtualKeyAction || !isVirtualElement) {\n                                this.removeFocus();\n                            }\n                            if (isVirtualKeyAction || !isVirtualElement) {\n                                this.addListFocus(elements[elementIndex]);\n                                this.updateCheck(elements[elementIndex]);\n                                this.scrollTop(elements[elementIndex], temp);\n                                this.currentFocuedListElement = elements[elementIndex];\n                            }\n                        }\n                        else {\n                            this.removeFocus();\n                            this.addListFocus(elements[--temp]);\n                            this.updateCheck(elements[temp]);\n                            this.scrollTop(elements[temp], temp);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.getElementByValue = function (value) {\n        var item;\n        var listItems = this.getItems();\n        for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n            var liItem = listItems_1[_i];\n            if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n                item = liItem;\n                break;\n            }\n        }\n        return item;\n    };\n    MultiSelect.prototype.updateCheck = function (element) {\n        if (this.mode === 'CheckBox' && this.enableGroupCheckBox &&\n            !isNullOrUndefined(this.fields.groupBy)) {\n            var checkElement = element.firstElementChild.lastElementChild;\n            if (checkElement.classList.contains('e-check')) {\n                element.classList.add('e-active');\n            }\n            else {\n                element.classList.remove('e-active');\n            }\n        }\n    };\n    MultiSelect.prototype.moveBy = function (position, e) {\n        var temp;\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        if (selectedElem === null) {\n            if (position < 0) {\n                this.addChipSelection(elements[elements.length - 1], e);\n            }\n        }\n        else {\n            if (position < 0) {\n                temp = selectedElem.previousElementSibling;\n                if (temp !== null) {\n                    this.removeChipSelection();\n                    this.addChipSelection(temp, e);\n                }\n            }\n            else {\n                temp = selectedElem.nextElementSibling;\n                this.removeChipSelection();\n                if (temp !== null) {\n                    this.addChipSelection(temp, e);\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.chipClick = function (e) {\n        if (this.enabled) {\n            var elem = closest(e.target, '.' + CHIP);\n            this.removeChipSelection();\n            this.addChipSelection(elem, e);\n        }\n    };\n    MultiSelect.prototype.removeChipSelection = function () {\n        if (this.chipCollectionWrapper) {\n            this.removeChipFocus();\n        }\n    };\n    MultiSelect.prototype.addChipSelection = function (element, e) {\n        addClass([element], CHIP_SELECTED);\n        this.trigger('chipSelection', e);\n    };\n    MultiSelect.prototype.onChipRemove = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        if (this.enabled && !this.readonly) {\n            var element = e.target.parentElement;\n            var customVal = element.getAttribute('data-value');\n            var value = this.allowObjectBinding ? this.getDataByValue(this.getFormattedValue(customVal)) : this.getFormattedValue(customVal);\n            if (this.allowCustomValue && ((customVal !== 'false' && value === false) ||\n                (!isNullOrUndefined(value) && value.toString() === 'NaN'))) {\n                value = customVal;\n            }\n            if (this.isPopupOpen() && this.mode !== 'CheckBox') {\n                this.hidePopup(e);\n            }\n            if (!this.inputFocus) {\n                this.inputElement.focus();\n            }\n            this.removeValue(value, e);\n            value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n            if (isNullOrUndefined(this.findListElement(this.list, 'li', 'data-value', value)) && this.mainList && this.listData) {\n                var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                this.onActionComplete(list, this.mainData);\n            }\n            this.updateDelimeter(this.delimiterChar, e);\n            if (this.placeholder && this.floatLabelType === 'Never') {\n                this.makeTextBoxEmpty();\n                this.checkPlaceholderSize();\n            }\n            else {\n                this.inputElement.value = '';\n            }\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.makeTextBoxEmpty = function () {\n        this.inputElement.value = '';\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshPlaceHolder = function () {\n        if (this.placeholder && this.floatLabelType === 'Never') {\n            if ((this.value && this.value.length) || (!isNullOrUndefined(this.text) && this.text !== '')) {\n                this.inputElement.placeholder = '';\n            }\n            else {\n                this.inputElement.placeholder = encodePlaceholder(this.placeholder);\n            }\n        }\n        else {\n            this.setFloatLabelType();\n        }\n        this.expandTextbox();\n    };\n    MultiSelect.prototype.removeAllItems = function (value, eve, isClearAll, element, mainElement) {\n        var index = this.allowObjectBinding ? this.indexOfObjectInArray(value, this.value) : this.value.indexOf(value);\n        var removeVal = this.value.slice(0);\n        removeVal.splice(index, 1);\n        this.setProperties({ value: [].concat([], removeVal) }, true);\n        element.setAttribute('aria-selected', 'false');\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        removeClass([element], className);\n        this.notify('activeList', {\n            module: 'CheckBoxSelection',\n            enable: this.mode === 'CheckBox', li: element,\n            e: this, index: index\n        });\n        this.invokeCheckboxSelection(element, eve, isClearAll);\n        var currentValue = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), value) : value;\n        this.updateMainList(true, currentValue, mainElement);\n        this.updateChipStatus();\n    };\n    MultiSelect.prototype.invokeCheckboxSelection = function (element, eve, isClearAll) {\n        this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: eve });\n        this.updateAriaActiveDescendant();\n        if ((this.value && this.value.length !== this.mainData.length)\n            && (this.mode === 'CheckBox' && this.showSelectAll && !(this.isSelectAll || isClearAll))) {\n            this.notify('checkSelectAll', {\n                module: 'CheckBoxSelection',\n                enable: this.mode === 'CheckBox',\n                value: 'uncheck'\n            });\n        }\n    };\n    MultiSelect.prototype.removeValue = function (value, eve, length, isClearAll) {\n        var _this = this;\n        var index = this.allowObjectBinding ? this.indexOfObjectInArray(value, this.value) : this.value.indexOf(this.getFormattedValue(value));\n        if (index === -1 && this.allowCustomValue && !isNullOrUndefined(value)) {\n            index = this.allowObjectBinding ? this.indexOfObjectInArray(value, this.value) : this.value.indexOf(value.toString());\n        }\n        var targetEle = eve && eve.target;\n        isClearAll = (isClearAll || targetEle && targetEle.classList.contains('e-close-hooker')) ? true : null;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (index !== -1) {\n            var currentValue = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), value) : value;\n            var element_1 = this.virtualSelectAll ? null : this.findListElement(this.list, 'li', 'data-value', currentValue);\n            var val_1 = this.allowObjectBinding ? value : this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element_1,\n                itemData: val_1,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('removing', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    _this.removeIndex++;\n                }\n                else {\n                    _this.virtualSelectAll = false;\n                    var removeVal = _this.value.slice(0);\n                    if (_this.enableVirtualization && isClearAll) {\n                        removeVal = [];\n                    }\n                    removeVal.splice(index, 1);\n                    if (_this.enableVirtualization && _this.mode === 'CheckBox') {\n                        _this.selectedListData.splice(index, 1);\n                    }\n                    _this.setProperties({ value: [].concat([], removeVal) }, true);\n                    if (_this.enableVirtualization) {\n                        var currentText = index == 0 ? _this.text.replace(_this.text.split(_this.delimiterChar)[index] + _this.delimiterChar, '') : _this.text.replace(_this.delimiterChar + _this.text.split(_this.delimiterChar)[index], '');\n                        _this.setProperties({ text: currentText.toString() }, true);\n                    }\n                    if (element_1 !== null) {\n                        var currentValue_1 = _this.allowObjectBinding ? getValue(((_this.fields.value) ? _this.fields.value : ''), value) : value;\n                        var hideElement = _this.findListElement(_this.mainList, 'li', 'data-value', currentValue_1);\n                        element_1.setAttribute('aria-selected', 'false');\n                        removeClass([element_1], className);\n                        if (hideElement) {\n                            hideElement.setAttribute('aria-selected', 'false');\n                            removeClass([element_1, hideElement], className);\n                        }\n                        _this.notify('activeList', {\n                            module: 'CheckBoxSelection',\n                            enable: _this.mode === 'CheckBox', li: element_1,\n                            e: _this, index: index\n                        });\n                        _this.invokeCheckboxSelection(element_1, eve, isClearAll);\n                    }\n                    var currentValue_2 = _this.allowObjectBinding ? getValue(((_this.fields.value) ? _this.fields.value : ''), value) : value;\n                    if (_this.hideSelectedItem && _this.fields.groupBy && element_1) {\n                        _this.hideGroupItem(currentValue_2);\n                    }\n                    if (_this.hideSelectedItem && _this.fixedHeaderElement && _this.fields.groupBy && _this.mode !== 'CheckBox' &&\n                        _this.isPopupOpen()) {\n                        _super.prototype.scrollStop.call(_this);\n                    }\n                    _this.updateMainList(true, currentValue_2);\n                    _this.removeChip(currentValue_2, isClearAll);\n                    _this.updateChipStatus();\n                    var limit = _this.value && _this.value.length ? _this.value.length : 0;\n                    if (limit < _this.maximumSelectionLength) {\n                        var collection = _this.list.querySelectorAll('li.'\n                            + dropDownBaseClasses.li + ':not(.e-active)');\n                        removeClass(collection, 'e-disable');\n                    }\n                    _this.trigger('removed', eventArgs);\n                    var targetEle_1 = eve && eve.currentTarget;\n                    var isSelectAll = (targetEle_1 && targetEle_1.classList.contains('e-selectall-parent')) ? true : null;\n                    if (!_this.changeOnBlur && !isClearAll && (eve && length && !isSelectAll && _this.isSelectAllTarget)) {\n                        _this.updateValueState(eve, _this.value, _this.tempValues);\n                    }\n                    if (length) {\n                        _this.selectAllEventData.push(val_1);\n                        _this.selectAllEventEle.push(element_1);\n                    }\n                    if (length === 1) {\n                        if (!_this.changeOnBlur) {\n                            _this.updateValueState(eve, _this.value, _this.tempValues);\n                        }\n                        var args = {\n                            event: eve,\n                            items: _this.selectAllEventEle,\n                            itemData: _this.selectAllEventData,\n                            isInteracted: eve ? true : false,\n                            isChecked: false\n                        };\n                        _this.trigger('selectedAll', args);\n                        _this.selectAllEventData = [];\n                        _this.selectAllEventEle = [];\n                    }\n                    if (isClearAll && (length === 1 || length === null)) {\n                        _this.clearAllCallback(eve, isClearAll);\n                    }\n                    if (_this.isPopupOpen() && element_1 && element_1.parentElement.classList.contains('e-reorder')) {\n                        if (_this.hideSelectedItem && _this.value && Array.isArray(_this.value) && _this.value.length > 0) {\n                            _this.totalItemsCount();\n                        }\n                        _this.notify(\"setCurrentViewDataAsync\", {\n                            module: \"VirtualScroll\",\n                        });\n                    }\n                }\n            });\n        }\n    };\n    MultiSelect.prototype.updateMainList = function (state, value, mainElement) {\n        if (this.allowFiltering || this.mode === 'CheckBox') {\n            var element2 = mainElement ? mainElement :\n                this.findListElement(this.mainList, 'li', 'data-value', value);\n            if (element2) {\n                if (state) {\n                    element2.setAttribute('aria-selected', 'false');\n                    removeClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        removeClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n                else {\n                    element2.setAttribute('aria-selected', 'true');\n                    addClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        addClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.removeChip = function (value, isClearAll) {\n        if (this.chipCollectionWrapper) {\n            if (this.enableVirtualization && isClearAll) {\n                var childElements = this.chipCollectionWrapper.querySelectorAll('.e-chips');\n            }\n            else {\n                var element = this.findListElement(this.chipCollectionWrapper, 'span', 'data-value', value);\n                if (element) {\n                    remove(element);\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.setWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.overAllWrapper.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.overAllWrapper.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    MultiSelect.prototype.updateChipStatus = function () {\n        if (this.value && this.value.length) {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                (this.chipCollectionWrapper.style.display = '');\n            }\n            if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                this.showDelimWrapper();\n            }\n            this.showOverAllClear();\n        }\n        else {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                this.chipCollectionWrapper.style.display = 'none';\n            }\n            if (!isNullOrUndefined(this.delimiterWrapper)) {\n                (this.delimiterWrapper.style.display = 'none');\n            }\n            this.hideOverAllClear();\n        }\n    };\n    MultiSelect.prototype.indexOfObjectInArray = function (objectToFind, array) {\n        var _loop_1 = function (i) {\n            var item = array[i];\n            if (Object.keys(objectToFind).every(function (key) { return item.hasOwnProperty(key) && item[key] === objectToFind[key]; })) {\n                return { value: i };\n            }\n        };\n        for (var i = 0; i < array.length; i++) {\n            var state_1 = _loop_1(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return -1; // Return -1 if the object is not found\n    };\n    MultiSelect.prototype.addValue = function (value, text, eve) {\n        if (!this.value) {\n            this.value = [];\n        }\n        var currentValue = this.allowObjectBinding ? this.getDataByValue(value) : value;\n        if ((this.allowObjectBinding && !this.isObjectInArray(this.getDataByValue(value), this.value)) || (!this.allowObjectBinding && this.value.indexOf(currentValue) < 0)) {\n            this.setProperties({ value: [].concat([], this.value, [currentValue]) }, true);\n            if (this.enableVirtualization && !this.isSelectAllLoop) {\n                var data = this.viewWrapper.innerHTML;\n                var temp = void 0;\n                data += (this.value.length === 1) ? '' : this.delimiterChar + ' ';\n                temp = this.getOverflowVal(this.value.length - 1);\n                data += temp;\n                temp = this.viewWrapper.innerHTML;\n                this.updateWrapperText(this.viewWrapper, data);\n            }\n            if (this.enableVirtualization && this.mode === 'CheckBox') {\n                var temp = void 0;\n                var currentText = [];\n                var value_1 = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n                temp = this.getTextByValue(value_1);\n                var textValues = this.text != null && this.text != \"\" ? this.text + ',' + temp : temp;\n                currentText.push(textValues);\n                this.setProperties({ text: currentText.toString() }, true);\n            }\n        }\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.removeFocus();\n        if (element) {\n            this.addListFocus(element);\n            this.addListSelection(element);\n        }\n        if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.addChip(text, value, eve);\n        }\n        if (this.hideSelectedItem && this.fields.groupBy) {\n            this.hideGroupItem(value);\n        }\n        this.updateChipStatus();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.checkMaxSelection = function () {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        if (limit === this.maximumSelectionLength) {\n            var collection = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + ':not(.e-active)');\n            addClass(collection, 'e-disable');\n        }\n    };\n    MultiSelect.prototype.dispatchSelect = function (value, eve, element, isNotTrigger, length) {\n        var _this = this;\n        var list = this.listData;\n        if (this.initStatus && !isNotTrigger) {\n            value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), value) : value;\n            var val_2 = this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element,\n                itemData: val_2,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (length) {\n                        _this.selectAllEventData.push(val_2);\n                        _this.selectAllEventEle.push(element);\n                    }\n                    if (length === 1) {\n                        var args = {\n                            event: eve,\n                            items: _this.selectAllEventEle,\n                            itemData: _this.selectAllEventData,\n                            isInteracted: eve ? true : false,\n                            isChecked: true\n                        };\n                        _this.trigger('selectedAll', args);\n                        _this.selectAllEventData = [];\n                    }\n                    if (_this.allowCustomValue && _this.isServerRendered && _this.listData !== list) {\n                        _this.listData = list;\n                    }\n                    value = _this.allowObjectBinding ? _this.getDataByValue(value) : value;\n                    if (_this.enableVirtualization) {\n                        if (isNullOrUndefined(_this.selectedListData)) {\n                            _this.selectedListData = [(_this.getDataByValue(value))];\n                        }\n                        else {\n                            if (Array.isArray(_this.selectedListData)) {\n                                _this.selectedListData.push((_this.getDataByValue(value)));\n                            }\n                            else {\n                                _this.selectedListData = [_this.selectedListData, (_this.getDataByValue(value))];\n                            }\n                        }\n                    }\n                    if ((_this.enableVirtualization && value) || !_this.enableVirtualization) {\n                        _this.updateListSelectEventCallback(value, element, eve);\n                    }\n                    if (_this.hideSelectedItem && _this.fixedHeaderElement && _this.fields.groupBy && _this.mode !== 'CheckBox') {\n                        _super.prototype.scrollStop.call(_this);\n                    }\n                }\n            });\n        }\n    };\n    MultiSelect.prototype.addChip = function (text, value, e) {\n        if (this.chipCollectionWrapper) {\n            this.getChip(text, value, e);\n        }\n    };\n    MultiSelect.prototype.removeChipFocus = function () {\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP + '.' + CHIP_SELECTED);\n        removeClass(elements, CHIP_SELECTED);\n        if (Browser.isDevice) {\n            var closeElements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP_CLOSE.split(' ')[0]);\n            for (var index = 0; index < closeElements.length; index++) {\n                closeElements[index].style.display = 'none';\n            }\n        }\n    };\n    MultiSelect.prototype.onMobileChipInteraction = function (e) {\n        var chipElem = closest(e.target, '.' + CHIP);\n        var chipClose = chipElem.querySelector('span.' + CHIP_CLOSE.split(' ')[0]);\n        if (this.enabled && !this.readonly) {\n            if (!chipElem.classList.contains(CHIP_SELECTED)) {\n                this.removeChipFocus();\n                chipClose.style.display = '';\n                chipElem.classList.add(CHIP_SELECTED);\n            }\n            this.refreshPopup();\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.multiCompiler = function (multiselectTemplate) {\n        var checkTemplate = false;\n        if (typeof multiselectTemplate !== 'function' && multiselectTemplate) {\n            try {\n                checkTemplate = (selectAll(multiselectTemplate, document).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    MultiSelect.prototype.encodeHtmlEntities = function (input) {\n        return input.replace(/[\\u00A0-\\u9999<>&]/g, function (match) {\n            return \"&#\" + match.charCodeAt(0) + \";\";\n        });\n    };\n    MultiSelect.prototype.getChip = function (data, value, e) {\n        var _this = this;\n        var itemData = { text: value, value: value };\n        var chip = this.createElement('span', {\n            className: CHIP,\n            attrs: { 'data-value': value, 'title': data }\n        });\n        var compiledString;\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE });\n        if (this.mainData) {\n            itemData = this.getDataByValue(value);\n        }\n        if (this.valueTemplate && !isNullOrUndefined(itemData)) {\n            var valuecheck = this.multiCompiler(this.valueTemplate);\n            if (typeof this.valueTemplate !== 'function' && valuecheck) {\n                compiledString = compile(select(this.valueTemplate, document).innerHTML.trim());\n            }\n            else {\n                compiledString = compile(this.valueTemplate);\n            }\n            // eslint-disable-next-line\n            var valueCompTemp = compiledString(itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, chipContent);\n            if (valueCompTemp && valueCompTemp.length > 0) {\n                append(valueCompTemp, chipContent);\n            }\n            this.renderReactTemplates();\n        }\n        else if (this.enableHtmlSanitizer) {\n            chipContent.innerText = data;\n        }\n        else {\n            chipContent.innerHTML = this.encodeHtmlEntities(data.toString());\n        }\n        chip.appendChild(chipContent);\n        var eventArgs = {\n            isInteracted: e ? true : false,\n            itemData: itemData,\n            e: e,\n            setClass: function (classes) {\n                addClass([chip], classes);\n            },\n            cancel: false\n        };\n        this.isPreventChange = this.isAngular && this.preventChange;\n        this.trigger('tagging', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                if (Browser.isDevice) {\n                    chip.classList.add(MOBILE_CHIP);\n                    append([chipClose], chip);\n                    chipClose.style.display = 'none';\n                    EventHandler.add(chip, 'click', _this.onMobileChipInteraction, _this);\n                }\n                else {\n                    EventHandler.add(chip, 'mousedown', _this.chipClick, _this);\n                    if (_this.showClearButton) {\n                        chip.appendChild(chipClose);\n                    }\n                }\n                EventHandler.add(chipClose, 'mousedown', _this.onChipRemove, _this);\n                _this.chipCollectionWrapper.appendChild(chip);\n                if (!_this.changeOnBlur && e) {\n                    _this.updateValueState(e, _this.value, _this.tempValues);\n                }\n            }\n        });\n    };\n    MultiSelect.prototype.calcPopupWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = (this.componentWrapper.offsetWidth) * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    MultiSelect.prototype.mouseIn = function () {\n        if (this.enabled && !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    MultiSelect.prototype.mouseOut = function () {\n        if (!this.inputFocus) {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldProperty = isNullOrUndefined(fields.properties) ? fields :\n            fields.properties;\n        this.listCurrentOptions = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldProperty, showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        extend(this.listCurrentOptions, this.listCurrentOptions, fields, true);\n        if (this.mode === 'CheckBox') {\n            this.notify('listoption', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', dataSource: dataSource, fieldProperty: fieldProperty });\n        }\n        return this.listCurrentOptions;\n    };\n    MultiSelect.prototype.renderPopup = function () {\n        var _this = this;\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        if (!this.popupObj) {\n            if (!isNullOrUndefined(this.popupWrapper)) {\n                document.body.appendChild(this.popupWrapper);\n                var checkboxFilter = this.popupWrapper.querySelector('.' + FILTERPARENT);\n                if (this.mode === 'CheckBox' && !this.allowFiltering && checkboxFilter && this.filterParent) {\n                    checkboxFilter.remove();\n                    this.filterParent = null;\n                }\n                var overAllHeight = parseInt(this.popupHeight, 10);\n                this.popupWrapper.style.visibility = 'hidden';\n                if (this.headerTemplate) {\n                    this.setHeaderTemplate();\n                    overAllHeight -= this.header.offsetHeight;\n                }\n                append([this.list], this.popupWrapper);\n                if (!this.list.classList.contains(dropDownBaseClasses.noData) && this.getItems()[1]) {\n                    this.listItemHeight = this.getItems()[1].offsetHeight;\n                }\n                if (this.enableVirtualization && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    if (!this.list.querySelector('.e-virtual-ddl-content') && this.list.querySelector('.e-list-parent')) {\n                        this.list.appendChild(this.createElement('div', {\n                            className: 'e-virtual-ddl-content',\n                            styles: this.getTransformValues()\n                        })).appendChild(this.list.querySelector('.e-list-parent'));\n                    }\n                    else if (this.list.querySelector('.e-virtual-ddl-content')) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    }\n                    this.UpdateSkeleton();\n                    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    this.virtualItemCount = this.itemCount;\n                    if (this.mode !== 'CheckBox') {\n                        this.totalItemsCount();\n                    }\n                    if (!this.list.querySelector('.e-virtual-ddl')) {\n                        var virualElement = this.createElement('div', {\n                            id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                        });\n                        this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n                    }\n                }\n                if (this.footerTemplate) {\n                    this.setFooterTemplate();\n                    overAllHeight -= this.footer.offsetHeight;\n                }\n                if (this.mode === 'CheckBox' && this.showSelectAll) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight -= this.selectAllHeight;\n                }\n                else if (this.mode === 'CheckBox' && !this.showSelectAll && (!this.headerTemplate && !this.footerTemplate)) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight = parseInt(this.popupHeight, 10);\n                }\n                else if (this.mode === 'CheckBox' && !this.showSelectAll) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight = parseInt(this.popupHeight, 10);\n                    if (this.headerTemplate && this.header) {\n                        overAllHeight -= this.header.offsetHeight;\n                    }\n                    if (this.footerTemplate && this.footer) {\n                        overAllHeight -= this.footer.offsetHeight;\n                    }\n                }\n                if (this.mode === 'CheckBox') {\n                    var args = {\n                        module: 'CheckBoxSelection',\n                        enable: this.mode === 'CheckBox',\n                        popupElement: this.popupWrapper\n                    };\n                    if (this.allowFiltering) {\n                        this.notify('searchBox', args);\n                        overAllHeight -= this.searchBoxHeight;\n                    }\n                    addClass([this.popupWrapper], 'e-checkbox');\n                }\n                if (this.popupHeight !== 'auto') {\n                    this.list.style.maxHeight = formatUnit(overAllHeight);\n                    this.popupWrapper.style.maxHeight = formatUnit(this.popupHeight);\n                }\n                else {\n                    this.list.style.maxHeight = formatUnit(this.popupHeight);\n                }\n                this.popupObj = new Popup(this.popupWrapper, {\n                    width: this.calcPopupWidth(), targetType: 'relative',\n                    position: this.enableRtl ? { X: 'right', Y: 'bottom' } : { X: 'left', Y: 'bottom' },\n                    relateTo: this.overAllWrapper,\n                    collision: this.enableRtl ? { X: 'fit', Y: 'flip' } : { X: 'flip', Y: 'flip' }, offsetY: 1,\n                    enableRtl: this.enableRtl, zIndex: this.zIndex,\n                    close: function () {\n                        if (_this.popupObj.element.parentElement) {\n                            _this.popupObj.unwireScrollEvents();\n                            // For restrict the page scrolling in safari browser\n                            var checkboxFilterInput = _this.popupWrapper.querySelector('.' + FILTERINPUT);\n                            if (_this.mode === 'CheckBox' && checkboxFilterInput && document.activeElement === checkboxFilterInput) {\n                                checkboxFilterInput.blur();\n                            }\n                            detach(_this.popupObj.element);\n                        }\n                    },\n                    open: function () {\n                        _this.popupObj.resolveCollision();\n                        if (!_this.isFirstClick) {\n                            var ulElement = _this.list.querySelector('ul');\n                            if (ulElement) {\n                                if (!(_this.mode !== 'CheckBox' && (_this.allowFiltering || _this.allowCustomValue) &&\n                                    _this.targetElement().trim() !== '')) {\n                                    _this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                                }\n                            }\n                            _this.isFirstClick = true;\n                        }\n                        _this.popupObj.wireScrollEvents();\n                        if (!(_this.mode !== 'CheckBox' && (_this.allowFiltering || _this.allowCustomValue) &&\n                            _this.targetElement().trim() !== '') && !_this.enableVirtualization) {\n                            _this.loadTemplate();\n                            if (_this.enableVirtualization && _this.mode === 'CheckBox') {\n                                _this.UpdateSkeleton();\n                            }\n                        }\n                        _this.isPreventScrollAction = true;\n                        _this.setScrollPosition();\n                        if (!_this.list.classList.contains(dropDownBaseClasses.noData) && _this.getItems()[1] && _this.getItems()[1].offsetHeight !== 0) {\n                            _this.listItemHeight = _this.getItems()[1].offsetHeight;\n                            if (_this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n                                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                _this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = _this.getTransformValues();\n                            }\n                        }\n                        if (_this.allowFiltering) {\n                            _this.notify('inputFocus', {\n                                module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', value: 'focus'\n                            });\n                        }\n                        if (_this.enableVirtualization) {\n                            _this.notify(\"bindScrollEvent\", {\n                                module: \"VirtualScroll\",\n                                component: _this.getModuleName(),\n                                enable: _this.enableVirtualization,\n                            });\n                            setTimeout(function () {\n                                if (_this.value) {\n                                    _this.updateSelectionList();\n                                }\n                                else if (_this.viewPortInfo && _this.viewPortInfo.offsets.top) {\n                                    _this.list.scrollTop = _this.viewPortInfo.offsets.top;\n                                }\n                            }, 5);\n                        }\n                    }, targetExitViewport: function () {\n                        if (!Browser.isDevice) {\n                            _this.hidePopup();\n                        }\n                    }\n                });\n                this.checkCollision(this.popupWrapper);\n                this.popupContentElement = this.popupObj.element.querySelector('.e-content');\n                if (this.mode === 'CheckBox' && Browser.isDevice && this.allowFiltering) {\n                    this.notify('deviceSearchBox', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                }\n                this.popupObj.close();\n                this.popupWrapper.style.visibility = '';\n            }\n        }\n    };\n    MultiSelect.prototype.checkCollision = function (popupEle) {\n        if (!(this.mode === 'CheckBox' && Browser.isDevice && this.allowFiltering)) {\n            var collision = isCollide(popupEle);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    MultiSelect.prototype.setHeaderTemplate = function () {\n        var compiledString;\n        if (this.header) {\n            this.header.remove();\n        }\n        this.header = this.createElement('div');\n        addClass([this.header], HEADER);\n        var headercheck = this.multiCompiler(this.headerTemplate);\n        if (typeof this.headerTemplate !== 'function' && headercheck) {\n            compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.headerTemplate);\n        }\n        // eslint-disable-next-line\n        var elements = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n        if (elements && elements.length > 0) {\n            append(elements, this.header);\n        }\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            prepend([this.header], this.popupWrapper);\n        }\n        else {\n            append([this.header], this.popupWrapper);\n        }\n        EventHandler.add(this.header, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.setFooterTemplate = function () {\n        var compiledString;\n        if (this.footer) {\n            this.footer.remove();\n        }\n        this.footer = this.createElement('div');\n        addClass([this.footer], FOOTER);\n        var footercheck = this.multiCompiler(this.footerTemplate);\n        if (typeof this.footerTemplate !== 'function' && footercheck) {\n            compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.footerTemplate);\n        }\n        // eslint-disable-next-line\n        var elements = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n        if (elements && elements.length > 0) {\n            append(elements, this.footer);\n        }\n        append([this.footer], this.popupWrapper);\n        EventHandler.add(this.footer, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.updateInitialData = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var currentData = this.selectData;\n        var ulElement = this.renderItems(currentData, this.fields);\n        this.list.scrollTop = 0;\n        this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount,\n        };\n        this.previousStartIndex = 0;\n        this.previousEndIndex = 0;\n        if (this.dataSource instanceof DataManager) {\n            if (this.remoteDataCount >= 0) {\n                this.totalItemCount = this.dataCount = this.remoteDataCount;\n            }\n            else {\n                this.resetList(this.dataSource);\n            }\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.mode !== 'CheckBox') {\n            this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n        }\n        this.getSkeletonCount();\n        this.UpdateSkeleton();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n        }\n        else if (!this.list.querySelector('.e-virtual-ddl') && this.skeletonCount > 0) {\n            var virualElement = this.createElement('div', {\n                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n            });\n            this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n        }\n        this.listData = currentData;\n        this.liCollections = this.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n    };\n    MultiSelect.prototype.clearAll = function (e) {\n        if (this.enabled && !this.readonly) {\n            var temp = void 0;\n            if (this.value && this.value.length > 0) {\n                var liElement = this.list && this.list.querySelectorAll('li.e-list-item');\n                if (liElement && liElement.length > 0) {\n                    this.selectAllItems(false, e);\n                }\n                else {\n                    this.removeIndex = 0;\n                    for (temp = this.value[this.removeIndex]; this.removeIndex < this.value.length; temp = this.value[this.removeIndex]) {\n                        this.removeValue(temp, e, null, true);\n                    }\n                }\n                this.selectedElementID = null;\n                this.inputElement.removeAttribute('aria-activedescendant');\n            }\n            else {\n                this.clearAllCallback(e);\n            }\n            this.checkAndResetCache();\n            if (this.enableVirtualization) {\n                this.updateInitialData();\n                if (this.chipCollectionWrapper) {\n                    this.chipCollectionWrapper.innerHTML = '';\n                }\n                if (!this.isCustomDataUpdated) {\n                    this.notify(\"setGeneratedData\", {\n                        module: \"VirtualScroll\",\n                    });\n                }\n            }\n            if (this.enableVirtualization) {\n                this.list.scrollTop = 0;\n                this.virtualListInfo = null;\n                this.previousStartIndex = 0;\n                this.previousEndIndex = 0;\n            }\n        }\n    };\n    MultiSelect.prototype.clearAllCallback = function (e, isClearAll) {\n        var tempValues = this.value ? this.value.slice() : [];\n        if (this.mainList && this.listData && ((this.allowFiltering && this.mode !== 'CheckBox') || this.allowCustomValue)) {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            this.onActionComplete(list, this.mainData);\n        }\n        this.focusAtFirstListItem();\n        this.updateDelimeter(this.delimiterChar, e);\n        if (this.mode !== 'Box' && (!this.inputFocus || this.mode === 'CheckBox')) {\n            this.updateDelimView();\n        }\n        if (this.inputElement.value !== '') {\n            this.makeTextBoxEmpty();\n            this.search(null);\n        }\n        this.checkPlaceholderSize();\n        if (this.isPopupOpen()) {\n            this.refreshPopup();\n        }\n        if (!this.inputFocus) {\n            if (this.changeOnBlur) {\n                this.updateValueState(e, this.value, tempValues);\n            }\n            if (this.mode !== 'CheckBox') {\n                this.inputElement.focus();\n            }\n        }\n        if (this.mode === 'CheckBox') {\n            this.refreshPlaceHolder();\n            this.refreshInputHight();\n            if (this.changeOnBlur && isClearAll && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n                this.updateValueState(e, this.value, this.tempValues);\n            }\n        }\n        if (!this.changeOnBlur && isClearAll && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n            this.updateValueState(e, this.value, this.tempValues);\n        }\n        if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n            this.updateListItems(this.list.querySelectorAll('li.e-list-item'), this.mainList.querySelectorAll('li.e-list-item'));\n        }\n        e.preventDefault();\n    };\n    MultiSelect.prototype.windowResize = function () {\n        this.refreshPopup();\n        if ((!this.inputFocus || this.mode === 'CheckBox') && this.viewWrapper && this.viewWrapper.parentElement) {\n            this.updateDelimView();\n        }\n    };\n    MultiSelect.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            var textVal = (this.element.tagName === this.getNgDirective()) ?\n                null : this.element.getAttribute('data-initial-value');\n            this.text = textVal;\n        }\n    };\n    MultiSelect.prototype.wireEvent = function () {\n        EventHandler.add(this.componentWrapper, 'mousedown', this.wrapperClick, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusInHandler, this);\n        EventHandler.add(this.inputElement, 'keydown', this.onKeyDown, this);\n        EventHandler.add(this.inputElement, 'keyup', this.keyUp, this);\n        if (this.mode !== 'CheckBox') {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n        }\n        EventHandler.add(this.inputElement, 'blur', this.onBlurHandler, this);\n        EventHandler.add(this.componentWrapper, 'mouseover', this.mouseIn, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        EventHandler.add(this.componentWrapper, 'mouseout', this.mouseOut, this);\n        EventHandler.add(this.overAllClear, 'mousedown', this.clearAll, this);\n        EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n    };\n    MultiSelect.prototype.onInput = function (e) {\n        if (this.keyDownStatus) {\n            this.isValidKey = true;\n        }\n        else {\n            this.isValidKey = false;\n        }\n        this.keyDownStatus = false;\n        // For Filtering works in mobile firefox\n        if (Browser.isDevice && Browser.info.name === 'mozilla') {\n            this.search(e);\n        }\n    };\n    MultiSelect.prototype.pasteHandler = function (event) {\n        var _this = this;\n        setTimeout(function () {\n            _this.expandTextbox();\n            _this.search(event);\n        });\n    };\n    MultiSelect.prototype.search = function (e) {\n        var _this = this;\n        this.resetFilteredData = true;\n        this.preventSetCurrentData = false;\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        if (!isNullOrUndefined(e)) {\n            this.keyCode = e.keyCode;\n        }\n        if (!this.isPopupOpen() && this.openOnClick) {\n            this.showPopup(e);\n        }\n        this.openClick(e);\n        if (this.checkTextLength() && !this.allowFiltering && !isNullOrUndefined(e) && (e.keyCode !== 8)) {\n            this.focusAtFirstListItem();\n        }\n        else {\n            var text = this.targetElement();\n            if (this.allowFiltering) {\n                if (this.allowCustomValue) {\n                    this.isRemoteSelection = true;\n                }\n                this.checkAndResetCache();\n                var eventArgs_1 = {\n                    preventDefaultAction: false,\n                    text: this.targetElement(),\n                    updateData: function (dataSource, query, fields) {\n                        if (eventArgs_1.cancel) {\n                            return;\n                        }\n                        _this.isFiltered = true;\n                        _this.customFilterQuery = query;\n                        _this.remoteFilterAction = true;\n                        _this.dataUpdater(dataSource, query, fields);\n                    },\n                    event: e,\n                    cancel: false\n                };\n                this.trigger('filtering', eventArgs_1, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        if (!_this.isFiltered && !eventArgs.preventDefaultAction) {\n                            _this.filterAction = true;\n                            if (_this.dataSource instanceof DataManager && _this.allowCustomValue) {\n                                _this.isCustomRendered = false;\n                            }\n                            _this.dataUpdater(_this.dataSource, null, _this.fields);\n                        }\n                    }\n                });\n            }\n            else if (this.allowCustomValue) {\n                var query = new Query();\n                query = this.allowFiltering && (text !== '') ? query.where(this.fields.text, 'startswith', text, this.ignoreCase, this.ignoreAccent) : query;\n                if (this.enableVirtualization) {\n                    this.dataUpdater(this.dataSource, query, this.fields);\n                }\n                else {\n                    this.dataUpdater(this.mainData, query, this.fields);\n                }\n                this.UpdateSkeleton();\n            }\n            else {\n                var liCollections = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-hide-listitem)');\n                var type = this.typeOfData(this.listData).typeof;\n                var activeElement = Search(this.targetElement(), liCollections, 'StartsWith', this.ignoreCase);\n                if (this.enableVirtualization && this.targetElement().trim() !== '' && !this.allowFiltering) {\n                    var updatingincrementalindex = false;\n                    if ((this.viewPortInfo.endIndex >= this.incrementalEndIndex && this.incrementalEndIndex <= this.totalItemCount) || this.incrementalEndIndex == 0) {\n                        updatingincrementalindex = true;\n                        this.incrementalStartIndex = 0;\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                        this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                        updatingincrementalindex = false;\n                    }\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    activeElement = Search(this.targetElement(), this.incrementalLiCollections, this.filterType, true, this.listData, this.fields, type);\n                    while (isNullOrUndefined(activeElement) && this.incrementalEndIndex < this.totalItemCount) {\n                        this.incrementalStartIndex = this.incrementalEndIndex;\n                        this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100;\n                        this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                        updatingincrementalindex = true;\n                        if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                            this.updateIncrementalView(0, this.itemCount);\n                        }\n                        activeElement = Search(this.targetElement(), this.incrementalLiCollections, this.filterType, true, this.listData, this.fields, type);\n                        if (!isNullOrUndefined(activeElement)) {\n                            break;\n                        }\n                        if (isNullOrUndefined(activeElement) && this.incrementalEndIndex >= this.totalItemCount) {\n                            this.incrementalStartIndex = 0;\n                            this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                            break;\n                        }\n                    }\n                    if (activeElement.index) {\n                        if ((!(this.viewPortInfo.startIndex >= activeElement.index)) || (!(activeElement.index >= this.viewPortInfo.endIndex))) {\n                            var startIndex = activeElement.index - ((this.itemCount / 2) - 2) > 0 ? activeElement.index - ((this.itemCount / 2) - 2) : 0;\n                            var endIndex = startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : startIndex + this.itemCount;\n                            if (startIndex != this.viewPortInfo.startIndex) {\n                                this.updateIncrementalView(startIndex, endIndex);\n                            }\n                        }\n                    }\n                    if (!isNullOrUndefined(activeElement.item)) {\n                        var index_1 = this.getIndexByValue(activeElement.item.getAttribute('data-value')) - this.skeletonCount;\n                        if (index_1 > this.itemCount / 2) {\n                            var startIndex = this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) < this.totalItemCount ? this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) : this.totalItemCount;\n                            var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                            this.updateIncrementalView(startIndex, endIndex);\n                        }\n                        activeElement.item = this.getElementByValue(activeElement.item.getAttribute('data-value'));\n                    }\n                    else {\n                        this.updateIncrementalView(0, this.itemCount);\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                        this.list.scrollTop = 0;\n                    }\n                    if (activeElement && activeElement.item) {\n                        activeElement.item = this.getElementByValue(activeElement.item.getAttribute('data-value'));\n                    }\n                }\n                if (activeElement && activeElement.item) {\n                    this.addListFocus(activeElement.item);\n                    this.list.scrollTop =\n                        activeElement.item.offsetHeight * activeElement.index;\n                }\n                else if (this.targetElement() !== '') {\n                    this.removeFocus();\n                }\n                else {\n                    this.focusAtFirstListItem();\n                }\n            }\n        }\n        if (this.enableVirtualization && this.allowFiltering) {\n            this.getFilteringSkeletonCount();\n        }\n    };\n    MultiSelect.prototype.preRender = function () {\n        if (this.allowFiltering === null) {\n            this.allowFiltering = (this.mode === 'CheckBox') ? true : false;\n        }\n        this.preventSetCurrentData = false;\n        this.initializeData();\n        this.updateDataAttribute(this.htmlAttributes);\n        _super.prototype.preRender.call(this);\n    };\n    MultiSelect.prototype.getLocaleName = function () {\n        return 'multi-select';\n    };\n    MultiSelect.prototype.initializeData = function () {\n        this.mainListCollection = [];\n        this.beforePopupOpen = false;\n        this.filterAction = false;\n        this.remoteFilterAction = false;\n        this.isFirstClick = false;\n        this.mobFilter = true;\n        this.isFiltered = false;\n        this.focused = true;\n        this.initial = true;\n        this.backCommand = true;\n        this.isCustomRendered = false;\n        this.isRemoteSelection = false;\n        this.isSelectAllTarget = true;\n        this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount,\n        };\n    };\n    MultiSelect.prototype.updateData = function (delimiterChar, e) {\n        var data = '';\n        var delim = this.mode === 'Delimiter' || this.mode === 'CheckBox';\n        var text = [];\n        var temp;\n        var tempData = this.listData;\n        if (!this.enableVirtualization) {\n            this.listData = this.mainData;\n        }\n        if (!isNullOrUndefined(this.hiddenElement) && !this.enableVirtualization) {\n            this.hiddenElement.innerHTML = '';\n        }\n        if (!isNullOrUndefined(this.value)) {\n            var valueLength = this.value.length;\n            var hiddenElementContent = '';\n            for (var index = 0; index < valueLength; index++) {\n                var valueItem = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[index]) : this.value[index];\n                var listValue = this.findListElement((!isNullOrUndefined(this.mainList) ? this.mainList : this.ulElement), 'li', 'data-value', valueItem);\n                if (this.enableVirtualization) {\n                    listValue = this.findListElement((!isNullOrUndefined(this.list) ? this.list : this.ulElement), 'li', 'data-value', valueItem);\n                }\n                if (isNullOrUndefined(listValue) && !this.allowCustomValue && !this.enableVirtualization && this.listData && this.listData.length > 0) {\n                    this.value.splice(index, 1);\n                    index -= 1;\n                    valueLength -= 1;\n                }\n                else {\n                    if (this.listData) {\n                        if (this.enableVirtualization) {\n                            if (delim) {\n                                data = this.delimiterWrapper && this.delimiterWrapper.innerHTML == \"\" ? data : this.delimiterWrapper.innerHTML;\n                            }\n                            var value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n                            temp = this.getTextByValue(value);\n                            var textValues = this.text != null && this.text != \"\" ? this.text + ',' + temp : temp;\n                            data += temp + delimiterChar + ' ';\n                            text.push(textValues);\n                            hiddenElementContent = this.hiddenElement.innerHTML;\n                            if ((e && e.currentTarget && e.currentTarget.classList.contains('e-chips-close')) || (e && (e.key === 'Backspace'))) {\n                                var item = e.target.parentElement.getAttribute('data-value');\n                                if (e.key === 'Backspace') {\n                                    var lastChild = this.hiddenElement.lastChild;\n                                    if (lastChild) {\n                                        this.hiddenElement.removeChild(lastChild);\n                                    }\n                                }\n                                else {\n                                    this.hiddenElement.childNodes.forEach(function (option) {\n                                        if (option.value === item) {\n                                            option.parentNode.removeChild(option);\n                                        }\n                                    });\n                                }\n                                hiddenElementContent = this.hiddenElement.innerHTML;\n                            }\n                            else {\n                                hiddenElementContent += \"<option selected value=\\\"\" + value + \"\\\">\" + index + \"</option>\";\n                            }\n                            break;\n                        }\n                        else {\n                            temp = this.getTextByValue(valueItem);\n                        }\n                    }\n                    else {\n                        temp = valueItem;\n                    }\n                    data += temp + delimiterChar + ' ';\n                    text.push(temp);\n                }\n                hiddenElementContent += \"<option selected value=\\\"\" + valueItem + \"\\\">\" + index + \"</option>\";\n            }\n            if (!isNullOrUndefined(this.hiddenElement)) {\n                this.hiddenElement.innerHTML = hiddenElementContent;\n            }\n        }\n        var isChipRemove = e && e.target && e.target.classList.contains('e-chips-close');\n        if (!this.enableVirtualization || (this.enableVirtualization && this.mode !== 'CheckBox' && !isChipRemove)) {\n            this.setProperties({ text: text.toString() }, true);\n        }\n        if (delim) {\n            this.updateWrapperText(this.delimiterWrapper, data);\n            this.delimiterWrapper.setAttribute('id', getUniqueID('delim_val'));\n            this.inputElement.setAttribute('aria-describedby', this.delimiterWrapper.id);\n        }\n        var targetEle = e && e.target;\n        var isClearAll = (targetEle && targetEle.classList.contains('e-close-hooker')) ? true : null;\n        if (!this.changeOnBlur && ((e && !isClearAll)) || this.isSelectAll) {\n            this.isSelectAll = false;\n            this.updateValueState(e, this.value, this.tempValues);\n        }\n        this.listData = tempData;\n        this.addValidInputClass();\n    };\n    MultiSelect.prototype.initialTextUpdate = function () {\n        if (!isNullOrUndefined(this.text)) {\n            var textArr = this.text.split(this.delimiterChar);\n            var textVal = [];\n            for (var index = 0; textArr.length > index; index++) {\n                var val = this.getValueByText(textArr[index]);\n                if (!isNullOrUndefined(val)) {\n                    textVal.push(val);\n                }\n                else if (this.allowCustomValue) {\n                    textVal.push(textArr[index]);\n                }\n            }\n            if (textVal && textVal.length) {\n                var value = this.allowObjectBinding ? this.getDataByValue(textVal) : textVal;\n                this.setProperties({ value: value }, true);\n            }\n        }\n        else {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    MultiSelect.prototype.renderList = function (isEmptyData) {\n        if (!isEmptyData && this.allowCustomValue && this.list && (this.list.textContent === this.noRecordsTemplate\n            || this.list.querySelector('.e-ul') && this.list.querySelector('.e-ul').childElementCount === 0)) {\n            isEmptyData = true;\n        }\n        _super.prototype.render.call(this, null, isEmptyData);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        this.unwireListEvents();\n        this.wireListEvents();\n    };\n    MultiSelect.prototype.initialValueUpdate = function (listItems, isInitialVirtualData) {\n        if (this.list) {\n            var text = void 0;\n            var element = void 0;\n            var value = void 0;\n            if (this.chipCollectionWrapper) {\n                this.chipCollectionWrapper.innerHTML = '';\n            }\n            this.removeListSelection();\n            if (!isNullOrUndefined(this.value)) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) : this.value[index];\n                    element = this.findListElement(this.hideSelectedItem ? this.ulElement : this.list, 'li', 'data-value', value);\n                    var isCustomData = false;\n                    if (this.enableVirtualization) {\n                        text = null;\n                        if (listItems != null && listItems.length > 0) {\n                            for (var i = 0; i < listItems.length; i++) {\n                                if (getValue((this.fields.value ? this.fields.value : 'value'), listItems[i]) === value) {\n                                    text = getValue(this.fields.text, listItems[i]);\n                                    if (this.enableVirtualization) {\n                                        if (isNullOrUndefined(this.selectedListData)) {\n                                            this.selectedListData = [listItems[i]];\n                                        }\n                                        else {\n                                            if (Array.isArray(this.selectedListData)) {\n                                                this.selectedListData.push((listItems[i]));\n                                            }\n                                            else {\n                                                this.selectedListData = [this.selectedListData, (listItems[i])];\n                                            }\n                                        }\n                                    }\n                                    break;\n                                }\n                            }\n                        }\n                        if ((isNullOrUndefined(text) && this.allowCustomValue) && ((!(this.dataSource instanceof DataManager)) || (this.dataSource instanceof DataManager && isInitialVirtualData))) {\n                            text = this.getTextByValue(value);\n                            isCustomData = true;\n                        }\n                    }\n                    else {\n                        text = this.getTextByValue(value);\n                    }\n                    if (((element && (element.getAttribute('aria-selected') !== 'true')) ||\n                        (element && (element.getAttribute('aria-selected') === 'true' && this.hideSelectedItem) &&\n                            (this.mode === 'Box' || this.mode === 'Default'))) || (this.enableVirtualization && value != null && text != null && !isCustomData)) {\n                        var currentText = [];\n                        var textValues = this.text != null && this.text != \"\" ? this.text + ',' + text : text;\n                        currentText.push(textValues);\n                        this.setProperties({ text: currentText.toString() }, true);\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                    else if ((!this.enableVirtualization && value && this.allowCustomValue) || ((this.enableVirtualization && value && this.allowCustomValue) && ((!(this.dataSource instanceof DataManager)) || (this.dataSource instanceof DataManager && isInitialVirtualData)))) {\n                        var indexItem = this.listData.length;\n                        var newValue = {};\n                        setValue(this.fields.text, value, newValue);\n                        setValue(this.fields.value, value, newValue);\n                        var noDataEle = this.popupWrapper.querySelector('.' + dropDownBaseClasses.noData);\n                        if (!this.enableVirtualization) {\n                            this.addItem(newValue, indexItem);\n                        }\n                        if (this.enableVirtualization) {\n                            if (this.virtualCustomSelectData && this.virtualCustomSelectData.length >= 0) {\n                                this.virtualCustomSelectData.push(newValue);\n                            }\n                            else {\n                                this.virtualCustomSelectData = [newValue];\n                            }\n                        }\n                        element = element ? element : this.findListElement(this.hideSelectedItem ? this.ulElement : this.list, 'li', 'data-value', value);\n                        if (this.popupWrapper.contains(noDataEle)) {\n                            this.list.setAttribute('style', noDataEle.getAttribute('style'));\n                            this.popupWrapper.replaceChild(this.list, noDataEle);\n                            this.wireListEvents();\n                        }\n                        var currentText = [];\n                        var textValues = this.text != null && this.text != \"\" ? this.text + ',' + text : text;\n                        currentText.push(textValues);\n                        this.setProperties({ text: currentText.toString() }, true);\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                }\n            }\n            if (this.mode === 'CheckBox') {\n                this.updateDelimView();\n                if (this.changeOnBlur) {\n                    this.updateValueState(null, this.value, this.tempValues);\n                }\n                this.updateDelimeter(this.delimiterChar);\n                this.refreshInputHight();\n            }\n            else {\n                this.updateDelimeter(this.delimiterChar);\n            }\n            if (this.mode === 'CheckBox' && this.showSelectAll && (isNullOrUndefined(this.value) || !this.value.length)) {\n                this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n            }\n            if (this.mode === 'Box' || (this.mode === 'Default' && this.inputFocus)) {\n                this.chipCollectionWrapper.style.display = '';\n            }\n            else if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                this.showDelimWrapper();\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateActionCompleteData = function (li, item) {\n        if (this.value && ((!this.allowObjectBinding && this.value.indexOf(li.getAttribute('data-value')) > -1) || (this.allowObjectBinding && this.isObjectInArray(this.getDataByValue(li.getAttribute('data-value')), this.value)))) {\n            this.mainList = this.ulElement;\n            if (this.hideSelectedItem) {\n                addClass([li], HIDE_LIST);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateAddItemList = function (list, itemCount) {\n        if (this.popupObj && this.popupObj.element && this.popupObj.element.querySelector('.' + dropDownBaseClasses.noData) && list) {\n            this.list = list;\n            this.mainList = this.ulElement = list.querySelector('ul');\n            remove(this.popupWrapper.querySelector('.e-content'));\n            this.popupObj = null;\n            this.renderPopup();\n        }\n        else if (this.allowCustomValue) {\n            this.list = list;\n            this.mainList = this.ulElement = list.querySelector('ul');\n        }\n    };\n    MultiSelect.prototype.updateDataList = function () {\n        if (this.mainList && this.ulElement && !(this.isFiltered || this.filterAction || this.targetElement().trim())) {\n            var isDynamicGroupItemUpdate = this.mainList.childElementCount < this.ulElement.childElementCount;\n            var isReactTemplateUpdate = ((this.ulElement.childElementCount > 0 && this.ulElement.children[0].childElementCount > 0) && (this.mainList.children[0] && (this.mainList.children[0].childElementCount < this.ulElement.children[0].childElementCount)));\n            var isAngularTemplateUpdate = this.itemTemplate && this.ulElement.childElementCount > 0 && !(this.ulElement.childElementCount < this.mainList.childElementCount) && (this.ulElement.children[0].childElementCount > 0 || (this.fields.groupBy && this.ulElement.children[1] && this.ulElement.children[1].childElementCount > 0));\n            if (isDynamicGroupItemUpdate || isReactTemplateUpdate || isAngularTemplateUpdate) {\n                //EJ2-57748 - for this task, we prevent the ul element cloning ( this.mainList = this.ulElement.cloneNode ? <HTMLElement>this.ulElement.cloneNode(true) : this.ulElement;)\n                this.mainList = this.ulElement;\n            }\n        }\n    };\n    MultiSelect.prototype.isValidLI = function (li) {\n        return (li && !li.classList.contains(dropDownBaseClasses.disabled) && !li.classList.contains(dropDownBaseClasses.group) &&\n            li.classList.contains(dropDownBaseClasses.li));\n    };\n    MultiSelect.prototype.updateListSelection = function (li, e, length) {\n        var customVal = li.getAttribute('data-value');\n        var value = this.allowObjectBinding ? this.getDataByValue(this.getFormattedValue(customVal)) : this.getFormattedValue(customVal);\n        if (this.allowCustomValue && ((customVal !== 'false' && value === false) ||\n            (!isNullOrUndefined(value) && value.toString() === 'NaN'))) {\n            value = customVal;\n        }\n        this.removeHover();\n        if (!this.value || ((!this.allowObjectBinding && this.value.indexOf(value) === -1) || (this.allowObjectBinding && this.indexOfObjectInArray(value, this.value) === -1))) {\n            this.dispatchSelect(value, e, li, (li.getAttribute('aria-selected') === 'true'), length);\n        }\n        else {\n            this.removeValue(value, e, length);\n        }\n    };\n    MultiSelect.prototype.updateListSelectEventCallback = function (value, li, e) {\n        var _this = this;\n        value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), value) : value;\n        var text = this.getTextByValue(value);\n        if ((this.allowCustomValue || this.allowFiltering) && !this.findListElement(this.mainList, 'li', 'data-value', value) && (!this.enableVirtualization || (this.enableVirtualization && this.virtualCustomData))) {\n            var temp_1 = li ? li.cloneNode(true) : li;\n            var fieldValue = this.fields.value ? this.fields.value : 'value';\n            if (this.allowCustomValue && this.mainData.length && typeof getValue(fieldValue, this.mainData[0]) === 'number') {\n                value = !isNaN(parseFloat(value.toString())) ? parseFloat(value.toString()) : value;\n            }\n            var data_1 = this.getDataByValue(value);\n            var eventArgs = {\n                newData: data_1,\n                cancel: false\n            };\n            this.trigger('customValueSelection', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (_this.enableVirtualization && _this.virtualCustomData) {\n                        if (_this.virtualCustomSelectData && _this.virtualCustomSelectData.length >= 0) {\n                            _this.virtualCustomSelectData.push(data_1);\n                        }\n                        else {\n                            _this.virtualCustomSelectData = [data_1];\n                        }\n                        _this.remoteCustomValue = false;\n                        _this.addValue(value, text, e);\n                    }\n                    else {\n                        append([temp_1], _this.mainList);\n                        _this.mainData.push(data_1);\n                        _this.remoteCustomValue = false;\n                        _this.addValue(value, text, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.remoteCustomValue = false;\n            this.addValue(value, text, e);\n        }\n    };\n    MultiSelect.prototype.removeListSelection = function () {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        var selectedItems = this.list.querySelectorAll('.' + className);\n        var temp = selectedItems.length;\n        if (selectedItems && selectedItems.length) {\n            removeClass(selectedItems, className);\n            while (temp > 0) {\n                selectedItems[temp - 1].setAttribute('aria-selected', 'false');\n                temp--;\n            }\n        }\n        if (!isNullOrUndefined(this.mainList)) {\n            var selectItems = this.mainList.querySelectorAll('.' + className);\n            var temp1 = selectItems.length;\n            if (selectItems && selectItems.length) {\n                removeClass(selectItems, className);\n                while (temp1 > 0) {\n                    selectItems[temp1 - 1].setAttribute('aria-selected', 'false');\n                    if (this.mode === 'CheckBox') {\n                        if (selectedItems && (selectedItems.length > (temp1 - 1))) {\n                            removeClass([selectedItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n                        }\n                        removeClass([selectItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n                    }\n                    temp1--;\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.removeHover = function () {\n        var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, dropDownBaseClasses.hover);\n        }\n    };\n    MultiSelect.prototype.removeFocus = function () {\n        if (this.list && this.mainList) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.focus);\n            var mainlist = this.mainList.querySelectorAll('.' + dropDownBaseClasses.focus);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.focus);\n                removeClass(mainlist, dropDownBaseClasses.focus);\n            }\n        }\n    };\n    MultiSelect.prototype.addListHover = function (li) {\n        if (this.enabled && this.isValidLI(li)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n        else {\n            if ((li !== null && li.classList.contains('e-list-group-item')) && this.enableGroupCheckBox && this.mode === 'CheckBox'\n                && !isNullOrUndefined(this.fields.groupBy)) {\n                this.removeHover();\n                addClass([li], dropDownBaseClasses.hover);\n            }\n        }\n    };\n    MultiSelect.prototype.addListFocus = function (element) {\n        if (this.enabled && this.isValidLI(element)) {\n            this.removeFocus();\n            addClass([element], dropDownBaseClasses.focus);\n            this.updateAriaActiveDescendant();\n        }\n        else {\n            if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n                addClass([element], dropDownBaseClasses.focus);\n                this.updateAriaActiveDescendant();\n            }\n        }\n    };\n    MultiSelect.prototype.addListSelection = function (element, mainElement) {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (this.isValidLI(element) && !element.classList.contains(dropDownBaseClasses.hover)) {\n            addClass([element], className);\n            this.updateMainList(false, element.getAttribute('data-value'), mainElement);\n            element.setAttribute('aria-selected', 'true');\n            if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n                var ariaCheck = element.getElementsByClassName('e-check').length;\n                if (ariaCheck === 0) {\n                    this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n                }\n            }\n            this.notify('activeList', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n            if (this.chipCollectionWrapper) {\n                this.removeChipSelection();\n            }\n            this.selectedElementID = element.id;\n        }\n    };\n    MultiSelect.prototype.updateDelimeter = function (delimChar, e) {\n        this.updateData(delimChar, e);\n    };\n    MultiSelect.prototype.onMouseClick = function (e) {\n        var _this = this;\n        this.keyCode = null;\n        this.scrollFocusStatus = false;\n        this.keyboardEvent = null;\n        var target = e.target;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (this.enableVirtualization && li && li.classList.contains('e-virtual-list')) {\n            return;\n        }\n        var headerLi = closest(target, '.' + dropDownBaseClasses.group);\n        if (headerLi && this.enableGroupCheckBox && this.mode === 'CheckBox' && this.fields.groupBy) {\n            target = target.classList.contains('e-list-group-item') ? target.firstElementChild.lastElementChild\n                : e.target;\n            if (target.classList.contains('e-check')) {\n                this.selectAllItem(false, e);\n                target.classList.remove('e-check');\n                target.classList.remove('e-stop');\n                closest(target, '.' + 'e-list-group-item').classList.remove('e-active');\n                target.setAttribute('aria-selected', 'false');\n            }\n            else {\n                this.selectAllItem(true, e);\n                target.classList.remove('e-stop');\n                target.classList.add('e-check');\n                closest(target, '.' + 'e-list-group-item').classList.add('e-active');\n                target.setAttribute('aria-selected', 'true');\n            }\n            this.refreshSelection();\n            this.checkSelectAll();\n        }\n        else {\n            if (this.isValidLI(li)) {\n                var limit = this.value && this.value.length ? this.value.length : 0;\n                if (li.classList.contains('e-active')) {\n                    limit = limit - 1;\n                }\n                if (limit < this.maximumSelectionLength) {\n                    this.updateListSelection(li, e);\n                    this.checkPlaceholderSize();\n                    this.addListFocus(li);\n                    if ((this.allowCustomValue || this.allowFiltering) && this.mainList && this.listData) {\n                        if (this.mode !== 'CheckBox') {\n                            this.focusAtLastListItem(li.getAttribute('data-value'));\n                            this.refreshSelection();\n                        }\n                    }\n                    else {\n                        this.makeTextBoxEmpty();\n                    }\n                }\n                if (this.mode === 'CheckBox') {\n                    this.updateDelimView();\n                    if (this.value && this.value.length > 50) {\n                        setTimeout(function () {\n                            _this.updateDelimeter(_this.delimiterChar, e);\n                        }, 0);\n                    }\n                    else {\n                        this.updateDelimeter(this.delimiterChar, e);\n                    }\n                    this.refreshInputHight();\n                }\n                else {\n                    this.updateDelimeter(this.delimiterChar, e);\n                }\n                this.checkSelectAll();\n                this.refreshPopup();\n                if (this.hideSelectedItem) {\n                    this.focusAtFirstListItem();\n                }\n                if (this.closePopupOnSelect) {\n                    this.hidePopup(e);\n                }\n                else {\n                    e.preventDefault();\n                }\n                this.makeTextBoxEmpty();\n                this.findGroupStart(target);\n                if (this.mode !== 'CheckBox') {\n                    this.refreshListItems(isNullOrUndefined(li) ? null : li.textContent);\n                }\n            }\n            else {\n                e.preventDefault();\n            }\n            if (this.enableVirtualization && this.hideSelectedItem) {\n                var visibleListElements = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li\n                    + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)' + ':not(.e-virtual-list)');\n                if (visibleListElements.length) {\n                    var actualCount = this.virtualListHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n                    if (visibleListElements.length < (actualCount + 2)) {\n                        var query = this.getForQuery(this.value).clone();\n                        query = query.skip(this.virtualItemStartIndex);\n                        this.resetList(this.dataSource, this.fields, query);\n                        this.UpdateSkeleton();\n                        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                        this.virtualItemCount = this.itemCount;\n                        if (this.mode !== 'CheckBox') {\n                            this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n                        }\n                        if (!this.list.querySelector('.e-virtual-ddl')) {\n                            var virualElement = this.createElement('div', {\n                                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                            });\n                            this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n                        }\n                        else {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n                        }\n                        if (this.list.querySelector('.e-virtual-ddl-content')) {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                        }\n                    }\n                }\n            }\n            this.refreshPlaceHolder();\n            this.deselectHeader();\n        }\n    };\n    MultiSelect.prototype.findGroupStart = function (target) {\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            var count = 0;\n            var liChecked = 0;\n            var liUnchecked = 0;\n            var groupValues = void 0;\n            if (this.itemTemplate && !target.getElementsByClassName('e-frame').length) {\n                while (!target.getElementsByClassName('e-frame').length) {\n                    target = target.parentElement;\n                }\n            }\n            if (target.classList.contains('e-frame')) {\n                target = target.parentElement.parentElement;\n            }\n            groupValues = this.findGroupAttrtibutes(target, liChecked, liUnchecked, count, 0);\n            groupValues = this.findGroupAttrtibutes(target, groupValues[0], groupValues[1], groupValues[2], 1);\n            while (!target.classList.contains('e-list-group-item')) {\n                if (target.classList.contains('e-list-icon')) {\n                    target = target.parentElement;\n                }\n                target = target.previousElementSibling;\n                if (target == null) {\n                    break;\n                }\n            }\n            this.updateCheckBox(target, groupValues[0], groupValues[1], groupValues[2]);\n        }\n    };\n    MultiSelect.prototype.findGroupAttrtibutes = function (listElement, checked, unChecked, count, position) {\n        while (!listElement.classList.contains('e-list-group-item')) {\n            if (listElement.classList.contains('e-list-icon')) {\n                listElement = listElement.parentElement;\n            }\n            if (listElement.getElementsByClassName('e-frame')[0].classList.contains('e-check') &&\n                listElement.classList.contains('e-list-item')) {\n                checked++;\n            }\n            else if (listElement.classList.contains('e-list-item')) {\n                unChecked++;\n            }\n            count++;\n            listElement = position ? listElement.nextElementSibling : listElement.previousElementSibling;\n            if (listElement == null) {\n                break;\n            }\n        }\n        return [checked, unChecked, count];\n    };\n    MultiSelect.prototype.updateCheckBox = function (groupHeader, checked, unChecked, count) {\n        if (groupHeader === null) {\n            return;\n        }\n        var checkBoxElement = groupHeader.getElementsByClassName('e-frame')[0];\n        if (count === checked) {\n            checkBoxElement.classList.remove('e-stop');\n            checkBoxElement.classList.add('e-check');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            groupHeader.setAttribute('aria-selected', 'true');\n        }\n        else if (count === unChecked) {\n            checkBoxElement.classList.remove('e-check');\n            checkBoxElement.classList.remove('e-stop');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.remove('e-active');\n            groupHeader.setAttribute('aria-selected', 'false');\n        }\n        else if (this.maximumSelectionLength === checked - 1) {\n            checkBoxElement.classList.remove('e-stop');\n            groupHeader.setAttribute('aria-selected', 'true');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            checkBoxElement.classList.add('e-check');\n        }\n        else {\n            checkBoxElement.classList.remove('e-check');\n            checkBoxElement.classList.add('e-stop');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            groupHeader.setAttribute('aria-selected', 'false');\n        }\n    };\n    MultiSelect.prototype.deselectHeader = function () {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        var collection = this.list.querySelectorAll('li.e-list-group-item:not(.e-active)');\n        if (limit < this.maximumSelectionLength) {\n            removeClass(collection, 'e-disable');\n        }\n        if (limit === this.maximumSelectionLength) {\n            addClass(collection, 'e-disable');\n        }\n    };\n    MultiSelect.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        if (currentLi === null && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)\n            && this.enableGroupCheckBox) {\n            currentLi = closest(e.target, '.' + dropDownBaseClasses.group);\n        }\n        this.addListHover(currentLi);\n    };\n    MultiSelect.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    MultiSelect.prototype.onListMouseDown = function (e) {\n        e.preventDefault();\n        this.scrollFocusStatus = true;\n    };\n    MultiSelect.prototype.onDocumentClick = function (e) {\n        if (this.mode !== 'CheckBox') {\n            var target = e.target;\n            if (!(!isNullOrUndefined(this.popupObj) && closest(target, '[id=\"' + this.popupObj.element.id + '\"]')) &&\n                !this.overAllWrapper.contains(e.target)) {\n                this.scrollFocusStatus = false;\n            }\n            else {\n                this.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement);\n            }\n        }\n    };\n    MultiSelect.prototype.wireListEvents = function () {\n        if (!isNullOrUndefined(this.list)) {\n            EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n            EventHandler.add(this.list, 'mousedown', this.onListMouseDown, this);\n            EventHandler.add(this.list, 'mouseup', this.onMouseClick, this);\n            EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    MultiSelect.prototype.unwireListEvents = function () {\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        if (this.list) {\n            EventHandler.remove(this.list, 'mousedown', this.onListMouseDown);\n            EventHandler.remove(this.list, 'mouseup', this.onMouseClick);\n            EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n            EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n        }\n    };\n    MultiSelect.prototype.hideOverAllClear = function () {\n        if (!this.value || !this.value.length || this.inputElement.value === '') {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.showOverAllClear = function () {\n        if (((this.value && this.value.length) || this.inputElement.value !== '') && this.showClearButton && this.readonly !== true) {\n            this.overAllClear.style.display = '';\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement && this.enabled) {\n            this.inputElement.blur();\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            var filterClear = this.filterParent && this.filterParent.querySelector('.e-clear-icon.e-icons');\n            if (this.overAllClear.style.display !== 'none' || filterClear) {\n                this.spinnerElement = filterClear ? filterClear : this.overAllClear;\n            }\n            else {\n                this.spinnerElement = this.createElement('span', { className: CLOSEICON_CLASS + ' ' + SPINNER_CLASS });\n                this.componentWrapper.appendChild(this.spinnerElement);\n            }\n            createSpinner({ target: this.spinnerElement, width: Browser.isDevice ? '16px' : '14px' }, this.createElement);\n            addClass([this.spinnerElement], DISABLE_ICON);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], DISABLE_ICON);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    MultiSelect.prototype.updateWrapperText = function (wrapperType, wrapperData) {\n        if (this.valueTemplate || !this.enableHtmlSanitizer) {\n            wrapperType.innerHTML = this.encodeHtmlEntities(wrapperData);\n        }\n        else {\n            wrapperType.innerText = wrapperData;\n        }\n    };\n    MultiSelect.prototype.updateDelimView = function () {\n        if (this.delimiterWrapper) {\n            this.hideDelimWrapper();\n        }\n        if (this.chipCollectionWrapper) {\n            this.chipCollectionWrapper.style.display = 'none';\n        }\n        if (!isNullOrUndefined(this.viewWrapper)) {\n            this.viewWrapper.style.display = '';\n            this.viewWrapper.style.width = '';\n            this.viewWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        }\n        if (this.value && this.value.length) {\n            var data = '';\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            var downIconWidth = 0;\n            var overAllContainer = void 0;\n            if (!this.enableVirtualization) {\n                this.updateWrapperText(this.viewWrapper, data);\n            }\n            var l10nLocale = {\n                noRecordsTemplate: 'No records found',\n                actionFailureTemplate: 'Request failed',\n                overflowCountTemplate: '+${count} more..',\n                totalCountTemplate: '${count} selected'\n            };\n            var l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            if (l10n.getConstant('actionFailureTemplate') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            }\n            if (l10n.getConstant('noRecordsTemplate') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            }\n            var remainContent = l10n.getConstant('overflowCountTemplate');\n            var totalContent = l10n.getConstant('totalCountTemplate');\n            var raminElement = this.createElement('span', {\n                className: REMAIN_WRAPPER\n            });\n            var remainCompildTemp = remainContent.replace('${count}', this.value.length.toString());\n            raminElement.innerText = remainCompildTemp;\n            this.viewWrapper.appendChild(raminElement);\n            this.renderReactTemplates();\n            var remainSize = raminElement.offsetWidth;\n            remove(raminElement);\n            if (this.showDropDownIcon) {\n                downIconWidth = this.dropIcon.offsetWidth + parseInt(window.getComputedStyle(this.dropIcon).marginRight, 10);\n            }\n            this.checkClearIconWidth();\n            if (!isNullOrUndefined(this.value) && (this.allowCustomValue || (this.listData && this.listData.length > 0))) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    var items = this.text && this.text.split(this.delimiterChar);\n                    if (!this.enableVirtualization) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = this.getOverflowVal(index);\n                        data += temp;\n                        temp = this.viewWrapper.innerHTML;\n                        this.updateWrapperText(this.viewWrapper, data);\n                    }\n                    else if (items) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = items[index];\n                        data += temp;\n                        temp = this.viewWrapper.innerHTML;\n                        this.updateWrapperText(this.viewWrapper, data);\n                    }\n                    wrapperleng = this.viewWrapper.offsetWidth +\n                        parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                    overAllContainer = this.componentWrapper.offsetWidth -\n                        parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) -\n                        parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n                    if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                        if (tempData !== undefined && tempData !== '') {\n                            temp = tempData;\n                            index = tempIndex + 1;\n                        }\n                        this.updateWrapperText(this.viewWrapper, temp);\n                        remaining = this.value.length - index;\n                        wrapperleng = this.viewWrapper.offsetWidth +\n                            parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                        while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) > overAllContainer) && wrapperleng !== 0\n                            && this.viewWrapper.innerHTML !== '') {\n                            var textArr = [];\n                            this.viewWrapper.innerHTML = textArr.join(this.delimiterChar);\n                            remaining = this.value.length;\n                            wrapperleng = this.viewWrapper.offsetWidth +\n                                parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                        }\n                        break;\n                    }\n                    else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                        tempData = data;\n                        tempIndex = index;\n                    }\n                    else if (index === 0) {\n                        tempData = '';\n                        tempIndex = -1;\n                    }\n                }\n            }\n            if (remaining > 0) {\n                var totalWidth = overAllContainer - downIconWidth - this.clearIconWidth;\n                this.viewWrapper.appendChild(this.updateRemainTemplate(raminElement, this.viewWrapper, remaining, remainContent, totalContent, totalWidth));\n                this.updateRemainWidth(this.viewWrapper, totalWidth);\n                this.updateRemainingText(raminElement, downIconWidth, remaining, remainContent, totalContent);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.viewWrapper)) {\n                this.viewWrapper.innerHTML = '';\n                this.viewWrapper.style.display = 'none';\n            }\n        }\n    };\n    MultiSelect.prototype.checkClearIconWidth = function () {\n        if (this.showClearButton) {\n            this.clearIconWidth = this.overAllClear.offsetWidth;\n        }\n    };\n    MultiSelect.prototype.updateRemainWidth = function (viewWrapper, totalWidth) {\n        if (viewWrapper.classList.contains(TOTAL_COUNT_WRAPPER) && totalWidth < (viewWrapper.offsetWidth +\n            parseInt(window.getComputedStyle(viewWrapper).paddingLeft, 10)\n            + parseInt(window.getComputedStyle(viewWrapper).paddingLeft, 10))) {\n            viewWrapper.style.width = totalWidth + 'px';\n        }\n    };\n    MultiSelect.prototype.updateRemainTemplate = function (raminElement, viewWrapper, remaining, remainContent, totalContent, totalWidth) {\n        if (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3 && viewWrapper.firstChild.nodeValue === '') {\n            viewWrapper.removeChild(viewWrapper.firstChild);\n        }\n        raminElement.innerHTML = '';\n        var remainTemp = remainContent.replace('${count}', remaining.toString());\n        var totalTemp = totalContent.replace('${count}', remaining.toString());\n        raminElement.innerText = (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3) ? remainTemp : totalTemp;\n        if (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3) {\n            viewWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        }\n        else {\n            viewWrapper.classList.add(TOTAL_COUNT_WRAPPER);\n            this.updateRemainWidth(viewWrapper, totalWidth);\n        }\n        return raminElement;\n    };\n    MultiSelect.prototype.updateRemainingText = function (raminElement, downIconWidth, remaining, remainContent, totalContent) {\n        var overAllContainer = this.componentWrapper.offsetWidth -\n            parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) -\n            parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n        var wrapperleng = this.viewWrapper.offsetWidth + parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n        if (((wrapperleng + downIconWidth) >= overAllContainer) && wrapperleng !== 0 && this.viewWrapper.firstChild &&\n            this.viewWrapper.firstChild.nodeType === 3) {\n            while (((wrapperleng + downIconWidth) > overAllContainer) && wrapperleng !== 0 && this.viewWrapper.firstChild &&\n                this.viewWrapper.firstChild.nodeType === 3) {\n                var textArr = this.viewWrapper.firstChild.nodeValue.split(this.delimiterChar);\n                textArr.pop();\n                this.viewWrapper.firstChild.nodeValue = textArr.join(this.delimiterChar);\n                if (this.viewWrapper.firstChild.nodeValue === '') {\n                    this.viewWrapper.removeChild(this.viewWrapper.firstChild);\n                }\n                remaining++;\n                wrapperleng = this.viewWrapper.offsetWidth;\n            }\n            var totalWidth = overAllContainer - downIconWidth;\n            this.updateRemainTemplate(raminElement, this.viewWrapper, remaining, remainContent, totalContent, totalWidth);\n        }\n    };\n    MultiSelect.prototype.getOverflowVal = function (index) {\n        var temp;\n        if (this.mainData && this.mainData.length) {\n            var value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) : this.value[index];\n            if (this.mode === 'CheckBox') {\n                var newTemp = this.listData;\n                this.listData = this.mainData;\n                temp = this.getTextByValue(value);\n                this.listData = newTemp;\n            }\n            else {\n                temp = this.getTextByValue(value);\n            }\n        }\n        else {\n            temp = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) : this.value[index];\n        }\n        return temp;\n    };\n    MultiSelect.prototype.unWireEvent = function () {\n        if (!isNullOrUndefined(this.componentWrapper)) {\n            EventHandler.remove(this.componentWrapper, 'mousedown', this.wrapperClick);\n        }\n        EventHandler.remove(window, 'resize', this.windowResize);\n        if (!isNullOrUndefined(this.inputElement)) {\n            EventHandler.remove(this.inputElement, 'focus', this.focusInHandler);\n            EventHandler.remove(this.inputElement, 'keydown', this.onKeyDown);\n            if (this.mode !== 'CheckBox') {\n                EventHandler.remove(this.inputElement, 'input', this.onInput);\n            }\n            EventHandler.remove(this.inputElement, 'keyup', this.keyUp);\n            var formElement = closest(this.inputElement, 'form');\n            if (formElement) {\n                EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n            }\n            EventHandler.remove(this.inputElement, 'blur', this.onBlurHandler);\n        }\n        if (!isNullOrUndefined(this.componentWrapper)) {\n            EventHandler.remove(this.componentWrapper, 'mouseover', this.mouseIn);\n            EventHandler.remove(this.componentWrapper, 'mouseout', this.mouseOut);\n        }\n        if (!isNullOrUndefined(this.overAllClear)) {\n            EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n        }\n        if (!isNullOrUndefined(this.inputElement)) {\n            EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n        }\n    };\n    MultiSelect.prototype.selectAllItem = function (state, event, list) {\n        var li;\n        if (!isNullOrUndefined(this.list)) {\n            li = this.list.querySelectorAll(state ?\n                'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide):not(.e-virtual-list)' :\n                'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide):not(.e-virtual-list)');\n        }\n        if (this.value && this.value.length && event && event.target\n            && closest(event.target, '.e-close-hooker') && this.allowFiltering) {\n            li = this.mainList.querySelectorAll(state ?\n                'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide):not(.e-virtual-list)' :\n                'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide):not(.e-virtual-list)');\n        }\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            var target = (event ? (this.groupTemplate ? closest(event.target, '.e-list-group-item') : event.target) : null);\n            target = (event && event.keyCode === 32) ? list : target;\n            target = (target && target.classList.contains('e-frame')) ? target.parentElement.parentElement : target;\n            if (target && target.classList.contains('e-list-group-item')) {\n                var listElement = target.nextElementSibling;\n                if (isNullOrUndefined(listElement)) {\n                    return;\n                }\n                while (listElement.classList.contains('e-list-item')) {\n                    if (state) {\n                        if (!listElement.firstElementChild.lastElementChild.classList.contains('e-check')) {\n                            var selectionLimit = this.value && this.value.length ? this.value.length : 0;\n                            if (listElement.classList.contains('e-active')) {\n                                selectionLimit -= 1;\n                            }\n                            if (selectionLimit < this.maximumSelectionLength) {\n                                this.updateListSelection(listElement, event);\n                            }\n                        }\n                    }\n                    else {\n                        if (listElement.firstElementChild.lastElementChild.classList.contains('e-check')) {\n                            this.updateListSelection(listElement, event);\n                        }\n                    }\n                    listElement = listElement.nextElementSibling;\n                    if (listElement == null) {\n                        break;\n                    }\n                }\n                if (target.classList.contains('e-list-group-item')) {\n                    var focusedElement = this.list.getElementsByClassName('e-item-focus')[0];\n                    if (focusedElement) {\n                        focusedElement.classList.remove('e-item-focus');\n                    }\n                    if (state) {\n                        target.classList.add('e-active');\n                    }\n                    else {\n                        target.classList.remove('e-active');\n                    }\n                    target.classList.add('e-item-focus');\n                    this.updateAriaActiveDescendant();\n                }\n                this.textboxValueUpdate();\n                this.checkPlaceholderSize();\n                if (!this.changeOnBlur && event) {\n                    this.updateValueState(event, this.value, this.tempValues);\n                }\n            }\n            else {\n                this.updateValue(event, li, state);\n            }\n        }\n        else {\n            this.updateValue(event, li, state);\n        }\n        this.addValidInputClass();\n    };\n    MultiSelect.prototype.virtualSelectionAll = function (state, li, event) {\n        var _this = this;\n        var index = 0;\n        var length = li.length;\n        var count = this.maximumSelectionLength;\n        if (state) {\n            length = this.virtualSelectAllData && this.virtualSelectAllData.length != 0 ? this.virtualSelectAllData.length : length;\n            this.listData = this.virtualSelectAllData;\n            var ulElement = this.createListItems(this.virtualSelectAllData.slice(0, 30), this.fields);\n            var firstItems = ulElement.querySelectorAll('li');\n            var fragment_1 = document.createDocumentFragment();\n            firstItems.forEach(function (node) {\n                fragment_1.appendChild(node.cloneNode(true));\n            });\n            li.forEach(function (node) {\n                fragment_1.appendChild(node.cloneNode(true));\n            });\n            var concatenatedNodeList = fragment_1.childNodes;\n            if (this.virtualSelectAllData instanceof Array) {\n                while (index < length && index <= 50 && index < count) {\n                    this.isSelectAllTarget = (length === index + 1);\n                    if (concatenatedNodeList[index]) {\n                        var value = this.allowObjectBinding ? this.getDataByValue(concatenatedNodeList[index].getAttribute('data-value')) : this.getFormattedValue(concatenatedNodeList[index].getAttribute('data-value'));\n                        if (((!this.allowObjectBinding && this.value && this.value.indexOf(value) >= 0) || (this.allowObjectBinding && this.indexOfObjectInArray(value, this.value) >= 0))) {\n                            index++;\n                            continue;\n                        }\n                        this.updateListSelection(concatenatedNodeList[index], event, length - index);\n                    }\n                    else {\n                        var value = getValue((this.fields.value) ? this.fields.value : '', this.virtualSelectAllData[index]);\n                        value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n                        if (((!this.allowObjectBinding && this.value && this.value.indexOf(value) >= 0) || (this.allowObjectBinding && this.indexOfObjectInArray(value, this.value) >= 0))) {\n                            index++;\n                            continue;\n                        }\n                        if (this.value && value != null && Array.isArray(this.value) && ((!this.allowObjectBinding && this.value.indexOf(value) < 0) || (this.allowObjectBinding && !this.isObjectInArray(value, this.value)))) {\n                            this.dispatchSelect(value, event, null, false, length);\n                        }\n                    }\n                    index++;\n                }\n                if (length > 50) {\n                    setTimeout(function () {\n                        if (_this.virtualSelectAllData && _this.virtualSelectAllData.length > 0) {\n                            _this.virtualSelectAllData.map(function (obj) {\n                                if (_this.value && obj[_this.fields.value] != null && Array.isArray(_this.value) && ((!_this.allowObjectBinding && _this.value.indexOf(obj[_this.fields.value]) < 0) || (_this.allowObjectBinding && !_this.isObjectInArray(obj[_this.fields.value], _this.value)))) {\n                                    _this.dispatchSelect(obj[_this.fields.value], event, null, false, length);\n                                }\n                            });\n                        }\n                        _this.updatedataValueItems(event);\n                        _this.isSelectAllLoop = false;\n                        if (!_this.changeOnBlur) {\n                            _this.updateValueState(event, _this.value, _this.tempValues);\n                            _this.isSelectAll = _this.isSelectAll ? !_this.isSelectAll : _this.isSelectAll;\n                        }\n                        _this.updateHiddenElement();\n                        if (_this.popupWrapper && li[index - 1] && li[index - 1].classList.contains('e-item-focus')) {\n                            var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n                            if (selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n                                li[index - 1].classList.remove('e-item-focus');\n                            }\n                        }\n                    }, 0);\n                }\n            }\n        }\n        else {\n            if (this.virtualSelectAllData && this.virtualSelectAllData.length > 0) {\n                this.virtualSelectAllData.map(function (obj) {\n                    _this.virtualSelectAll = true;\n                    _this.removeValue(_this.value[index], event, _this.value.length - index);\n                });\n            }\n            this.updatedataValueItems(event);\n            if (!this.changeOnBlur) {\n                this.updateValueState(event, this.value, this.tempValues);\n                this.isSelectAll = this.isSelectAll ? !this.isSelectAll : this.isSelectAll;\n            }\n            this.updateHiddenElement();\n            this.value = [];\n            this.virtualSelectAll = false;\n            if (!isNullOrUndefined(this.viewPortInfo.startIndex) && !isNullOrUndefined(this.viewPortInfo.endIndex)) {\n                this.notify(\"setCurrentViewDataAsync\", {\n                    component: this.getModuleName(),\n                    module: \"VirtualScroll\",\n                });\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var virtualTrackElement = this.list.getElementsByClassName('e-virtual-ddl')[0];\n        if (virtualTrackElement) {\n            (virtualTrackElement).style = this.GetVirtualTrackHeight();\n        }\n        this.UpdateSkeleton();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var virtualContentElement = this.list.getElementsByClassName('e-virtual-ddl-content')[0];\n        if (virtualContentElement) {\n            (virtualContentElement).style = this.getTransformValues();\n        }\n    };\n    MultiSelect.prototype.updateValue = function (event, li, state) {\n        var _this = this;\n        var length = li.length;\n        var beforeSelectArgs = {\n            event: event,\n            items: state ? li : [],\n            itemData: state ? this.listData : [],\n            isInteracted: event ? true : false,\n            isChecked: state,\n            preventSelectEvent: false\n        };\n        this.trigger('beforeSelectAll', beforeSelectArgs);\n        if ((li && li.length) || (this.enableVirtualization && !state)) {\n            var index_2 = 0;\n            var count_1 = 0;\n            if (this.enableGroupCheckBox) {\n                count_1 = state ? this.maximumSelectionLength - (this.value ? this.value.length : 0) : li.length;\n            }\n            else {\n                count_1 = state ? this.maximumSelectionLength - (this.value ? this.value.length : 0) : this.maximumSelectionLength;\n            }\n            if (!beforeSelectArgs.preventSelectEvent) {\n                if (this.enableVirtualization) {\n                    this.virtualSelectAll = true;\n                    this.virtualSelectAllState = state;\n                    this.CurrentEvent = event;\n                    if (!this.virtualSelectAllData) {\n                        this.resetList(this.dataSource, this.fields, new Query());\n                    }\n                    if (this.virtualSelectAllData) {\n                        this.virtualSelectionAll(state, li, event);\n                    }\n                }\n                else {\n                    while (index_2 < length && index_2 <= 50 && index_2 < count_1) {\n                        this.isSelectAllTarget = (length === index_2 + 1);\n                        this.updateListSelection(li[index_2], event, length - index_2);\n                        if (this.enableGroupCheckBox) {\n                            this.findGroupStart(li[index_2]);\n                        }\n                        index_2++;\n                    }\n                    if (length > 50) {\n                        setTimeout(function () {\n                            while (index_2 < length && index_2 < count_1) {\n                                _this.isSelectAllTarget = (length === index_2 + 1);\n                                _this.updateListSelection(li[index_2], event, length - index_2);\n                                if (_this.enableGroupCheckBox) {\n                                    _this.findGroupStart(li[index_2]);\n                                }\n                                index_2++;\n                            }\n                            _this.updatedataValueItems(event);\n                            if (!_this.changeOnBlur) {\n                                _this.updateValueState(event, _this.value, _this.tempValues);\n                                _this.isSelectAll = _this.isSelectAll ? !_this.isSelectAll : _this.isSelectAll;\n                            }\n                            _this.updateHiddenElement();\n                            if (_this.popupWrapper && li[index_2 - 1].classList.contains('e-item-focus')) {\n                                var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n                                if (selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n                                    li[index_2 - 1].classList.remove('e-item-focus');\n                                }\n                            }\n                        }, 0);\n                    }\n                }\n            }\n            else {\n                for (var i = 0; i < li.length && i < count_1; i++) {\n                    this.removeHover();\n                    var customVal = li[i].getAttribute('data-value');\n                    var value = this.getFormattedValue(customVal);\n                    value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n                    var mainElement = this.mainList ? this.mainList.querySelectorAll(state ?\n                        'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' :\n                        'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)')[i] : null;\n                    if (state) {\n                        this.value = !this.value ? [] : this.value;\n                        if ((!this.allowObjectBinding && this.value.indexOf(value) < 0) || (this.allowObjectBinding && !this.isObjectInArray(value, this.value))) {\n                            this.setProperties({ value: [].concat([], this.value, [value]) }, true);\n                        }\n                        this.removeFocus();\n                        this.addListSelection(li[i], mainElement);\n                        this.updateChipStatus();\n                        this.checkMaxSelection();\n                    }\n                    else {\n                        this.removeAllItems(value, event, false, li[i], mainElement);\n                    }\n                    if (this.enableGroupCheckBox) {\n                        this.findGroupStart(li[i]);\n                    }\n                }\n                if (!state) {\n                    var limit = this.value && this.value.length ? this.value.length : 0;\n                    if (limit < this.maximumSelectionLength) {\n                        var collection = this.list.querySelectorAll('li.'\n                            + dropDownBaseClasses.li + ':not(.e-active)');\n                        removeClass(collection, 'e-disable');\n                    }\n                }\n                var args = {\n                    event: event,\n                    items: state ? li : [],\n                    itemData: state ? this.listData : [],\n                    isInteracted: event ? true : false,\n                    isChecked: state\n                };\n                this.trigger('selectedAll', args);\n            }\n        }\n        this.updatedataValueItems(event);\n        this.checkPlaceholderSize();\n        if (length <= 50 && !beforeSelectArgs.preventSelectEvent) {\n            if (!this.changeOnBlur) {\n                this.updateValueState(event, this.value, this.tempValues);\n                this.isSelectAll = this.isSelectAll ? !this.isSelectAll : this.isSelectAll;\n            }\n            if ((this.enableVirtualization && this.value && this.value.length > 0) || !this.enableVirtualization) {\n                this.updateHiddenElement();\n            }\n        }\n    };\n    MultiSelect.prototype.updateHiddenElement = function () {\n        var _this = this;\n        var hiddenValue = '';\n        var wrapperText = '';\n        var data = '';\n        var text = [];\n        if (this.mode === 'CheckBox') {\n            this.value.map(function (value, index) {\n                hiddenValue += '<option selected value =\"' + value + '\">' + index + '</option>';\n                if (_this.listData) {\n                    data = _this.getTextByValue(value);\n                }\n                else {\n                    data = value;\n                }\n                wrapperText += data + _this.delimiterChar + ' ';\n                text.push(data);\n            });\n            this.hiddenElement.innerHTML = hiddenValue;\n            this.updateWrapperText(this.delimiterWrapper, wrapperText);\n            this.delimiterWrapper.setAttribute('id', getUniqueID('delim_val'));\n            this.inputElement.setAttribute('aria-describedby', this.delimiterWrapper.id);\n            this.setProperties({ text: text.toString() }, true);\n            this.refreshInputHight();\n            this.refreshPlaceHolder();\n        }\n    };\n    MultiSelect.prototype.updatedataValueItems = function (event) {\n        this.deselectHeader();\n        this.textboxValueUpdate(event);\n    };\n    MultiSelect.prototype.textboxValueUpdate = function (event) {\n        var isRemoveAll = event && event.target && (closest(event.target, '.e-selectall-parent')\n            || closest(event.target, '.e-close-hooker'));\n        if (this.mode !== 'Box' && !this.isPopupOpen() && !(this.mode === 'CheckBox' && (this.isSelectAll || isRemoveAll))) {\n            this.updateDelimView();\n        }\n        else {\n            this.searchWrapper.classList.remove(ZERO_SIZE);\n        }\n        if (this.mode === 'CheckBox') {\n            this.updateDelimView();\n            if (!(isRemoveAll || this.isSelectAll) && this.isSelectAllTarget) {\n                this.updateDelimeter(this.delimiterChar, event);\n            }\n            this.refreshInputHight();\n        }\n        else {\n            this.updateDelimeter(this.delimiterChar, event);\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateDataSource = function (prop) {\n        if (isNullOrUndefined(this.list)) {\n            this.renderPopup();\n        }\n        else {\n            this.resetList(this.dataSource);\n        }\n        if (this.value && this.value.length) {\n            this.setProperties({ 'value': this.value });\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.onLoadSelect = function () {\n        this.setDynValue = true;\n        this.renderPopup();\n    };\n    MultiSelect.prototype.selectAllItems = function (state, event) {\n        var _this = this;\n        if (isNullOrUndefined(this.list)) {\n            this.selectAllAction = function () {\n                if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                    var args = {\n                        module: 'CheckBoxSelection',\n                        enable: _this.mode === 'CheckBox',\n                        value: state ? 'check' : 'uncheck'\n                    };\n                    _this.notify('checkSelectAll', args);\n                }\n                _this.selectAllItem(state, event);\n                _this.selectAllAction = null;\n            };\n            _super.prototype.render.call(this);\n        }\n        else {\n            this.selectAllAction = null;\n            if (this.mode === 'CheckBox' && this.showSelectAll) {\n                var args = {\n                    value: state ? 'check' : 'uncheck',\n                    enable: this.mode === 'CheckBox',\n                    module: 'CheckBoxSelection'\n                };\n                this.notify('checkSelectAll', args);\n            }\n            this.selectAllItem(state, event);\n        }\n        if (!(this.dataSource instanceof DataManager) || (this.dataSource instanceof DataManager && this.virtualSelectAllData)) {\n            this.virtualSelectAll = false;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    MultiSelect.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {MultiSelectModel} newProp - Returns the dynamic property value of the component.\n     * @param {MultiSelectModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    MultiSelect.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))\n            || newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n            if (this.resetFilteredData) {\n                // The filtered data is not being reset in the component after the user focuses out.\n                this.resetMainList = !this.resetMainList ? this.mainList : this.resetMainList;\n                this.resetFilteredData = false;\n            }\n            this.mainList = null;\n            this.mainData = null;\n            this.isFirstClick = false;\n            this.isDynamicDataChange = true;\n        }\n        if (this.getModuleName() === 'multiselect') {\n            this.filterAction = false;\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    if (this.mode === 'CheckBox' && this.showSelectAll) {\n                        if (!isNullOrUndefined(this.popupObj)) {\n                            this.popupObj.destroy();\n                            this.popupObj = null;\n                        }\n                        this.renderPopup();\n                    }\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttribute();\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'text':\n                    this.updateVal(this.value, this.value, 'text');\n                    break;\n                case 'value':\n                    this.updateVal(this.value, oldProp.value, 'value');\n                    this.addValidInputClass();\n                    if (!this.closePopupOnSelect && this.isPopupOpen()) {\n                        this.refreshPopup();\n                    }\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    this.popupObj.setProperties({ width: this.calcPopupWidth() });\n                    break;\n                case 'placeholder':\n                    this.refreshPlaceHolder();\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this.allowFiltering) {\n                        this.notify('filterBarPlaceholder', { filterBarPlaceholder: newProp.filterBarPlaceholder });\n                    }\n                    break;\n                case 'delimiterChar':\n                    if (this.mode !== 'Box') {\n                        this.updateDelimView();\n                    }\n                    this.updateData(newProp.delimiterChar);\n                    break;\n                case 'cssClass':\n                    this.updateOldPropCssClass(oldProp.cssClass);\n                    this.updateCssClass();\n                    this.calculateWidth();\n                    break;\n                case 'enableRtl':\n                    this.enableRTL(newProp.enableRtl);\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    break;\n                case 'readonly':\n                    this.updateReadonly(newProp.readonly);\n                    this.hidePopup();\n                    break;\n                case 'enabled':\n                    this.hidePopup();\n                    this.enable(newProp.enabled);\n                    break;\n                case 'showSelectAll':\n                    if (this.popupObj) {\n                        this.popupObj.destroy();\n                        this.popupObj = null;\n                    }\n                    this.renderPopup();\n                    break;\n                case 'showDropDownIcon':\n                    this.dropDownIcon();\n                    break;\n                case 'floatLabelType':\n                    this.setFloatLabelType();\n                    this.addValidInputClass();\n                    Input.createSpanElement(this.overAllWrapper, this.createElement);\n                    this.calculateWidth();\n                    if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n                        this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'enableSelectionOrder':\n                    break;\n                case 'selectAllText':\n                    this.notify('selectAllText', false);\n                    break;\n                case 'popupHeight':\n                    if (this.popupObj) {\n                        var overAllHeight = parseInt(this.popupHeight, 10);\n                        if (this.popupHeight !== 'auto') {\n                            this.list.style.maxHeight = formatUnit(overAllHeight);\n                            this.popupWrapper.style.maxHeight = formatUnit(this.popupHeight);\n                        }\n                        else {\n                            this.list.style.maxHeight = formatUnit(this.popupHeight);\n                        }\n                    }\n                    break;\n                case 'headerTemplate':\n                case 'footerTemplate':\n                    this.reInitializePoup();\n                    break;\n                case 'allowFiltering':\n                    if (this.mode === 'CheckBox' && this.popupObj) {\n                        this.reInitializePoup();\n                    }\n                    this.updateSelectElementData(this.allowFiltering);\n                    break;\n                case 'fields':\n                    if (isNullOrUndefined(this.fields.groupBy)) {\n                        this.removeScrollEvent();\n                    }\n                    break;\n                default:\n                    {\n                        // eslint-disable-next-line max-len\n                        var msProps = this.getPropObject(prop, newProp, oldProp);\n                        _super.prototype.onPropertyChanged.call(this, msProps.newProperty, msProps.oldProperty);\n                    }\n                    break;\n            }\n        }\n    };\n    MultiSelect.prototype.reInitializePoup = function () {\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            this.popupObj = null;\n        }\n        this.renderPopup();\n    };\n    MultiSelect.prototype.totalItemsCount = function () {\n        var dataSourceCount;\n        if (this.dataSource instanceof DataManager) {\n            if (this.remoteDataCount >= 0) {\n                dataSourceCount = this.totalItemCount = this.dataCount = this.remoteDataCount;\n            }\n            else {\n                this.resetList(this.dataSource);\n            }\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.mode === 'CheckBox') {\n            this.totalItemCount = dataSourceCount != 0 ? dataSourceCount : this.totalItemCount;\n        }\n        else {\n            if (this.hideSelectedItem) {\n                this.totalItemCount = dataSourceCount != 0 && this.value ? dataSourceCount - this.value.length : this.totalItemCount;\n                if (this.allowCustomValue && this.virtualCustomSelectData && this.virtualCustomSelectData.length > 0) {\n                    for (var i = 0; i < this.virtualCustomSelectData.length; i++) {\n                        for (var j = 0; j < this.value.length; j++) {\n                            var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[j]) : this.value[j];\n                            var customValue = getValue((this.fields.value) ? this.fields.value : '', this.virtualCustomSelectData[i]);\n                            if (value === customValue) {\n                                this.totalItemCount += 1;\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                this.totalItemCount = dataSourceCount != 0 ? dataSourceCount : this.totalItemCount;\n                if (this.allowCustomValue && this.virtualCustomSelectData && this.virtualCustomSelectData.length > 0) {\n                    this.totalItemCount += this.virtualCustomSelectData.length;\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.presentItemValue = function (ulElement) {\n        var valuecheck = [];\n        for (var i = 0; i < this.value.length; i++) {\n            var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[i]) : this.value[i];\n            var checkEle = this.findListElement(((this.allowFiltering && !isNullOrUndefined(this.mainList)) ? this.mainList : ulElement), 'li', 'data-value', value);\n            if (!checkEle) {\n                var checkvalue = this.allowObjectBinding ? this.getDataByValue(this.value[i]) : this.value[i];\n                valuecheck.push(checkvalue);\n            }\n        }\n        return valuecheck;\n    };\n    ;\n    MultiSelect.prototype.addNonPresentItems = function (valuecheck, ulElement, list, event) {\n        var _this = this;\n        this.dataSource.executeQuery(this.getForQuery(valuecheck)).then(function (e) {\n            if (e.result.length > 0) {\n                _this.addItem(e.result, list.length);\n            }\n            _this.updateActionList(ulElement, list, event);\n        });\n    };\n    ;\n    MultiSelect.prototype.updateVal = function (newProp, oldProp, prop) {\n        if (!this.list) {\n            this.onLoadSelect();\n        }\n        else if ((this.dataSource instanceof DataManager) && (!this.listData || !(this.mainList && this.mainData))) {\n            this.onLoadSelect();\n        }\n        else {\n            var valuecheck = [];\n            if (!isNullOrUndefined(this.value) && !this.allowCustomValue) {\n                valuecheck = this.presentItemValue(this.ulElement);\n            }\n            if (prop == 'value' && valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value)\n                && this.listData != null && !this.enableVirtualization) {\n                this.mainData = null;\n                this.setDynValue = true;\n                this.addNonPresentItems(valuecheck, this.ulElement, this.listData);\n            }\n            else {\n                if (prop === 'text') {\n                    this.initialTextUpdate();\n                    newProp = this.value;\n                }\n                if (isNullOrUndefined(this.value) || this.value.length === 0) {\n                    this.tempValues = oldProp;\n                }\n                // eslint-disable-next-line\n                if (this.allowCustomValue && (this.mode === 'Default' || this.mode === 'Box') && this.isReact && this.inputFocus\n                    && this.isPopupOpen() && this.mainData !== this.listData) {\n                    var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                    this.onActionComplete(list, this.mainData);\n                }\n                if (!this.enableVirtualization || (this.enableVirtualization && (!(this.dataSource instanceof DataManager)))) {\n                    this.initialValueUpdate();\n                }\n                if (this.mode !== 'Box' && !this.inputFocus) {\n                    this.updateDelimView();\n                }\n                if (!this.inputFocus) {\n                    this.refreshInputHight();\n                }\n                this.refreshPlaceHolder();\n                if (this.mode !== 'CheckBox' && this.changeOnBlur) {\n                    this.updateValueState(null, newProp, oldProp);\n                }\n                this.checkPlaceholderSize();\n            }\n        }\n        if (!this.changeOnBlur) {\n            this.updateValueState(null, newProp, oldProp);\n        }\n    };\n    /**\n     * Adds a new item to the multiselect popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     */\n    MultiSelect.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Hides the popup, if the popup in a open state.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.hidePopup = function (e) {\n        var _this = this;\n        var delay = 100;\n        if (this.isPopupOpen()) {\n            var animModel = {\n                name: 'FadeOut',\n                duration: 100,\n                delay: delay ? delay : 0\n            };\n            this.customFilterQuery = null;\n            var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel, event: e || null };\n            this.trigger('close', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (_this.fields.groupBy && _this.mode !== 'CheckBox' && _this.fixedHeaderElement) {\n                        remove(_this.fixedHeaderElement);\n                        _this.fixedHeaderElement = null;\n                    }\n                    _this.beforePopupOpen = false;\n                    _this.overAllWrapper.classList.remove(iconAnimation);\n                    var typedValue = _this.mode == 'CheckBox' ? _this.targetElement() : null;\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                    attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                    _this.inputElement.removeAttribute('aria-owns');\n                    _this.inputElement.removeAttribute('aria-activedescendant');\n                    if (_this.allowFiltering) {\n                        _this.notify('inputFocus', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', value: 'clear' });\n                    }\n                    _this.popupObj.hide();\n                    removeClass([document.body, _this.popupObj.element], 'e-popup-full-page');\n                    EventHandler.remove(_this.list, 'keydown', _this.onKeyDown);\n                    if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                        EventHandler.remove(_this.popupObj.element, 'click', _this.clickHandler);\n                    }\n                    if (_this.enableVirtualization && _this.mode === 'CheckBox' && _this.value && _this.value.length > 0 && _this.enableSelectionOrder) {\n                        _this.viewPortInfo.startIndex = _this.virtualItemStartIndex = 0;\n                        _this.viewPortInfo.endIndex = _this.virtualItemEndIndex = _this.viewPortInfo.startIndex > 0 ? _this.viewPortInfo.endIndex : _this.itemCount;\n                        _this.virtualListInfo = _this.viewPortInfo;\n                        _this.previousStartIndex = 0;\n                        _this.previousEndIndex = 0;\n                    }\n                    var dataSourceCount = void 0;\n                    if (_this.dataSource instanceof DataManager) {\n                        if (_this.remoteDataCount >= 0) {\n                            _this.totalItemCount = _this.dataCount = _this.remoteDataCount;\n                        }\n                        else {\n                            _this.resetList(_this.dataSource);\n                        }\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        dataSourceCount = _this.dataSource && _this.dataSource.length ? _this.dataSource.length : 0;\n                    }\n                    if (_this.enableVirtualization && (_this.allowFiltering || _this.allowCustomValue) && (_this.targetElement() || typedValue) && _this.totalItemCount !== dataSourceCount) {\n                        _this.updateInitialData();\n                        _this.checkAndResetCache();\n                    }\n                    if (_this.virtualCustomData && _this.viewPortInfo && _this.viewPortInfo.startIndex === 0 && _this.viewPortInfo.endIndex === _this.itemCount) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.renderItems(_this.mainData, _this.fields);\n                    }\n                    _this.virtualCustomData = null;\n                    _this.isVirtualTrackHeight = false;\n                }\n            });\n        }\n    };\n    /**\n     * Shows the popup, if the popup in a closed state.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.showPopup = function (e) {\n        var _this = this;\n        if (!this.enabled) {\n            return;\n        }\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                if (!_this.ulElement) {\n                    _this.beforePopupOpen = true;\n                    if (_this.mode === 'CheckBox' && Browser.isDevice && _this.allowFiltering) {\n                        _this.notify('popupFullScreen', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox' });\n                    }\n                    _super.prototype.render.call(_this, e);\n                    return;\n                }\n                if (_this.mode === 'CheckBox' && Browser.isDevice && _this.allowFiltering) {\n                    _this.notify('popupFullScreen', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox' });\n                }\n                var mainLiLength = _this.ulElement.querySelectorAll('li.' + 'e-list-item').length;\n                var liLength = _this.ulElement.querySelectorAll('li.'\n                    + dropDownBaseClasses.li + '.' + HIDE_LIST).length;\n                if (mainLiLength > 0 && (mainLiLength === liLength) && (liLength === _this.mainData.length) && !(_this.targetElement() !== '' && _this.allowCustomValue)) {\n                    _this.beforePopupOpen = false;\n                    return;\n                }\n                _this.onPopupShown(e);\n                if (_this.enableVirtualization && _this.listData && _this.listData.length) {\n                    if (!isNullOrUndefined(_this.value) && (_this.getModuleName() === 'dropdownlist' || _this.getModuleName() === 'combobox')) {\n                        _this.removeHover();\n                    }\n                    if (!_this.beforePopupOpen) {\n                        if (_this.hideSelectedItem && _this.value && Array.isArray(_this.value) && _this.value.length > 0) {\n                            _this.totalItemsCount();\n                        }\n                        if (!_this.preventSetCurrentData && !isNullOrUndefined(_this.viewPortInfo.startIndex) && !isNullOrUndefined(_this.viewPortInfo.endIndex)) {\n                            _this.notify(\"setCurrentViewDataAsync\", {\n                                component: _this.getModuleName(),\n                                module: \"VirtualScroll\",\n                            });\n                        }\n                    }\n                }\n                if (_this.enableVirtualization && !_this.allowFiltering && _this.selectedValueInfo != null && _this.selectedValueInfo.startIndex > 0 && _this.value != null) {\n                    _this.notify(\"dataProcessAsync\", {\n                        module: \"VirtualScroll\",\n                        isOpen: true,\n                    });\n                }\n                if (_this.enableVirtualization) {\n                    _this.updatevirtualizationList();\n                }\n                else {\n                    if (_this.value && _this.value.length) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var element = void 0;\n                        var listItems = _this.getItems();\n                        for (var _i = 0, _a = _this.value; _i < _a.length; _i++) {\n                            var value = _a[_i];\n                            var checkValue = _this.allowObjectBinding ? getValue((_this.fields.value) ? _this.fields.value : '', value) : value;\n                            element = _this.getElementByValue(checkValue);\n                            if (element) {\n                                _this.addListSelection(element);\n                            }\n                        }\n                    }\n                }\n                _this.preventSetCurrentData = true;\n            }\n        });\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected/deselected.\n     * parameter\n     * `true`   - Selects entire list items.\n     * `false`  - Un Selects entire list items.\n     *\n     * @param {boolean} state - if it’s true then Selects the entire list items. If it’s false the Unselects entire list items.\n     * @returns {void}\n     */\n    MultiSelect.prototype.selectAll = function (state) {\n        this.isSelectAll = true;\n        this.selectAllItems(state);\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    MultiSelect.prototype.getModuleName = function () {\n        return 'multiselect';\n    };\n    /**\n     * Allows you to clear the selected values from the Multiselect component.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.clear = function () {\n        var _this = this;\n        this.selectAll(false);\n        if (this.value && this.value.length) {\n            setTimeout(function () {\n                _this.setProperties({ value: null }, true);\n            }, 0);\n        }\n        else {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiSelect.prototype.render = function () {\n        if (!isNullOrUndefined(this.value)) {\n            // eslint-disable-next-line\n            this.value = this.value.slice();\n        }\n        this.setDynValue = this.initStatus = false;\n        this.isSelectAll = false;\n        this.selectAllEventEle = [];\n        this.searchWrapper = this.createElement('span', { className: SEARCHBOX_WRAPPER + ' ' + ((this.mode === 'Box') ? BOX_ELEMENT : '') });\n        this.viewWrapper = this.createElement('span', { className: DELIMITER_VIEW + ' ' + DELIMITER_WRAPPER, styles: 'display:none;' });\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS, styles: 'display:none;'\n        });\n        this.componentWrapper = this.createElement('div', { className: ELEMENT_WRAPPER });\n        this.overAllWrapper = this.createElement('div', { className: OVER_ALL_WRAPPER });\n        if (this.mode === 'CheckBox') {\n            addClass([this.overAllWrapper], 'e-checkbox');\n        }\n        if (Browser.isDevice) {\n            this.componentWrapper.classList.add(ELEMENT_MOBILE_WRAPPER);\n        }\n        this.setWidth(this.width);\n        this.overAllWrapper.appendChild(this.componentWrapper);\n        this.popupWrapper = this.createElement('div', { id: this.element.id + '_popup', className: POPUP_WRAPPER });\n        this.popupWrapper.setAttribute('aria-label', this.element.id);\n        this.popupWrapper.setAttribute('role', 'dialog');\n        if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n            this.delimiterWrapper = this.createElement('span', { className: DELIMITER_WRAPPER, styles: 'display:none' });\n            this.componentWrapper.appendChild(this.delimiterWrapper);\n        }\n        else {\n            this.chipCollectionWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER,\n                styles: 'display:none'\n            });\n            if (this.mode === 'Default') {\n                this.chipCollectionWrapper.setAttribute('id', getUniqueID('chip_default'));\n            }\n            else if (this.mode === 'Box') {\n                this.chipCollectionWrapper.setAttribute('id', getUniqueID('chip_box'));\n            }\n            this.componentWrapper.appendChild(this.chipCollectionWrapper);\n        }\n        if (this.mode !== 'Box') {\n            this.componentWrapper.appendChild(this.viewWrapper);\n        }\n        this.componentWrapper.appendChild(this.searchWrapper);\n        if (this.showClearButton && !Browser.isDevice) {\n            this.componentWrapper.appendChild(this.overAllClear);\n        }\n        else {\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n        this.dropDownIcon();\n        this.inputElement = this.createElement('input', {\n            className: INPUT_ELEMENT,\n            attrs: {\n                spellcheck: 'false',\n                type: 'text',\n                autocomplete: 'off',\n                tabindex: '0',\n                role: 'combobox'\n            }\n        });\n        if (this.mode === 'Default' || this.mode === 'Box') {\n            this.inputElement.setAttribute('aria-describedby', this.chipCollectionWrapper.id);\n        }\n        if (!isNullOrUndefined(this.inputElement)) {\n            attributes(this.inputElement, { 'aria-expanded': 'false', 'aria-label': this.getModuleName() });\n        }\n        if (this.element.tagName !== this.getNgDirective()) {\n            this.element.style.display = 'none';\n        }\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.overAllWrapper);\n            this.searchWrapper.appendChild(this.inputElement);\n        }\n        else {\n            this.element.parentElement.insertBefore(this.overAllWrapper, this.element);\n            this.searchWrapper.appendChild(this.inputElement);\n            this.searchWrapper.appendChild(this.element);\n            this.element.removeAttribute('tabindex');\n        }\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n        else if (this.floatLabelType === 'Never') {\n            this.refreshPlaceHolder();\n        }\n        this.addValidInputClass();\n        this.element.style.opacity = '';\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'class': HIDDEN_ELEMENT, 'tabindex': '-1', 'multiple': '' }\n        });\n        this.componentWrapper.appendChild(this.hiddenElement);\n        this.validationAttribute(this.element, this.hiddenElement);\n        if (this.mode !== 'CheckBox') {\n            this.hideOverAllClear();\n        }\n        if (!isNullOrUndefined(closest(this.element, \"fieldset\")) && closest(this.element, \"fieldset\").disabled) {\n            this.enabled = false;\n        }\n        this.wireEvent();\n        this.enable(this.enabled);\n        this.enableRTL(this.enableRtl);\n        if (this.enableVirtualization) {\n            this.updateVirtualizationProperties(this.itemCount, this.allowFiltering, this.mode === 'CheckBox');\n        }\n        this.listItemHeight = this.getListHeight();\n        this.getSkeletonCount();\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.viewPortInfo.startIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n        this.checkInitialValue();\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        Input.createSpanElement(this.overAllWrapper, this.createElement);\n        this.calculateWidth();\n        if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n            this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n        this.renderComplete();\n    };\n    MultiSelect.prototype.getListHeight = function () {\n        var listParent = this.createElement('div', {\n            className: 'e-dropdownbase'\n        });\n        var item = this.createElement('li', {\n            className: 'e-list-item'\n        });\n        var listParentHeight = formatUnit(this.popupHeight);\n        listParent.style.height = (parseInt(listParentHeight, 10)).toString() + 'px';\n        listParent.appendChild(item);\n        document.body.appendChild(listParent);\n        this.virtualListHeight = listParent.getBoundingClientRect().height;\n        var listItemHeight = Math.ceil(item.getBoundingClientRect().height);\n        listParent.remove();\n        return listItemHeight;\n    };\n    MultiSelect.prototype.checkInitialValue = function () {\n        var _this = this;\n        var isData = this.dataSource instanceof Array ? (this.dataSource.length > 0)\n            : !isNullOrUndefined(this.dataSource);\n        if (!(this.value && this.value.length) &&\n            isNullOrUndefined(this.text) &&\n            !isData &&\n            this.element.tagName === 'SELECT' &&\n            this.element.options.length > 0) {\n            var optionsElement = this.element.options;\n            var valueCol = [];\n            var textCol = '';\n            for (var index = 0, optionsLen = optionsElement.length; index < optionsLen; index++) {\n                var opt = optionsElement[index];\n                if (!isNullOrUndefined(opt.getAttribute('selected'))) {\n                    if (opt.getAttribute('value')) {\n                        var value = this.allowObjectBinding ? this.getDataByValue(opt.getAttribute('value')) : opt.getAttribute('value');\n                        valueCol.push(value);\n                    }\n                    else {\n                        textCol += (opt.text + this.delimiterChar);\n                    }\n                }\n            }\n            if (valueCol.length > 0) {\n                this.setProperties({ value: valueCol }, true);\n            }\n            else if (textCol !== '') {\n                this.setProperties({ text: textCol }, true);\n            }\n            if (valueCol.length > 0 || textCol !== '') {\n                this.refreshInputHight();\n                this.refreshPlaceHolder();\n            }\n        }\n        if ((this.value && this.value.length) || !isNullOrUndefined(this.text)) {\n            if (!this.list) {\n                _super.prototype.render.call(this);\n            }\n        }\n        if (!isNullOrUndefined(this.text) && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n            this.initialTextUpdate();\n        }\n        if (this.value && this.value.length) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var listItems_2;\n            if (this.enableVirtualization) {\n                var fields = (this.fields.value) ? this.fields.value : '';\n                var predicate = void 0;\n                for (var i = 0; i < this.value.length; i++) {\n                    var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[i]) : this.value[i];\n                    if (i === 0) {\n                        predicate = new Predicate(fields, 'equal', value);\n                    }\n                    else {\n                        predicate = predicate.or(fields, 'equal', value);\n                    }\n                }\n                if (this.dataSource instanceof DataManager) {\n                    this.dataSource.executeQuery(new Query().where(predicate))\n                        .then(function (e) {\n                        if (e.result.length > 0) {\n                            listItems_2 = e.result;\n                            _this.initStatus = false;\n                            _this.initialValueUpdate(listItems_2, true);\n                            _this.initialUpdate();\n                            _this.initStatus = true;\n                        }\n                    });\n                }\n                else {\n                    listItems_2 = new DataManager(this.dataSource).executeLocal(new Query().where(predicate));\n                }\n            }\n            if (!(this.dataSource instanceof DataManager)) {\n                this.initialValueUpdate(listItems_2);\n                this.initialUpdate();\n            }\n            else {\n                this.setInitialValue = function () {\n                    _this.initStatus = false;\n                    if (!_this.enableVirtualization || (_this.enableVirtualization && (!(_this.dataSource instanceof DataManager)))) {\n                        _this.initialValueUpdate(listItems_2);\n                    }\n                    _this.initialUpdate();\n                    _this.setInitialValue = null;\n                    _this.initStatus = true;\n                };\n            }\n            this.updateTempValue();\n        }\n        else {\n            this.initialUpdate();\n        }\n        this.initStatus = true;\n        this.checkAutoFocus();\n        if (!isNullOrUndefined(this.text)) {\n            this.element.setAttribute('data-initial-value', this.text);\n        }\n    };\n    MultiSelect.prototype.checkAutoFocus = function () {\n        if (this.element.hasAttribute('autofocus')) {\n            this.inputElement.focus();\n        }\n    };\n    MultiSelect.prototype.updatevirtualizationList = function () {\n        if (this.value && this.value.length) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var element = void 0;\n            var listItems = this.getItems();\n            for (var _i = 0, _a = this.value; _i < _a.length; _i++) {\n                var value = _a[_i];\n                var checkValue = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n                element = this.getElementByValue(checkValue);\n                if (element) {\n                    this.addListSelection(element);\n                }\n            }\n            if (this.enableVirtualization && this.hideSelectedItem) {\n                var visibleListElements = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li\n                    + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)' + ':not(.e-virtual-list)');\n                if (visibleListElements.length) {\n                    var actualCount = this.virtualListHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n                    if (visibleListElements.length < (actualCount + 2)) {\n                        var query = this.getForQuery(this.value).clone();\n                        query = query.skip(this.viewPortInfo.startIndex);\n                        this.resetList(this.dataSource, this.fields, query);\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.setFloatLabelType = function () {\n        removeFloating(this.overAllWrapper, this.componentWrapper, this.searchWrapper, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n    };\n    MultiSelect.prototype.addValidInputClass = function () {\n        if (!isNullOrUndefined(this.overAllWrapper)) {\n            if ((!isNullOrUndefined(this.value) && this.value.length) || this.floatLabelType === 'Always') {\n                addClass([this.overAllWrapper], 'e-valid-input');\n            }\n            else {\n                removeClass([this.overAllWrapper], 'e-valid-input');\n            }\n        }\n    };\n    MultiSelect.prototype.dropDownIcon = function () {\n        if (this.showDropDownIcon) {\n            this.dropIcon = this.createElement('span', { className: dropdownIcon });\n            this.componentWrapper.appendChild(this.dropIcon);\n            addClass([this.componentWrapper], ['e-down-icon']);\n        }\n        else {\n            if (!isNullOrUndefined(this.dropIcon)) {\n                this.dropIcon.parentElement.removeChild(this.dropIcon);\n                removeClass([this.componentWrapper], ['e-down-icon']);\n            }\n        }\n    };\n    MultiSelect.prototype.initialUpdate = function () {\n        if (this.mode !== 'Box' && !(this.setDynValue && this.mode === 'Default' && this.inputFocus)) {\n            this.updateDelimView();\n        }\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n        this.updateCssClass();\n        this.updateHTMLAttribute();\n        this.updateReadonly(this.readonly);\n        this.refreshInputHight();\n        this.checkPlaceholderSize();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    MultiSelect.prototype.destroy = function () {\n        // eslint-disable-next-line\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        if (this.popupObj) {\n            this.popupObj.hide();\n        }\n        this.notify(destroy, {});\n        this.unwireListEvents();\n        this.unWireEvent();\n        this.list = null;\n        this.popupObj = null;\n        this.mainList = null;\n        this.mainData = null;\n        this.filterParent = null;\n        this.ulElement = null;\n        this.mainListCollection = null;\n        _super.prototype.destroy.call(this);\n        var temp = ['readonly', 'aria-disabled', 'placeholder', 'aria-label', 'aria-expanded'];\n        var length = temp.length;\n        if (!isNullOrUndefined(this.inputElement)) {\n            while (length > 0) {\n                this.inputElement.removeAttribute(temp[length - 1]);\n                length--;\n            }\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.element.removeAttribute('data-initial-value');\n            this.element.style.display = 'block';\n        }\n        if (this.overAllWrapper && this.overAllWrapper.parentElement) {\n            if (this.overAllWrapper.parentElement.tagName === this.getNgDirective()) {\n                remove(this.overAllWrapper);\n            }\n            else {\n                this.overAllWrapper.parentElement.insertBefore(this.element, this.overAllWrapper);\n                remove(this.overAllWrapper);\n            }\n        }\n        this.componentWrapper = null;\n        this.overAllClear = null;\n        this.overAllWrapper = null;\n        this.hiddenElement = null;\n        this.searchWrapper = null;\n        this.viewWrapper = null;\n        this.chipCollectionWrapper = null;\n        this.targetInputElement = null;\n        this.popupWrapper = null;\n        this.inputElement = null;\n        this.delimiterWrapper = null;\n        this.popupObj = null;\n        this.popupWrapper = null;\n        this.liCollections = null;\n        this.header = null;\n        this.mainList = null;\n        this.mainListCollection = null;\n        this.footer = null;\n        this.selectAllEventEle = null;\n    };\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], MultiSelect.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], MultiSelect.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], MultiSelect.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], MultiSelect.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property([])\n    ], MultiSelect.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"query\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], MultiSelect.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(1000)\n    ], MultiSelect.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], MultiSelect.prototype, \"locale\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"enableGroupCheckBox\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], MultiSelect.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], MultiSelect.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], MultiSelect.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], MultiSelect.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"changeOnBlur\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"allowCustomValue\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(1000)\n    ], MultiSelect.prototype, \"maximumSelectionLength\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"allowObjectBinding\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"hideSelectedItem\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"closePopupOnSelect\", void 0);\n    __decorate([\n        Property('Default')\n    ], MultiSelect.prototype, \"mode\", void 0);\n    __decorate([\n        Property(',')\n    ], MultiSelect.prototype, \"delimiterChar\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"showDropDownIcon\", void 0);\n    __decorate([\n        Property('Never')\n    ], MultiSelect.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Select All')\n    ], MultiSelect.prototype, \"selectAllText\", void 0);\n    __decorate([\n        Property('Unselect All')\n    ], MultiSelect.prototype, \"unSelectAllText\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enableSelectionOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"openOnClick\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"addTagOnBlur\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"beforeSelectAll\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"selectedAll\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"chipSelection\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"tagging\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"customValueSelection\", void 0);\n    MultiSelect = __decorate([\n        NotifyPropertyChanges\n    ], MultiSelect);\n    return MultiSelect;\n}(DropDownBase));\nexport { MultiSelect };\n","import { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { EventHandler, select, removeClass, addClass, detach, compile, L10n } from '@syncfusion/ej2-base';\nimport { Browser, attributes, isNullOrUndefined, append, closest, prepend } from '@syncfusion/ej2-base';\nimport { dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nvar ICON = 'e-icons';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar INDETERMINATE = 'e-stop';\nvar checkAllParent = 'e-selectall-parent';\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\nvar filterInput = 'e-input-filter';\nvar filterParent = 'e-filter-parent';\nvar mobileFilter = 'e-ddl-device-filter';\nvar clearIcon = 'e-clear-icon';\nvar popupFullScreen = 'e-popup-full-page';\nvar device = 'e-ddl-device';\nvar FOCUS = 'e-input-focus';\n/**\n * The Multiselect enable CheckBoxSelection call this inject module.\n */\nvar CheckBoxSelection = /** @class */ (function () {\n    function CheckBoxSelection(parent) {\n        this.activeLi = [];\n        this.activeEle = [];\n        this.parent = parent;\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    CheckBoxSelection.prototype.getModuleName = function () {\n        return 'CheckBoxSelection';\n    };\n    CheckBoxSelection.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('updatelist', this.listSelection, this);\n        this.parent.on('listoption', this.listOption, this);\n        this.parent.on('selectAll', this.setSelectAll, this);\n        this.parent.on('checkSelectAll', this.checkSelectAll, this);\n        this.parent.on('searchBox', this.setSearchBox, this);\n        this.parent.on('blur', this.onBlurHandler, this);\n        this.parent.on('targetElement', this.targetElement, this);\n        this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\n        this.parent.on('inputFocus', this.getFocus, this);\n        this.parent.on('reOrder', this.setReorder, this);\n        this.parent.on('activeList', this.getActiveList, this);\n        this.parent.on('selectAllText', this.setLocale, this);\n        this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\n        EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n        this.parent.on('addItem', this.checboxCreate, this);\n        this.parent.on('popupFullScreen', this.setPopupFullScreen, this);\n    };\n    CheckBoxSelection.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updatelist', this.listSelection);\n        this.parent.off('listoption', this.listOption);\n        this.parent.off('selectAll', this.setSelectAll);\n        this.parent.off('checkSelectAll', this.checkSelectAll);\n        this.parent.off('searchBox', this.setSearchBox);\n        this.parent.off('blur', this.onBlurHandler);\n        this.parent.off('targetElement', this.targetElement);\n        this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\n        this.parent.off('inputFocus', this.getFocus);\n        this.parent.off('reOrder', this.setReorder);\n        this.parent.off('activeList', this.getActiveList);\n        this.parent.off('selectAllText', this.setLocale);\n        this.parent.off('filterBarPlaceholder', this.setPlaceholder);\n        this.parent.off('addItem', this.checboxCreate);\n        this.parent.off('popupFullScreen', this.setPopupFullScreen);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.listOption = function (args) {\n        var _this = this;\n        if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n            };\n        }\n        else {\n            var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n    };\n    CheckBoxSelection.prototype.setPlaceholder = function (props) {\n        Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\n    };\n    CheckBoxSelection.prototype.checboxCreate = function (e) {\n        var item;\n        if (!isNullOrUndefined(e.item)) {\n            item = e.item;\n        }\n        else {\n            item = e;\n        }\n        if (this.parent.enableGroupCheckBox || (item.className !== 'e-list-group-item '\n            && item.className !== 'e-list-group-item')) {\n            var checkboxEle = createCheckBox(this.parent.createElement, true);\n            var icon = select('div.' + ICON, item);\n            item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n            select('.' + CHECKBOXFRAME, checkboxEle);\n            if (this.parent.enableGroupCheckBox) {\n                this.parent.popupWrapper.classList.add('e-multiselect-group');\n            }\n            return item;\n        }\n        else {\n            return item;\n        }\n    };\n    CheckBoxSelection.prototype.setSelectAll = function () {\n        if (this.parent.showSelectAll) {\n            if (isNullOrUndefined(this.checkAllParent)) {\n                this.checkAllParent = this.parent.createElement('div', {\n                    className: checkAllParent\n                });\n                this.selectAllSpan = this.parent.createElement('span', {\n                    className: 'e-all-text'\n                });\n                this.selectAllSpan.textContent = '';\n                this.checkAllParent.appendChild(this.selectAllSpan);\n                this.setLocale();\n                this.checboxCreate(this.checkAllParent);\n                if (this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\n                        append([this.checkAllParent], this.parent.filterParent);\n                    }\n                    else {\n                        append([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                if (!this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\n                        this.parent.filterParent.parentNode.insertBefore(this.checkAllParent, this.parent.filterParent.nextSibling);\n                    }\n                    else {\n                        prepend([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\n            }\n            if (this.parent.list.classList.contains('e-nodata') || (this.parent.listData && this.parent.listData.length <= 1 && !this.parent.enableVirtualization &&\n                !(this.parent.isDynamicDataChange)) || (this.parent.isDynamicDataChange &&\n                this.parent.listData && this.parent.listData.length <= 1)) {\n                this.checkAllParent.style.display = 'none';\n            }\n            else {\n                this.checkAllParent.style.display = 'block';\n            }\n            this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        else if (!isNullOrUndefined(this.checkAllParent)) {\n            this.checkAllParent.parentElement.removeChild(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    CheckBoxSelection.prototype.destroy = function () {\n        this.removeEventListener();\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.checkAllParent = null;\n        this.clearIconElement = null;\n        this.filterInput = null;\n        this.filterInputObj = null;\n        this.checkWrapper = null;\n        this.selectAllSpan = null;\n    };\n    CheckBoxSelection.prototype.listSelection = function (args) {\n        var target;\n        if (!isNullOrUndefined(args.e)) {\n            var frameElm = args.li.querySelector('.e-checkbox-wrapper .e-frame');\n            target = !isNullOrUndefined(args.e.target) ?\n                (args.e.target.classList.contains('e-frame')\n                    && (!this.parent.showSelectAll\n                        || (this.checkAllParent && !this.checkAllParent.contains(args.e.target)))) ?\n                    args.e.target : args.li.querySelector('.e-checkbox-wrapper').childNodes[1]\n                : args.li.querySelector('.e-checkbox-wrapper').childNodes[1];\n        }\n        else {\n            var checkboxWrapper = args.li.querySelector('.e-checkbox-wrapper');\n            target = checkboxWrapper ? checkboxWrapper.childNodes[1] : args.li.lastElementChild.childNodes[1];\n        }\n        if (this.parent.itemTemplate || this.parent.enableGroupCheckBox) {\n            target = args.li.firstElementChild.childNodes[1];\n        }\n        if (!isNullOrUndefined(target)) {\n            this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        }\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            var selectAll = false;\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), args.li, args.e, selectAll);\n        }\n    };\n    CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll) {\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll);\n    };\n    CheckBoxSelection.prototype.clickHandler = function (e) {\n        var target;\n        if (e.currentTarget.classList.contains(this.checkAllParent.className) || (e.currentTarget.classList.value === this.checkAllParent.className)) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.currentTarget;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        var selectAll = true;\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), null, e, selectAll);\n        }\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (selectAll) {\n                this.parent.selectAllItems(true, e);\n                this.setLocale(true);\n            }\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            ariaState = 'false';\n            if (selectAll) {\n                this.parent.selectAllItems(false, e);\n                this.setLocale();\n            }\n        }\n        else if (state === 'indeterminate' && !(frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK]);\n            frameSpan.classList.add(INDETERMINATE);\n            ariaState = 'false';\n            if (selectAll) {\n                this.parent.selectAllItems(false, e);\n                this.setLocale();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.setSearchBox = function (args) {\n        if (isNullOrUndefined(this.parent.filterParent)) {\n            this.parent.filterParent = this.parent.createElement('span', {\n                className: filterParent\n            });\n            this.filterInput = this.parent.createElement('input', {\n                attrs: { type: 'text' },\n                className: filterInput\n            });\n            this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n                this.parent.mobFilter = false;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\n                properties: { placeholder: this.parent.filterBarPlaceholder }\n            }, this.parent.createElement);\n            if (!isNullOrUndefined(this.parent.cssClass)) {\n                if (this.parent.cssClass.split(' ').indexOf('e-outline') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-outline');\n                }\n                else if (this.parent.cssClass.split(' ').indexOf('e-filled') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-filled');\n                }\n            }\n            append([this.filterInputObj.container], this.parent.filterParent);\n            prepend([this.parent.filterParent], args.popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'role': 'combobox',\n                'autocomplete': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false',\n                'aria-label': 'multiselect',\n                'aria-expanded': 'true',\n                'aria-controls': args.popupElement.id\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\n            EventHandler.add(this.filterInput, 'keyup', this.parent.keyUp, this.parent);\n            EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\n            EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n            EventHandler.add(this.filterInput, 'paste', this.parent.pasteHandler, this.parent);\n            this.parent.searchBoxHeight = (this.filterInputObj.container.parentElement).getBoundingClientRect().height;\n            return this.filterInputObj;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\n        this.parent.hidePopup();\n        removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\n        this.parent.inputElement.focus();\n    };\n    CheckBoxSelection.prototype.clearText = function (e) {\n        this.parent.targetInputElement.value = '';\n        if (this.parent.allowFiltering && this.parent.targetInputElement.value === '') {\n            this.parent.search(null);\n        }\n        this.parent.refreshListItems(null);\n        this.parent.refreshPopup();\n        this.clearIconElement.style.visibility = 'hidden';\n        this.filterInput.focus();\n        this.setReorder(e);\n        this.boundPreventListSelection = this.preventListSelection.bind(this);\n        this.parent.popupWrapper.addEventListener('mouseup', this.boundPreventListSelection, true);\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.preventListSelection = function (e) {\n        e.stopPropagation();\n        this.parent.popupWrapper.removeEventListener('mouseup', this.boundPreventListSelection, true);\n        this.boundPreventListSelection = null;\n    };\n    CheckBoxSelection.prototype.setDeviceSearchBox = function () {\n        this.parent.popupObj.element.classList.add(device);\n        this.parent.popupObj.element.classList.add(mobileFilter);\n        this.parent.popupObj.position = { X: 0, Y: 0 };\n        this.parent.popupObj.dataBind();\n        this.setSearchBoxPosition();\n        this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\n        this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\n        this.clearIconElement.style.visibility = 'hidden';\n        EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n        EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n    };\n    CheckBoxSelection.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        var selectAllHeight = 0;\n        if (this.checkAllParent) {\n            selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        this.parent.popupObj.element.style.maxHeight = '100%';\n        this.parent.popupObj.element.style.width = '100%';\n        this.parent.list.style.maxHeight = (window.innerHeight - searchBoxHeight - selectAllHeight) + 'px';\n        this.parent.list.style.height = (window.innerHeight - searchBoxHeight - selectAllHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    CheckBoxSelection.prototype.setPopupFullScreen = function () {\n        if (this.parent && this.parent.popupObj) {\n            attributes(this.parent.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n            addClass([document.body, this.parent.popupObj.element], popupFullScreen);\n            this.parent.popupObj.element.style.maxHeight = '100%';\n            this.parent.popupObj.element.style.width = '100%';\n        }\n    };\n    CheckBoxSelection.prototype.targetElement = function () {\n        if (!isNullOrUndefined(this.clearIconElement)) {\n            this.parent.targetInputElement = this.filterInput;\n            this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\n        }\n        return this.parent.targetInputElement.value;\n    };\n    CheckBoxSelection.prototype.onBlurHandler = function (e) {\n        if (!this.parent.element.classList.contains('e-listbox')) {\n            var target = void 0;\n            if (this.parent.keyAction) {\n                return;\n            }\n            if (Browser.isIE) {\n                target = !isNullOrUndefined(e) && e.target;\n            }\n            if (!Browser.isIE) {\n                target = !isNullOrUndefined(e) && e.relatedTarget;\n            }\n            // eslint-disable-next-line max-len\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target)\n                && !Browser.isIE && this.filterInput) {\n                this.filterInput.focus();\n                return;\n            }\n            if (this.parent.scrollFocusStatus && this.filterInput) {\n                e.preventDefault();\n                this.filterInput.focus();\n                this.parent.scrollFocusStatus = false;\n                return;\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element)\n                && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n                this.parent.inputFocus = false;\n                this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\n                this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\n                !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n                this.parent.inputFocus = false;\n                this.parent.overAllWrapper.classList.remove(FOCUS);\n                this.parent.trigger('blur');\n                this.parent.focused = true;\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\n                !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\n                this.parent.hidePopup();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.onDocumentClick = function (e) {\n        if (this.parent.getLocaleName() !== 'listbox') {\n            var target = e.target;\n            if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) {\n                if (!(this.filterInput && this.filterInput.value !== '')) {\n                    e.preventDefault();\n                }\n            }\n            if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]'))\n                && !isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target)) {\n                if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\n                    this.parent.inputFocus = false;\n                    this.parent.scrollFocusStatus = false;\n                    this.parent.hidePopup();\n                    this.parent.onBlurHandler(e, true);\n                    this.parent.focused = true;\n                }\n            }\n            else {\n                this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') &&\n                    (document.activeElement === this.filterInput);\n            }\n            if (!isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') &&\n                !this.parent.isPopupOpen()) {\n                if (Browser.isIE) {\n                    this.parent.onBlurHandler();\n                }\n                else {\n                    this.parent.onBlurHandler(e);\n                }\n            }\n            if (this.filterInput === target) {\n                this.filterInput.focus();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.getFocus = function (e) {\n        this.parent.overAllWrapper.classList.remove(FOCUS);\n        if (this.parent.keyAction && e.value !== 'clear' && e.value !== 'focus') {\n            this.parent.keyAction = false;\n            return;\n        }\n        if (e.value === 'focus') {\n            this.filterInput.focus();\n            this.parent.removeFocus();\n            EventHandler.remove(this.parent.list, 'keydown', this.parent.onKeyDown);\n        }\n        if (e.value === 'clear') {\n            this.filterInput.value = '';\n            this.clearIconElement.style.visibility = 'hidden';\n        }\n    };\n    CheckBoxSelection.prototype.checkSelectAll = function (e) {\n        if (e.value === 'check') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale(true);\n        }\n        if (e.value === 'uncheck') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n        if (e.value === 'indeterminate') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n    };\n    CheckBoxSelection.prototype.setLocale = function (unSelect) {\n        if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\n            this.selectAllSpan.textContent = '';\n            var compiledString = compile(template);\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n            for (var _i = 0, _a = compiledString({}, this.parent, templateName, null, !this.parent.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            var l10nLocale = { selectAllText: 'Select All', unSelectAllText: 'Unselect All' };\n            var l10n = new L10n(this.parent.getLocaleName(), {}, this.parent.locale);\n            if (l10n.getConstant('selectAllText') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\n            }\n            this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\n        }\n    };\n    CheckBoxSelection.prototype.getActiveList = function (args) {\n        if (args.li.classList.contains('e-active')) {\n            this.activeLi.push(args.li.cloneNode(true));\n        }\n        else {\n            this.activeLi.splice(args.index, 1);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.setReorder = function (args) {\n        if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\n            var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\n            var remLi = void 0;\n            var ulEle_1 = this.parent.createElement('ul', {\n                className: 'e-list-parent e-ul e-reorder'\n            });\n            if (activeLiCount > 0) {\n                var activeListItems = this.parent.ulElement.querySelectorAll('li.e-active');\n                activeListItems.forEach(function (item) {\n                    ulEle_1.appendChild(item);\n                });\n                remLi = this.parent.ulElement.querySelectorAll('li.e-active');\n                addClass(remLi, 'e-reorder-hide');\n                if (this.parent.enableVirtualization) {\n                    var virtualUlElement = this.parent.list.querySelector('.e-virtual-ddl-content');\n                    prepend([ulEle_1], virtualUlElement);\n                }\n                else {\n                    prepend([ulEle_1], this.parent.list);\n                }\n            }\n            this.parent.focusAtFirstListItem();\n        }\n    };\n    return CheckBoxSelection;\n}());\nexport { CheckBoxSelection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { EventHandler, closest, removeClass, addClass, Complex, Property, ChildProperty, L10n, setValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, getComponent, Event, extend, detach, attributes } from '@syncfusion/ej2-base';\nimport { getUniqueID, Browser, formatUnit, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { prepend, append } from '@syncfusion/ej2-base';\nimport { cssClass, Sortable, moveTo } from '@syncfusion/ej2-lists';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { createSpinner, showSpinner, hideSpinner, getZindexPartial } from '@syncfusion/ej2-popups';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\n/**\n * Defines the Selection settings of List Box.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Multiple')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"showCheckbox\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Left')\n    ], SelectionSettings.prototype, \"checkboxPosition\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n/**\n * Defines the toolbar settings of List Box.\n */\nvar ToolbarSettings = /** @class */ (function (_super) {\n    __extends(ToolbarSettings, _super);\n    function ToolbarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], ToolbarSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('Right')\n    ], ToolbarSettings.prototype, \"position\", void 0);\n    return ToolbarSettings;\n}(ChildProperty));\nexport { ToolbarSettings };\n/**\n * The ListBox is a graphical user interface component used to display a list of items.\n * Users can select one or more items in the list using a checkbox or by keyboard selection.\n * It supports sorting, grouping, reordering and drag and drop of items.\n * ```html\n * <select id=\"listbox\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var listObj = new ListBox();\n *   listObj.appendTo(\"#listbox\");\n * </script>\n * ```\n */\nvar ListBox = /** @class */ (function (_super) {\n    __extends(ListBox, _super);\n    /**\n     * Constructor for creating the ListBox component.\n     *\n     * @param {ListBoxModel} options - Specifies ListBox model\n     * @param {string | HTMLElement} element - Specifies the element.\n     */\n    function ListBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isValidKey = false;\n        _this.isDataSourceUpdate = false;\n        _this.keyDownStatus = false;\n        return _this;\n    }\n    ListBox_1 = ListBox;\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}.\n     * @private\n     */\n    ListBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Build and render the component.\n     *\n     * @private\n     * @returns {void}\n     */\n    ListBox.prototype.render = function () {\n        if (this.isAngular && this.allowFiltering) {\n            var originalElement = this.element;\n            var clonedElement = originalElement.cloneNode(true);\n            originalElement.parentNode.replaceChild(clonedElement, originalElement);\n            this.element = clonedElement;\n            setValue('ej2_instances', [this], this.element);\n        }\n        this.inputString = '';\n        this.initLoad = true;\n        this.isCustomFiltering = false;\n        this.initialSelectedOptions = this.value;\n        this.inputFormName = this.element.getAttribute('name');\n        _super.prototype.render.call(this);\n        this.setEnabled();\n        this.renderComplete();\n    };\n    ListBox.prototype.initWrapper = function () {\n        var hiddenSelect = this.createElement('select', { className: 'e-hidden-select', attrs: { 'multiple': '' } });\n        hiddenSelect.style.visibility = 'hidden';\n        this.list.classList.add('e-listbox-wrapper');\n        this.list.querySelector('.e-list-parent').setAttribute('role', 'presentation');\n        var groupHdrs = this.list.querySelectorAll('.e-list-group-item');\n        for (var i = 0; i < groupHdrs.length; i++) {\n            groupHdrs[i].removeAttribute('tabindex');\n            groupHdrs[i].setAttribute('role', 'option');\n        }\n        if (this.itemTemplate) {\n            this.list.classList.add('e-list-template');\n        }\n        this.list.classList.add('e-wrapper');\n        this.list.classList.add('e-lib');\n        if (this.element.tagName === 'EJS-LISTBOX') {\n            this.element.setAttribute('tabindex', '0');\n            if (this.initLoad) {\n                this.element.appendChild(this.list);\n            }\n        }\n        else {\n            if (this.initLoad) {\n                this.element.parentElement.insertBefore(this.list, this.element);\n            }\n            this.list.insertBefore(this.element, this.list.firstChild);\n            this.element.style.display = 'none';\n        }\n        this.list.insertBefore(hiddenSelect, this.list.firstChild);\n        if (this.list.getElementsByClassName('e-list-item')[0]) {\n            this.list.getElementsByClassName('e-list-item')[0].classList.remove(dropDownBaseClasses.focus);\n        }\n        if (this.itemTemplate) {\n            this.renderReactTemplates();\n        }\n        removeClass([this.list], [dropDownBaseClasses.content, dropDownBaseClasses.root]);\n        this.validationAttribute(this.element, hiddenSelect);\n        this.list.setAttribute('role', 'listbox');\n        attributes(this.list, { 'role': 'listbox', 'aria-label': 'listbox', 'aria-multiselectable': this.selectionSettings.mode === 'Multiple' ? 'true' : 'false' });\n        this.updateSelectionSettings();\n    };\n    ListBox.prototype.updateSelectionSettings = function () {\n        if (this.selectionSettings.showCheckbox && this.selectionSettings.showSelectAll && this.liCollections.length) {\n            var l10nSelect = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n            this.showSelectAll = true;\n            this.selectAllText = l10nSelect.getConstant('selectAllText');\n            this.unSelectAllText = l10nSelect.getConstant('unSelectAllText');\n            this.popupWrapper = this.list;\n            this.checkBoxSelectionModule.checkAllParent = null;\n            this.notify('selectAll', {});\n        }\n    };\n    ListBox.prototype.initDraggable = function () {\n        var _this = this;\n        if (this.ulElement) {\n            this.ulElement.id = this.element.id + '_parent';\n        }\n        if (this.allowDragAndDrop) {\n            new Sortable(this.ulElement, {\n                scope: this.scope,\n                itemClass: 'e-list-item',\n                dragStart: this.triggerDragStart.bind(this),\n                drag: this.triggerDrag.bind(this),\n                beforeDrop: this.beforeDragEnd.bind(this),\n                drop: this.dragEnd.bind(this),\n                placeHolder: function () { return _this.createElement('span', { className: 'e-placeholder' }); },\n                helper: function (e) {\n                    var wrapper = _this.list.cloneNode();\n                    var ele = e.sender.cloneNode(true);\n                    wrapper.appendChild(ele);\n                    var refEle = _this.getItems()[0];\n                    wrapper.style.width = refEle.offsetWidth + 'px';\n                    wrapper.style.height = refEle.offsetHeight + 'px';\n                    if ((_this.value && _this.value.length) > 1 && _this.isSelected(ele)) {\n                        ele.appendChild(_this.createElement('span', {\n                            className: 'e-list-badge', innerHTML: _this.value.length + ''\n                        }));\n                    }\n                    wrapper.style.zIndex = getZindexPartial(_this.element) + '';\n                    return wrapper;\n                }\n            });\n        }\n    };\n    ListBox.prototype.updateActionCompleteData = function (li, item, index) {\n        this.jsonData.splice(index === null ? this.jsonData.length : index, 0, item);\n    };\n    ListBox.prototype.initToolbar = function () {\n        var pos = this.toolbarSettings.position;\n        var prevScope = this.element.getAttribute('data-value');\n        if (this.toolbarSettings.items.length) {\n            var toolElem = this.createElement('div', { className: 'e-listbox-tool', attrs: { 'role': 'toolbar' } });\n            var wrapper = this.createElement('div', {\n                className: 'e-listboxtool-wrapper e-lib e-' + pos.toLowerCase()\n            });\n            this.list.parentElement.insertBefore(wrapper, this.list);\n            wrapper.appendChild(pos === 'Right' ? this.list : toolElem);\n            wrapper.appendChild(pos === 'Right' ? toolElem : this.list);\n            this.createButtons(toolElem);\n            if (!this.element.id) {\n                this.element.id = getUniqueID('e-' + this.getModuleName());\n            }\n            if (this.scope) {\n                document.querySelector(this.scope).setAttribute('data-value', this.element.id);\n            }\n            else {\n                this.updateToolBarState();\n            }\n        }\n        var scope = this.element.getAttribute('data-value');\n        if (prevScope && scope && (prevScope !== scope)) {\n            this.tBListBox = getComponent(document.getElementById(prevScope), this.getModuleName());\n            this.tBListBox.updateToolBarState();\n        }\n        else if (scope) {\n            this.tBListBox = getComponent(document.getElementById(scope), this.getModuleName());\n            this.tBListBox.updateToolBarState();\n        }\n    };\n    ListBox.prototype.createButtons = function (toolElem) {\n        var _this = this;\n        var btn;\n        var ele;\n        var title;\n        var l10n = new L10n(this.getModuleName(), {\n            moveUp: 'Move Up', moveDown: 'Move Down', moveTo: 'Move To',\n            moveFrom: 'Move From', moveAllTo: 'Move All To', moveAllFrom: 'Move All From'\n        }, this.locale);\n        this.toolbarSettings.items.forEach(function (value) {\n            title = l10n.getConstant(value);\n            ele = _this.createElement('button', {\n                attrs: {\n                    'type': 'button',\n                    'data-value': value,\n                    'title': title,\n                    'aria-label': title\n                }\n            });\n            toolElem.appendChild(ele);\n            btn = new Button({ iconCss: 'e-icons e-' + value.toLowerCase() }, ele);\n            btn.createElement = _this.createElement;\n        });\n    };\n    ListBox.prototype.validationAttribute = function (input, hiddenSelect) {\n        if (this.inputFormName) {\n            input.setAttribute('name', this.inputFormName);\n        }\n        _super.prototype.validationAttribute.call(this, input, hiddenSelect);\n        hiddenSelect.required = input.required;\n        input.required = false;\n    };\n    ListBox.prototype.setHeight = function () {\n        var ele = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        ele.style.height = formatUnit(this.height);\n        if (this.allowFiltering && this.height.toString().indexOf('%') < 0) {\n            addClass([this.list], 'e-filter-list');\n        }\n        else {\n            removeClass([this.list], 'e-filter-list');\n        }\n    };\n    ListBox.prototype.setCssClass = function () {\n        var wrap = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        if (this.cssClass) {\n            addClass([wrap], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n        }\n        if (this.enableRtl) {\n            addClass([this.list], 'e-rtl');\n        }\n    };\n    ListBox.prototype.setEnable = function () {\n        var ele = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        if (this.enabled) {\n            removeClass([ele], cssClass.disabled);\n        }\n        else {\n            addClass([ele], cssClass.disabled);\n        }\n    };\n    ListBox.prototype.showSpinner = function () {\n        if (!this.spinner) {\n            this.spinner = this.createElement('div', { className: 'e-listbox-wrapper' });\n        }\n        this.spinner.style.height = formatUnit(this.height);\n        this.element.parentElement.insertBefore(this.spinner, this.element.nextSibling);\n        createSpinner({ target: this.spinner }, this.createElement);\n        showSpinner(this.spinner);\n    };\n    ListBox.prototype.hideSpinner = function () {\n        if (this.spinner.querySelector('.e-spinner-pane')) {\n            hideSpinner(this.spinner);\n        }\n        if (this.spinner.parentElement) {\n            detach(this.spinner);\n        }\n    };\n    ListBox.prototype.onInput = function () {\n        this.isDataSourceUpdate = false;\n        if (this.keyDownStatus) {\n            this.isValidKey = true;\n        }\n        else {\n            this.isValidKey = false;\n        }\n        this.keyDownStatus = false;\n        this.refreshClearIcon();\n    };\n    ListBox.prototype.clearText = function () {\n        this.filterInput.value = '';\n        this.refreshClearIcon();\n        var event = document.createEvent('KeyboardEvent');\n        this.isValidKey = true;\n        this.KeyUp(event);\n    };\n    ListBox.prototype.refreshClearIcon = function () {\n        if (this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n    };\n    ListBox.prototype.onActionComplete = function (ulElement, list, e) {\n        var searchEle;\n        var filterElem;\n        var txtLength;\n        if (this.allowFiltering && this.list.getElementsByClassName('e-filter-parent')[0]) {\n            searchEle = this.list.getElementsByClassName('e-filter-parent')[0].cloneNode(true);\n        }\n        if (list.length === 0) {\n            var noRecElem = ulElement.childNodes[0];\n            if (noRecElem) {\n                ulElement.removeChild(noRecElem);\n            }\n        }\n        if (this.allowFiltering) {\n            filterElem = this.list.getElementsByClassName('e-input-filter')[0];\n            if (filterElem) {\n                txtLength = filterElem.selectionStart;\n            }\n        }\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.allowFiltering && !isNullOrUndefined(searchEle)) {\n            this.list.insertBefore(searchEle, this.list.firstElementChild);\n            this.filterParent = this.list.getElementsByClassName('e-filter-parent')[0];\n            this.filterWireEvents(searchEle);\n            var inputSearch = searchEle.querySelector('.e-input-filter');\n            if (inputSearch) {\n                inputSearch.addEventListener('focus', function () {\n                    if (!searchEle.childNodes[0].classList.contains('e-input-focus')) {\n                        searchEle.childNodes[0].classList.add('e-input-focus');\n                    }\n                });\n                inputSearch.addEventListener('blur', function () {\n                    if (searchEle.childNodes[0].classList.contains('e-input-focus')) {\n                        searchEle.childNodes[0].classList.remove('e-input-focus');\n                    }\n                });\n            }\n        }\n        this.initWrapper();\n        this.setSelection(this.value, true, false, !this.isRendered);\n        this.initDraggable();\n        this.mainList = this.ulElement;\n        if (this.initLoad) {\n            this.jsonData = [];\n            extend(this.jsonData, list, []);\n            this.initToolbarAndStyles();\n            this.wireEvents();\n            if (this.showCheckbox) {\n                this.setCheckboxPosition();\n            }\n            if (this.allowFiltering) {\n                this.setFiltering();\n            }\n        }\n        else {\n            if (this.isDataSourceUpdate) {\n                this.jsonData = [];\n                extend(this.jsonData, list, []);\n                this.isDataSourceUpdate = false;\n            }\n            if (this.allowFiltering) {\n                filterElem = this.list.getElementsByClassName('e-input-filter')[0];\n                filterElem.selectionStart = txtLength;\n                filterElem.selectionEnd = txtLength;\n                filterElem.focus();\n            }\n        }\n        if (this.toolbarSettings.items.length && this.scope && this.scope.indexOf('#') > -1 && !isNullOrUndefined(e)) {\n            var scope = this.scope.replace('#', '');\n            var scopedLB = getComponent(document.getElementById(scope), this.getModuleName());\n            scopedLB.initToolbar();\n        }\n        this.initLoad = false;\n    };\n    ListBox.prototype.initToolbarAndStyles = function () {\n        this.initToolbar();\n        this.setCssClass();\n        this.setEnable();\n        this.setHeight();\n    };\n    ListBox.prototype.triggerDragStart = function (args) {\n        var _this = this;\n        var badge;\n        args = extend(this.getDragArgs(args), { dragSelected: true });\n        if (Browser.isIos) {\n            this.list.style.overflow = 'hidden';\n        }\n        this.trigger('dragStart', args, function (dragEventArgs) {\n            _this.allowDragAll = dragEventArgs.dragSelected;\n            if (!_this.allowDragAll) {\n                badge = _this.ulElement.getElementsByClassName('e-list-badge')[0];\n                if (badge) {\n                    detach(badge);\n                }\n            }\n        });\n    };\n    ListBox.prototype.triggerDrag = function (args) {\n        var _this = this;\n        var scrollParent;\n        var boundRect;\n        var scrollMoved = 36;\n        var scrollHeight = 10;\n        if (this.itemTemplate && args.target) {\n            if (args.target && args.target.closest('.e-list-item')) {\n                scrollHeight = args.target.closest('.e-list-item').scrollHeight;\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var listItem = args.element.querySelector('.e-list-item');\n                if (listItem) {\n                    scrollHeight = listItem.scrollHeight;\n                }\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var event = args.event;\n        var wrapper;\n        this.stopTimer();\n        if (args.target && (args.target.classList.contains('e-listbox-wrapper') || args.target.classList.contains('e-list-item')\n            || args.target.classList.contains('e-filter-parent') || args.target.classList.contains('e-input-group')\n            || args.target.closest('.e-list-item'))) {\n            if (args.target.classList.contains('e-list-item') || args.target.classList.contains('e-filter-parent')\n                || args.target.classList.contains('e-input-group')\n                || args.target.closest('.e-list-item')) {\n                wrapper = args.target.closest('.e-listbox-wrapper');\n            }\n            else {\n                wrapper = args.target;\n            }\n            if (this.allowFiltering) {\n                scrollParent = wrapper.querySelector('.e-list-parent');\n            }\n            else {\n                scrollParent = wrapper;\n            }\n            if (scrollParent) {\n                boundRect = scrollParent.getBoundingClientRect();\n                if ((boundRect.y + scrollParent.offsetHeight) - (event.clientY + scrollMoved) < 1) {\n                    this.timer = window.setInterval(function () { _this.setScrollDown(scrollParent, scrollHeight, true); }, 70);\n                }\n                else if ((event.clientY - scrollMoved) - boundRect.y < 1) {\n                    this.timer = window.setInterval(function () { _this.setScrollDown(scrollParent, scrollHeight, false); }, 70);\n                }\n            }\n        }\n        if (args.target === null) {\n            return;\n        }\n        this.trigger('drag', this.getDragArgs(args));\n    };\n    ListBox.prototype.setScrollDown = function (scrollElem, scrollPixel, isScrollDown) {\n        if (isScrollDown) {\n            scrollElem.scrollTop = scrollElem.scrollTop + scrollPixel;\n        }\n        else {\n            scrollElem.scrollTop = scrollElem.scrollTop - scrollPixel;\n        }\n    };\n    ListBox.prototype.stopTimer = function () {\n        window.clearInterval(this.timer);\n    };\n    ListBox.prototype.beforeDragEnd = function (args) {\n        this.stopTimer();\n        var items = [];\n        this.dragValue = this.getFormattedValue(args.droppedElement.getAttribute('data-value'));\n        if (this.value.indexOf(this.dragValue) > -1) {\n            args.items = this.getDataByValues(this.value);\n        }\n        else {\n            args.items = this.getDataByValues([this.dragValue]);\n        }\n        extend(items, args.items);\n        this.trigger('beforeDrop', args);\n        if (args.items !== items) {\n            this.customDraggedItem = args.items;\n        }\n    };\n    ListBox.prototype.dragEnd = function (args) {\n        var _this = this;\n        var listData;\n        var liColl;\n        var jsonData;\n        var droppedData;\n        var selectedOptions;\n        var sortedData;\n        var dropValue = this.getFormattedValue(args.droppedElement.getAttribute('data-value'));\n        var listObj = this.getComponent(args.droppedElement);\n        var getArgs = this.getDragArgs({ target: args.droppedElement }, true);\n        var sourceArgs = { previousData: this.dataSource };\n        var destArgs = { previousData: listObj.dataSource };\n        var dragArgs = extend({}, getArgs, { target: args.target, source: { previousData: this.dataSource },\n            previousIndex: args.previousIndex, currentIndex: args.currentIndex });\n        if (listObj !== this) {\n            var sourceArgs1 = extend(sourceArgs, { currentData: this.listData });\n            dragArgs = extend(dragArgs, { source: sourceArgs1, destination: destArgs });\n        }\n        if (Browser.isIos) {\n            this.list.style.overflow = '';\n        }\n        var targetListObj = this.getComponent(args.target);\n        if (targetListObj && targetListObj.listData.length === 0) {\n            var noRecElem = targetListObj.ulElement.childNodes[0];\n            if (noRecElem) {\n                targetListObj.ulElement.removeChild(noRecElem);\n            }\n        }\n        if (listObj === this) {\n            var ul_1 = this.ulElement;\n            listData = [].slice.call(this.listData);\n            liColl = [].slice.call(this.liCollections);\n            jsonData = [].slice.call(this.jsonData);\n            sortedData = [].slice.call(this.sortedData);\n            var toSortIdx_1 = args.currentIndex;\n            var toIdx_1 = args.currentIndex = this.getCurIdx(this, args.currentIndex);\n            var rIdx = listData.indexOf(this.getDataByValue(dropValue));\n            var jsonIdx = jsonData.indexOf(this.getDataByValue(dropValue));\n            var sIdx = sortedData.indexOf(this.getDataByValue(dropValue));\n            listData.splice(toIdx_1, 0, listData.splice(rIdx, 1)[0]);\n            sortedData.splice(toSortIdx_1, 0, sortedData.splice(sIdx, 1)[0]);\n            jsonData.splice(toIdx_1, 0, jsonData.splice(jsonIdx, 1)[0]);\n            liColl.splice(toIdx_1, 0, liColl.splice(rIdx, 1)[0]);\n            if (this.allowDragAll) {\n                selectedOptions = this.value && Array.prototype.indexOf.call(this.value, dropValue) > -1 ? this.value : [dropValue];\n                if (!isNullOrUndefined(this.customDraggedItem)) {\n                    selectedOptions = [];\n                    this.customDraggedItem.forEach(function (item) {\n                        selectedOptions.push(getValue(_this.fields.value, item));\n                    });\n                }\n                selectedOptions.forEach(function (value) {\n                    if (value !== dropValue) {\n                        var idx = listData.indexOf(_this.getDataByValue(value));\n                        var jsonIdx_1 = jsonData.indexOf(_this.getDataByValue(value));\n                        var sIdx_1 = sortedData.indexOf(_this.getDataByValue(value));\n                        if (idx > toIdx_1) {\n                            toIdx_1++;\n                        }\n                        jsonData.splice(toIdx_1, 0, jsonData.splice(jsonIdx_1, 1)[0]);\n                        listData.splice(toIdx_1, 0, listData.splice(idx, 1)[0]);\n                        sortedData.splice(toSortIdx_1, 0, sortedData.splice(sIdx_1, 1)[0]);\n                        liColl.splice(toIdx_1, 0, liColl.splice(idx, 1)[0]);\n                        ul_1.insertBefore(_this.getItems()[_this.getIndexByValue(value)], ul_1.getElementsByClassName('e-placeholder')[0]);\n                    }\n                });\n            }\n            this.listData = listData;\n            this.jsonData = jsonData;\n            this.sortedData = sortedData;\n            this.liCollections = liColl;\n        }\n        else {\n            var li_1;\n            var fLiColl_1 = [].slice.call(this.liCollections);\n            var currIdx_1 = args.currentIndex = this.getCurIdx(listObj, args.currentIndex);\n            var ul_2 = listObj.ulElement;\n            listData = [].slice.call(listObj.listData);\n            liColl = [].slice.call(listObj.liCollections);\n            jsonData = [].slice.call(listObj.jsonData);\n            sortedData = [].slice.call(listObj.sortedData);\n            selectedOptions = (this.value && Array.prototype.indexOf.call(this.value, dropValue) > -1 && this.allowDragAll)\n                ? this.value : [dropValue];\n            if (!isNullOrUndefined(this.customDraggedItem)) {\n                selectedOptions = [];\n                this.customDraggedItem.forEach(function (item) {\n                    selectedOptions.push(getValue(_this.fields.value, item));\n                });\n            }\n            var fListData_1 = [].slice.call(this.listData);\n            var fSortData_1 = [].slice.call(this.sortedData);\n            selectedOptions.forEach(function (value, index) {\n                droppedData = _this.getDataByValue(value);\n                var srcIdx = _this.listData.indexOf(droppedData);\n                var jsonSrcIdx = _this.jsonData.indexOf(droppedData);\n                var sortIdx = _this.sortedData.indexOf(droppedData);\n                fListData_1.splice(srcIdx, 1);\n                _this.jsonData.splice(jsonSrcIdx, 1);\n                fSortData_1.splice(sortIdx, 1);\n                _this.listData = fListData_1;\n                _this.sortedData = fSortData_1;\n                var destIdx = value === dropValue ? args.currentIndex : currIdx_1;\n                listData.splice(destIdx, 0, droppedData);\n                jsonData.splice(destIdx, 0, droppedData);\n                sortedData.splice(destIdx, 0, droppedData);\n                liColl.splice(destIdx, 0, fLiColl_1.splice(srcIdx, 1)[0]);\n                if (!value) {\n                    var liCollElem_1 = _this.getItems();\n                    for (var i = 0; i < liCollElem_1.length; i++) {\n                        if (liCollElem_1[i].getAttribute('data-value') === null && liCollElem_1[i].classList.contains('e-list-item')) {\n                            li_1 = liCollElem_1[i];\n                            break;\n                        }\n                    }\n                }\n                else {\n                    li_1 = _this.getItems()[_this.getIndexByValue(value)];\n                }\n                if (!li_1) {\n                    li_1 = args.helper;\n                }\n                _this.removeSelected(_this, value === dropValue ? [args.droppedElement] : [li_1]);\n                ul_2.insertBefore(li_1, ul_2.getElementsByClassName('e-placeholder')[0]);\n                currIdx_1++;\n            });\n            if (this.fields.groupBy) {\n                var sourceElem = this.renderItems(this.listData, this.fields);\n                this.updateListItems(sourceElem, this.ulElement);\n                this.setSelection();\n            }\n            if (listObj.sortOrder !== 'None' || this.selectionSettings.showCheckbox\n                !== listObj.selectionSettings.showCheckbox || listObj.fields.groupBy || listObj.itemTemplate || this.itemTemplate) {\n                var sortable = getComponent(ul_2, 'sortable');\n                var sourceElem = listObj.renderItems(listData, listObj.fields);\n                listObj.updateListItems(sourceElem, ul_2);\n                this.setSelection();\n                if (sortable.placeHolderElement) {\n                    ul_2.appendChild(sortable.placeHolderElement);\n                }\n                ul_2.appendChild(args.helper);\n                listObj.setSelection();\n            }\n            this.liCollections = fLiColl_1;\n            listObj.liCollections = liColl;\n            listObj.jsonData = extend([], [], jsonData, false);\n            listObj.listData = extend([], [], listData, false);\n            listObj.sortedData = extend([], [], sortedData, false);\n            if (this.listData.length === 0) {\n                this.l10nUpdate();\n            }\n        }\n        if (this === listObj) {\n            var sourceArgs1 = extend(sourceArgs, { currentData: listData });\n            dragArgs = extend(dragArgs, { source: sourceArgs1 });\n        }\n        else {\n            var dragArgs1 = extend(destArgs, { currentData: listData });\n            dragArgs = extend(dragArgs, { destination: dragArgs1 });\n        }\n        if (!isNullOrUndefined(this.customDraggedItem)) {\n            dragArgs.items = this.customDraggedItem;\n        }\n        this.trigger('drop', dragArgs);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var liCollElem = dragArgs.elements;\n        if (liCollElem.length) {\n            for (var i = 0; i < liCollElem.length; i++) {\n                liCollElem[i].classList.remove('e-grabbed');\n            }\n        }\n    };\n    ListBox.prototype.updateListItems = function (sourceElem, destElem) {\n        var i = 0;\n        destElem.innerHTML = '';\n        while (i < sourceElem.childNodes.length) {\n            destElem.appendChild(sourceElem.childNodes[i]);\n        }\n    };\n    ListBox.prototype.removeSelected = function (listObj, elems) {\n        if (listObj.selectionSettings.showCheckbox) {\n            elems.forEach(function (ele) { ele.getElementsByClassName('e-frame')[0].classList.remove('e-check'); });\n        }\n        else {\n            removeClass(elems, cssClass.selected);\n        }\n    };\n    ListBox.prototype.getCurIdx = function (listObj, idx) {\n        if (listObj.fields.groupBy) {\n            idx -= [].slice.call(listObj.ulElement.children).slice(0, idx)\n                .filter(function (ele) { return ele.classList.contains(cssClass.group); }).length;\n        }\n        return idx;\n    };\n    ListBox.prototype.getComponent = function (li) {\n        var listObj;\n        var ele = (this.element.tagName === 'EJS-LISTBOX' ? closest(li, '.e-listbox')\n            : closest(li, '.e-listbox-wrapper') && closest(li, '.e-listbox-wrapper').querySelector('.e-listbox'));\n        if (ele) {\n            listObj = getComponent(ele, this.getModuleName());\n        }\n        return listObj;\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @returns {void}\n     */\n    ListBox.prototype.setEnabled = function () {\n        this.element.setAttribute('aria-disabled', (this.enabled) ? 'false' : 'true');\n    };\n    ListBox.prototype.listOption = function (dataSource, fields) {\n        this.listCurrentOptions = _super.prototype.listOption.call(this, dataSource, fields);\n        this.listCurrentOptions = extend({}, this.listCurrentOptions, { itemCreated: this.triggerBeforeItemRender.bind(this) }, true);\n        this.notify('listoption', { module: 'CheckBoxSelection' });\n        return this.listCurrentOptions;\n    };\n    ListBox.prototype.triggerBeforeItemRender = function (e) {\n        e.item.setAttribute('tabindex', '-1');\n        this.trigger('beforeItemRender', { element: e.item, item: e.curData });\n    };\n    ListBox.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.selectionSettings.showCheckbox) {\n            modules.push({\n                member: 'CheckBoxSelection',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * This method is used to enable or disable the items in the ListBox based on the items and enable argument.\n     *\n     * @param {string[]} items - Text items that needs to be enabled/disabled.\n     * @param {boolean} enable - Set `true`/`false` to enable/disable the list items.\n     * @param {boolean} isValue - Set `true` if `items` parameter is a array of unique values.\n     * @returns {void}\n     */\n    ListBox.prototype.enableItems = function (items, enable, isValue) {\n        var _this = this;\n        if (enable === void 0) { enable = true; }\n        var li;\n        items.forEach(function (item) {\n            var text = item;\n            li = _this.findListElement(_this.list, 'li', 'data-value', isValue ? text : _this.getValueByText(text));\n            if (!li) {\n                return;\n            }\n            if (enable) {\n                removeClass([li], cssClass.disabled);\n                li.removeAttribute('aria-disabled');\n            }\n            else {\n                addClass([li], cssClass.disabled);\n                li.setAttribute('aria-disabled', 'true');\n            }\n        });\n    };\n    /**\n     * Based on the state parameter, specified list item will be selected/deselected.\n     *\n     * @param {string[]} items - Array of text value of the item.\n     * @param {boolean} state - Set `true`/`false` to select/un select the list items.\n     * @param {boolean} isValue - Set `true` if `items` parameter is a array of unique values.\n     * @returns {void}\n     */\n    ListBox.prototype.selectItems = function (items, state, isValue) {\n        if (state === void 0) { state = true; }\n        if (state && !this.selectionSettings.showCheckbox && this.selectionSettings.mode === 'Single') {\n            this.getSelectedItems().forEach(function (li) {\n                li.classList.remove('e-active');\n                li.removeAttribute('aria-selected');\n                removeClass([li], cssClass.selected);\n            });\n        }\n        this.setSelection(items, state, !isValue);\n        this.updateSelectedOptions();\n        var selElems = [];\n        for (var i = 0; i < items.length; i++) {\n            var liColl = this.list.querySelectorAll('[aria-selected=\"true\"]');\n            for (var j = 0; j < liColl.length; j++) {\n                if (items[i] === this.getFormattedValue(liColl[j].getAttribute('data-value'))) {\n                    selElems.push(liColl[j]);\n                }\n            }\n        }\n        this.triggerChange(selElems, null);\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected/deselected.\n     *\n     * @param {boolean} state - Set `true`/`false` to select/un select the entire list items.\n     * @returns {void}\n     */\n    ListBox.prototype.selectAll = function (state) {\n        if (state === void 0) { state = true; }\n        this.selectAllItems(state);\n    };\n    /**\n     * Adds a new item to the list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.addItems = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Removes a item from the list. By default, removed the last item in the list,\n     * but you can remove based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to remove the item from the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.removeItems = function (items, itemIndex) {\n        this.removeItem(items, itemIndex);\n    };\n    /**\n     * Removes a item from the list. By default, removed the last item in the list,\n     * but you can remove based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to remove the item from the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.removeItem = function (items, itemIndex) {\n        var liCollections = [];\n        var liElement = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        if (items) {\n            items = (items instanceof Array ? items : [items]);\n            var fields = this.fields;\n            var dataValue = void 0;\n            var objValue = void 0;\n            var dupData = [];\n            var itemIdx = void 0;\n            extend(dupData, [], this.jsonData);\n            var removeIdxes = [];\n            var removeLiIdxes = [];\n            for (var j = 0; j < items.length; j++) {\n                if (items[j] instanceof Object) {\n                    dataValue = getValue(fields.value, items[j]);\n                }\n                else {\n                    dataValue = items[j].toString();\n                }\n                for (var i = 0, len = dupData.length; i < len; i++) {\n                    if (dupData[i] instanceof Object) {\n                        objValue = getValue(fields.value, dupData[i]);\n                    }\n                    else {\n                        objValue = dupData[i].toString();\n                    }\n                    if (objValue === dataValue) {\n                        itemIdx = this.getIndexByValue(dataValue);\n                        var idx = itemIdx === i ? itemIdx : i;\n                        liCollections.push(liElement[idx]);\n                        removeIdxes.push(idx);\n                        removeLiIdxes.push(idx);\n                    }\n                }\n            }\n            for (var k = removeIdxes.length - 1; k >= 0; k--) {\n                this.listData.splice(removeIdxes[k], 1);\n            }\n            for (var k = removeIdxes.length - 1; k >= 0; k--) {\n                this.jsonData.splice(removeIdxes[k], 1);\n            }\n            for (var k = removeLiIdxes.length - 1; k >= 0; k--) {\n                this.updateLiCollection(removeLiIdxes[k]);\n            }\n        }\n        else {\n            itemIndex = itemIndex ? itemIndex : 0;\n            liCollections.push(liElement[itemIndex]);\n            this.listData.splice(itemIndex, 1);\n            this.jsonData.splice(itemIndex, 1);\n            this.updateLiCollection(itemIndex);\n        }\n        for (var i = 0; i < liCollections.length; i++) {\n            this.ulElement.removeChild(liCollections[i]);\n        }\n        if (this.listData.length === 0) {\n            this.l10nUpdate();\n        }\n        if (this.listData.length !== this.sortedData.length) {\n            this.sortedData = this.listData;\n        }\n        this.value = [];\n        this.updateToolBarState();\n    };\n    /**\n     * Gets the array of data Object that matches the given array of values.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the array value of the list item.\n     * @returns {object[]}.\n     */\n    ListBox.prototype.getDataByValues = function (value) {\n        var data = [];\n        for (var i = 0; i < value.length; i++) {\n            data.push(this.getDataByValue(value[i]));\n        }\n        return data;\n    };\n    /**\n     * Moves the given value(s) / selected value(s) upwards.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveUp = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(true, false, elem);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) downwards.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveDown = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(false, false, elem);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) in Top of the list.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveTop = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(null, false, elem, true);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) in bottom of the list.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveBottom = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(true, false, elem, false, true);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) to the given / default scoped ListBox.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value or array value of the list item.\n     * @param {number} index - Specifies the index.\n     * @param {string} targetId - Specifies the target id.\n     * @returns {void}\n     */\n    ListBox.prototype.moveTo = function (value, index, targetId) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        var tlistbox = (targetId) ? getComponent(targetId, ListBox_1) : this.getScopedListBox();\n        this.moveData(this, tlistbox, false, elem, index);\n    };\n    /**\n     * Moves all the values from one ListBox to the scoped ListBox.\n     *\n     * @param  { string } targetId - Specifies the scoped ListBox ID.\n     * @param  { string } index - Specifies the index to where the items moved.\n     * @returns {void}\n     */\n    ListBox.prototype.moveAllTo = function (targetId, index) {\n        if (this.listData.length > 0) {\n            var tlistbox = (targetId) ? getComponent(targetId, ListBox_1) : this.getScopedListBox();\n            this.moveAllData(this, tlistbox, false, index);\n        }\n    };\n    /* eslint-disable */\n    /**\n     * Gets the updated dataSource in ListBox.\n     *\n     * @returns {{ [key: string]: Object }[] | string[] | boolean[] | number[]} - Updated DataSource.\n     */\n    /* eslint-enable */\n    ListBox.prototype.getDataList = function () {\n        return this.jsonData;\n    };\n    /* eslint-disable */\n    /**\n     * Returns the sorted Data in ListBox.\n     *\n     * @returns {{ [key: string]: Object }[] | string[] | boolean[] | number[]} - Sorted data\n     */\n    /* eslint-enable */\n    ListBox.prototype.getSortedList = function () {\n        var sortData;\n        var tempData;\n        sortData = tempData = this.sortedData;\n        if (this.fields.groupBy) {\n            sortData = [];\n            for (var i = 0; i < tempData.length; i++) {\n                if (tempData[i].isHeader) {\n                    continue;\n                }\n                sortData.push(tempData[i]);\n            }\n        }\n        return sortData;\n    };\n    ListBox.prototype.getElemByValue = function (value) {\n        var elem = [];\n        for (var i = 0; i < value.length; i++) {\n            elem.push(this.ulElement.querySelector('[data-value =\"' + value[i] + '\"]'));\n        }\n        return elem;\n    };\n    ListBox.prototype.updateLiCollection = function (index) {\n        var tempLi = [].slice.call(this.liCollections);\n        tempLi.splice(index, 1);\n        this.liCollections = tempLi;\n    };\n    ListBox.prototype.selectAllItems = function (state, event) {\n        var _this = this;\n        [].slice.call(this.getItems()).forEach(function (li) {\n            if (!li.classList.contains(cssClass.disabled)) {\n                if (_this.selectionSettings.showCheckbox) {\n                    var ele = li.getElementsByClassName('e-check')[0];\n                    if ((!ele && state) || (ele && !state)) {\n                        _this.notify('updatelist', { li: li, module: 'listbox' });\n                        if (_this.maximumSelectionLength >= _this.list.querySelectorAll('.e-list-item span.e-check').length) {\n                            _this.checkMaxSelection();\n                        }\n                    }\n                }\n                else {\n                    if (state) {\n                        li.classList.add(cssClass.selected);\n                    }\n                    else {\n                        li.classList.remove(cssClass.selected);\n                    }\n                }\n            }\n        });\n        this.updateSelectedOptions();\n        if (this.allowFiltering && this.selectionSettings.showCheckbox) {\n            var liEle = this.list.getElementsByTagName('li');\n            var index = 0;\n            if (state) {\n                var _loop_1 = function () {\n                    var dataValue1 = this_1.getFormattedValue(liEle[index].getAttribute('data-value'));\n                    if (!this_1.value.some(function (e) { return e === dataValue1; })) {\n                        this_1.value.push(this_1.getFormattedValue(liEle[index].getAttribute('data-value')));\n                    }\n                };\n                var this_1 = this;\n                for (index = 0; index < liEle.length; index++) {\n                    _loop_1();\n                }\n            }\n            else {\n                var _loop_2 = function () {\n                    var dataValue2 = this_2.getFormattedValue(liEle[index].getAttribute('data-value'));\n                    this_2.value = this_2.value.filter(function (e) { return e !== dataValue2; });\n                };\n                var this_2 = this;\n                for (index = 0; index < liEle.length; index++) {\n                    _loop_2();\n                }\n            }\n            if (document.querySelectorAll('ul').length < 2) {\n                this.updateMainList();\n            }\n        }\n        this.triggerChange(this.getSelectedItems(), event);\n    };\n    ListBox.prototype.updateMainList = function () {\n        var mainList = this.mainList.querySelectorAll('.e-list-item');\n        var ulList = this.ulElement.querySelectorAll('.e-list-item');\n        var mainCount = mainList.length;\n        var ulEleCount = ulList.length;\n        if (this.selectionSettings.showCheckbox || (document.querySelectorAll('ul').length > 1 || mainCount !== ulEleCount)) {\n            var listindex = 0;\n            var valueindex = 0;\n            var count = 0;\n            for (listindex; listindex < mainCount;) {\n                if (this.value) {\n                    for (valueindex; valueindex < this.value.length; valueindex++) {\n                        if (mainList[listindex].getAttribute('data-value') === this.value[valueindex]) {\n                            count++;\n                        }\n                    }\n                }\n                if (!count && this.selectionSettings.showCheckbox) {\n                    mainList[listindex].getElementsByClassName('e-frame')[0].classList.remove('e-check');\n                }\n                if (document.querySelectorAll('ul').length > 1 && count && mainCount !== ulEleCount) {\n                    this.mainList.removeChild(this.mainList.getElementsByTagName('li')[listindex]);\n                    listindex = 0;\n                }\n                else {\n                    listindex++;\n                }\n                count = 0;\n                valueindex = 0;\n            }\n        }\n    };\n    ListBox.prototype.wireEvents = function () {\n        var form = closest(this.element, 'form');\n        var wrapper = this.element.tagName === 'EJS-LISTBOX' ? this.element : this.list;\n        EventHandler.add(this.list, 'click', this.clickHandler, this);\n        EventHandler.add(wrapper, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(wrapper, 'focusout', this.focusOutHandler, this);\n        this.wireToolbarEvent();\n        if (this.selectionSettings.showCheckbox) {\n            EventHandler.remove(document, 'mousedown', this.checkBoxSelectionModule.onDocumentClick);\n        }\n        if (this.fields.groupBy || this.element.querySelector('select>optgroup')) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n        }\n        if (form) {\n            EventHandler.add(form, 'reset', this.formResetHandler, this);\n        }\n    };\n    ListBox.prototype.wireToolbarEvent = function () {\n        if (this.toolbarSettings.items.length) {\n            EventHandler.add(this.getToolElem(), 'click', this.toolbarClickHandler, this);\n        }\n    };\n    ListBox.prototype.unwireEvents = function () {\n        var form = closest(this.element, 'form');\n        var wrapper = this.element.tagName === 'EJS-LISTBOX' ? this.element : this.list;\n        EventHandler.remove(this.list, 'click', this.clickHandler);\n        EventHandler.remove(wrapper, 'keydown', this.keyDownHandler);\n        EventHandler.remove(wrapper, 'focusout', this.focusOutHandler);\n        if (this.allowFiltering && this.clearFilterIconElem) {\n            EventHandler.remove(this.clearFilterIconElem, 'click', this.clearText);\n        }\n        if (this.toolbarSettings.items.length) {\n            EventHandler.remove(this.getToolElem(), 'click', this.toolbarClickHandler);\n        }\n        if (form) {\n            EventHandler.remove(form, 'reset', this.formResetHandler);\n        }\n    };\n    ListBox.prototype.clickHandler = function (e) {\n        this.selectHandler(e);\n    };\n    ListBox.prototype.checkSelectAll = function () {\n        var searchCount = 0;\n        var liItems = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n        for (var i = 0; i < liItems.length; i++) {\n            if (!liItems[i].classList.contains('e-disabled')) {\n                searchCount++;\n            }\n        }\n        var len = this.getSelectedItems().length;\n        if (this.showSelectAll && searchCount) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection',\n                value: (searchCount === len) ? 'check' : (len === 0) ? 'uncheck' : 'indeterminate' });\n        }\n    };\n    ListBox.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        if (this.allowFiltering) {\n            var filterType = this.inputString === '' ? 'contains' : this.filterType;\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (dataType === null) {\n                dataType = this.typeOfData(this.jsonData).typeof;\n            }\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, this.inputString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var fields = (this.fields.text) ? this.fields.text : '';\n                filterQuery.where(fields, filterType, this.inputString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        else {\n            filterQuery = query ? query : this.query ? this.query : new Query();\n        }\n        return filterQuery;\n    };\n    ListBox.prototype.setFiltering = function () {\n        var filterInputObj;\n        if (this.initLoad || isNullOrUndefined(this.filterParent)) {\n            this.filterParent = this.createElement('span', {\n                className: listBoxClasses.filterParent\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: listBoxClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: [listBoxClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            append([filterInputObj.container], this.filterParent);\n            prepend([this.filterParent], this.list);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'aria-label': 'search list item',\n                'autocomplete': 'off',\n                'autocorrect': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false',\n                'role': 'textbox'\n            });\n            if (this.height.toString().indexOf('%') < 0) {\n                addClass([this.list], 'e-filter-list');\n            }\n            this.inputString = this.filterInput.value;\n            this.filterWireEvents();\n            return filterInputObj;\n        }\n    };\n    ListBox.prototype.filterWireEvents = function (filterElem) {\n        if (filterElem) {\n            this.filterInput = filterElem.querySelector('.e-input-filter');\n        }\n        this.clearFilterIconElem = this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon);\n        if (this.clearFilterIconElem) {\n            EventHandler.add(this.clearFilterIconElem, 'click', this.clearText, this);\n            if (!filterElem) {\n                this.clearFilterIconElem.style.visibility = 'hidden';\n            }\n        }\n        EventHandler.add(this.filterInput, 'input', this.onInput, this);\n        EventHandler.add(this.filterInput, 'keyup', this.KeyUp, this);\n        EventHandler.add(this.filterInput, 'keydown', this.onKeyDown, this);\n    };\n    ListBox.prototype.selectHandler = function (e, isKey) {\n        var isSelect = true;\n        var currSelIdx;\n        var li = closest(e.target, '.' + 'e-list-item');\n        var selectedLi = [li];\n        if (li && li.parentElement) {\n            currSelIdx = [].slice.call(li.parentElement.children).indexOf(li);\n            if (!this.selectionSettings.showCheckbox) {\n                if ((e.ctrlKey || e.metaKey || Browser.isDevice) && this.isSelected(li)) {\n                    li.classList.remove(cssClass.selected);\n                    li.removeAttribute('aria-selected');\n                    isSelect = false;\n                }\n                else if (!(this.selectionSettings.mode === 'Multiple' && (e.ctrlKey || e.metaKey || Browser.isDevice))) {\n                    this.getSelectedItems().forEach(function (ele) {\n                        ele.removeAttribute('aria-selected');\n                    });\n                    removeClass(this.getSelectedItems(), cssClass.selected);\n                }\n            }\n            else {\n                isSelect = !li.getElementsByClassName('e-frame')[0].classList.contains('e-check');\n            }\n            if (e.shiftKey && !this.selectionSettings.showCheckbox && this.selectionSettings.mode !== 'Single') {\n                selectedLi = [].slice.call(li.parentElement.children)\n                    .slice(Math.min(currSelIdx, this.prevSelIdx), Math.max(currSelIdx, this.prevSelIdx) + 1)\n                    .filter(function (ele) { return ele.classList.contains('e-list-item'); });\n            }\n            else {\n                this.prevSelIdx = [].slice.call(li.parentElement.children).indexOf(li);\n            }\n            if (isSelect) {\n                if (!this.selectionSettings.showCheckbox) {\n                    addClass(selectedLi, cssClass.selected);\n                }\n                selectedLi.forEach(function (ele) {\n                    ele.setAttribute('aria-selected', 'true');\n                });\n                this.list.setAttribute('aria-activedescendant', li.id);\n            }\n            else {\n                selectedLi.forEach(function (ele) {\n                    ele.setAttribute('aria-selected', 'false');\n                });\n            }\n            if (!isKey && (this.maximumSelectionLength > (this.value && this.value.length) || !isSelect) &&\n                (this.maximumSelectionLength >= (this.value && this.value.length) || !isSelect) &&\n                !(this.maximumSelectionLength < (this.value && this.value.length))) {\n                this.notify('updatelist', { li: li, e: e, module: 'listbox' });\n            }\n            if (this.allowFiltering && !isKey) {\n                var liDataValue_1 = this.getFormattedValue(li.getAttribute('data-value'));\n                if (!isSelect) {\n                    this.value = this.value.filter(function (value1) {\n                        return value1 !== liDataValue_1;\n                    });\n                }\n                else {\n                    var values = [];\n                    extend(values, this.value);\n                    values.push(liDataValue_1);\n                    this.value = values;\n                }\n                if (document.querySelectorAll('ul').length < 2) {\n                    this.updateMainList();\n                }\n            }\n            this.updateSelectedOptions();\n            this.triggerChange(this.getSelectedItems(), e);\n            if (this.list) {\n                this.checkMaxSelection();\n            }\n        }\n    };\n    ListBox.prototype.triggerChange = function (selectedLis, event) {\n        this.trigger('change', { elements: selectedLis, items: this.getDataByElements(selectedLis), value: this.value, event: event });\n    };\n    ListBox.prototype.getDataByElems = function (elems) {\n        var data = [];\n        for (var i = 0, len = elems.length; i < len; i++) {\n            data.push(this.getDataByValue(this.getFormattedValue(elems[i].getAttribute('data-value'))));\n        }\n        return data;\n    };\n    ListBox.prototype.getDataByElements = function (elems) {\n        var data = [];\n        var value;\n        var sIdx = 0;\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    for (var i = sIdx, len = elems.length; i < len; i++) {\n                        value = this.getFormattedValue(elems[i].getAttribute('data-value'));\n                        if (!isNullOrUndefined(item) && item === value) {\n                            sIdx = i;\n                            data.push(item);\n                            break;\n                        }\n                    }\n                    if (elems.length === data.length) {\n                        break;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    for (var i = sIdx, len = elems.length; i < len; i++) {\n                        value = this.getFormattedValue(elems[i].getAttribute('data-value'));\n                        if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                            sIdx = i;\n                            data.push(item);\n                            break;\n                        }\n                    }\n                    if (elems.length === data.length) {\n                        break;\n                    }\n                }\n            }\n            return data;\n        }\n        return null;\n    };\n    ListBox.prototype.checkMaxSelection = function () {\n        var limit = this.list.querySelectorAll('.e-list-item span.e-check').length;\n        if (this.selectionSettings.showCheckbox) {\n            var index = 0;\n            var liCollElem = this.list.getElementsByClassName('e-list-item');\n            for (index; index < liCollElem.length; index++) {\n                if (!liCollElem[index].querySelector('.e-frame.e-check')) {\n                    if (limit === this.maximumSelectionLength) {\n                        liCollElem[index].classList.add('e-disable');\n                    }\n                    else if (liCollElem[index].classList.contains('e-disable')) {\n                        liCollElem[index].classList.remove('e-disable');\n                    }\n                }\n            }\n        }\n    };\n    ListBox.prototype.toolbarClickHandler = function (e) {\n        var btn = closest(e.target, 'button');\n        if (btn) {\n            this.toolbarAction = btn.getAttribute('data-value');\n            if (btn.disabled) {\n                return;\n            }\n            switch (this.toolbarAction) {\n                case 'moveUp':\n                    this.moveUpDown(true);\n                    break;\n                case 'moveDown':\n                    this.moveUpDown();\n                    break;\n                case 'moveTo':\n                    this.moveItemTo();\n                    break;\n                case 'moveFrom':\n                    this.moveItemFrom();\n                    break;\n                case 'moveAllTo':\n                    this.moveAllItemTo();\n                    break;\n                case 'moveAllFrom':\n                    this.moveAllItemFrom();\n                    break;\n                default:\n                    this.trigger('actionBegin', { cancel: false, items: this.getDataByElems(this.getSelectedItems()),\n                        eventName: this.toolbarAction });\n                    break;\n            }\n        }\n    };\n    ListBox.prototype.moveUpDown = function (isUp, isKey, value, isTop, isBottom) {\n        var _this = this;\n        var elems = this.getSelectedItems();\n        if (value) {\n            elems = value;\n        }\n        if (((isUp && this.isSelected(this.ulElement.firstElementChild))\n            || (!isUp && this.isSelected(this.ulElement.lastElementChild))) && !value) {\n            return;\n        }\n        var tempItems = this.getDataByElems(elems);\n        var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n        this.trigger('actionBegin', localDataArgs);\n        if (localDataArgs.cancel) {\n            return;\n        }\n        (isUp ? elems : elems.reverse()).forEach(function (ele) {\n            var jsonToIdx = Array.prototype.indexOf.call(_this.ulElement.querySelectorAll('.e-list-item'), ele);\n            var idx = Array.prototype.indexOf.call(_this.ulElement.children, ele);\n            if (isTop) {\n                moveTo(_this.ulElement, _this.ulElement, [idx], 0);\n                _this.changeData(idx, 0, jsonToIdx, ele);\n            }\n            else if (isBottom) {\n                moveTo(_this.ulElement, _this.ulElement, [idx], _this.ulElement.querySelectorAll('.e-list-item').length);\n                _this.changeData(idx, _this.ulElement.querySelectorAll('.e-list-item').length, jsonToIdx, ele);\n            }\n            else {\n                moveTo(_this.ulElement, _this.ulElement, [idx], isUp ? idx - 1 : idx + 2);\n                _this.changeData(idx, isUp ? idx - 1 : idx + 1, isUp ? jsonToIdx - 1 : jsonToIdx + 1, ele);\n            }\n        });\n        this.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n        elems[0].focus();\n        if (!isKey && this.toolbarSettings.items.length) {\n            this.getToolElem().querySelector('[data-value=' + (isUp ? 'moveUp' : 'moveDown') + ']').focus();\n        }\n        this.updateToolBarState();\n    };\n    ListBox.prototype.moveItemTo = function () {\n        this.moveData(this, this.getScopedListBox());\n    };\n    ListBox.prototype.moveItemFrom = function () {\n        this.moveData(this.getScopedListBox(), this);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {ListBox} fListBox - Specifies the from listbox.\n     * @param {ListBox} tListBox - Specifies the to listbox.\n     * @param {boolean} isKey - Specifies the key.\n     * @param {Element[]} value - Specifies the value.\n     * @param {number} index - Specifies the index.\n     * @returns {void}\n     * @private\n     */\n    ListBox.prototype.moveData = function (fListBox, tListBox, isKey, value, index) {\n        var idx = [];\n        var dataIdx = [];\n        var jsonIdx = [];\n        var sortIdx = [];\n        var listData = [].slice.call(fListBox.listData);\n        var tListData = [].slice.call(tListBox.listData);\n        var sortData = [].slice.call(fListBox.sortedData);\n        var tSortData = [].slice.call(tListBox.sortedData);\n        var fliCollections = [].slice.call(fListBox.liCollections);\n        var dataLiIdx = [];\n        var tliCollections = [].slice.call(tListBox.liCollections);\n        var tempItems = [];\n        var data = [];\n        var elems = fListBox.getSelectedItems();\n        if (value) {\n            elems = value;\n        }\n        var isRefresh = tListBox.sortOrder !== 'None' || (tListBox.selectionSettings.showCheckbox !==\n            fListBox.selectionSettings.showCheckbox) || tListBox.fields.groupBy || tListBox.itemTemplate || fListBox.itemTemplate;\n        fListBox.value = [];\n        if (elems.length) {\n            this.removeSelected(fListBox, elems);\n            elems.forEach(function (ele) {\n                idx.push(Array.prototype.indexOf.call(fListBox.ulElement.children, ele)); // update sortable elem\n                // To update lb view data\n                dataLiIdx.push(Array.prototype.indexOf.call(fListBox.ulElement.querySelectorAll('.e-list-item'), ele));\n                // To update lb listdata data\n                dataIdx.push(Array.prototype.indexOf.call(fListBox.listData, fListBox.getDataByElems([ele])[0]));\n                // To update lb sorted data\n                sortIdx.push(Array.prototype.indexOf.call(fListBox.sortedData, fListBox.getDataByElems([ele])[0]));\n                // To update lb original data\n                jsonIdx.push(Array.prototype.indexOf.call(fListBox.jsonData, fListBox.getDataByElems([ele])[0]));\n            });\n            if (this.sortOrder !== 'None') {\n                sortIdx.forEach(function (i) {\n                    tempItems.push(fListBox.sortedData[i]);\n                });\n            }\n            else {\n                jsonIdx.forEach(function (i) {\n                    tempItems.push(fListBox.jsonData[i]);\n                });\n            }\n            var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n            fListBox.trigger('actionBegin', localDataArgs);\n            if (localDataArgs.cancel) {\n                return;\n            }\n            var rLiCollection_1 = [];\n            dataLiIdx.sort(function (n1, n2) { return n1 - n2; }).reverse().forEach(function (i) {\n                rLiCollection_1.push(fliCollections.splice(i, 1)[0]);\n            });\n            fListBox.liCollections = fliCollections;\n            if (index) {\n                var toColl = tliCollections.splice(0, index);\n                tListBox.liCollections = toColl.concat(rLiCollection_1.reverse()).concat(tliCollections);\n            }\n            else {\n                tListBox.liCollections = tliCollections.concat(rLiCollection_1.reverse());\n            }\n            if (tListBox.listData.length === 0) {\n                var noRecElem = tListBox.ulElement.childNodes[0];\n                if (noRecElem) {\n                    tListBox.ulElement.removeChild(noRecElem);\n                }\n            }\n            dataIdx.sort(function (n1, n2) { return n2 - n1; }).forEach(function (i) {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                listData.splice(i, 1)[0];\n            });\n            sortIdx.sort(function (n1, n2) { return n2 - n1; }).forEach(function (i) {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                sortData.splice(i, 1)[0];\n            });\n            jsonIdx.slice().reverse().forEach(function (i) {\n                data.push(fListBox.jsonData.splice(i, 1)[0]);\n            });\n            if (isRefresh) {\n                if (fListBox.fields.groupBy) {\n                    var sourceElem = fListBox.renderItems(listData, fListBox.fields);\n                    fListBox.updateListItems(sourceElem, fListBox.ulElement);\n                }\n                else {\n                    elems.forEach(function (ele) { detach(ele); });\n                }\n            }\n            else {\n                moveTo(fListBox.ulElement, tListBox.ulElement, idx, index);\n                fListBox.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n            }\n            if (tListBox.mainList.childElementCount !== tListBox.jsonData.length) {\n                tListBox.mainList = tListBox.ulElement;\n            }\n            var tJsonData = [].slice.call(tListBox.jsonData);\n            tSortData = [].slice.call(tListBox.sortedData);\n            this.selectNextList(elems, dataLiIdx, dataIdx, fListBox);\n            if (isKey) {\n                this.list.focus();\n            }\n            fListBox.listData = listData;\n            fListBox.sortedData = sortData;\n            index = (index) ? index : tListData.length;\n            for (var i = tempItems.length - 1; i >= 0; i--) {\n                tListData.splice(index, 0, tempItems[i]);\n                tJsonData.splice(index, 0, tempItems[i]);\n                tSortData.splice(index, 0, tempItems[i]);\n            }\n            tListBox.listData = tListData;\n            tListBox.jsonData = tJsonData;\n            tListBox.sortedData = tSortData;\n            if (isRefresh) {\n                var sourceElem = tListBox.renderItems(tListData, tListBox.fields);\n                tListBox.updateListItems(sourceElem, tListBox.ulElement);\n                tListBox.setSelection();\n                fListBox.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n            }\n            fListBox.updateSelectedOptions();\n            if (fListBox.listData.length === 0) {\n                fListBox.l10nUpdate();\n            }\n        }\n        if (fListBox.value.length === 1 && fListBox.getSelectedItems().length) {\n            fListBox.value[0] = fListBox.getFormattedValue(fListBox.getSelectedItems()[0].getAttribute('data-value'));\n        }\n    };\n    ListBox.prototype.selectNextList = function (elems, dataLiIdx, dataIdx, inst) {\n        var childCnt = inst.ulElement.querySelectorAll('.e-list-item').length;\n        var ele;\n        var liIdx;\n        var validIdx = -1;\n        if (elems.length === 1 && childCnt && !inst.selectionSettings.showCheckbox) {\n            liIdx = childCnt <= dataLiIdx[0] ? childCnt - 1 : dataLiIdx[0];\n            ele = inst.ulElement.querySelectorAll('.e-list-item')[liIdx];\n            validIdx = inst.getValidIndex(ele, liIdx, childCnt === dataIdx[0] ? 38 : 40);\n            if (validIdx > -1) {\n                (inst.ulElement.querySelectorAll('.e-list-item')[validIdx].classList.add(cssClass.selected));\n            }\n        }\n    };\n    ListBox.prototype.moveAllItemTo = function () {\n        this.moveAllData(this, this.getScopedListBox());\n    };\n    ListBox.prototype.moveAllItemFrom = function () {\n        this.moveAllData(this.getScopedListBox(), this);\n    };\n    ListBox.prototype.moveAllData = function (fListBox, tListBox, isKey, index) {\n        var listData = [].slice.call(tListBox.listData);\n        var jsonData = [].slice.call(tListBox.jsonData);\n        var isRefresh = tListBox.sortOrder !== 'None' || (tListBox.selectionSettings.showCheckbox !==\n            fListBox.selectionSettings.showCheckbox) || tListBox.fields.groupBy || tListBox.itemTemplate || fListBox.itemTemplate;\n        var tempLiColl = [];\n        var tempData = [];\n        var flistboxarray = [];\n        this.removeSelected(fListBox, fListBox.getSelectedItems());\n        var tempItems = [].slice.call(fListBox.listData);\n        var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n        fListBox.trigger('actionBegin', localDataArgs);\n        if (localDataArgs.cancel) {\n            return;\n        }\n        if (tListBox.listData.length === 0) {\n            var noRecElem = tListBox.ulElement.childNodes[0];\n            if (noRecElem) {\n                tListBox.ulElement.removeChild(noRecElem);\n            }\n        }\n        if (fListBox.listData.length > 0) {\n            // eslint-disable-next-line prefer-spread\n            flistboxarray = Array.apply(null, { length: fListBox.ulElement.childElementCount }).map(Number.call, Number);\n        }\n        var _loop_3 = function (i) {\n            if (fListBox.ulElement.childNodes[i].classList.contains('e-disabled')) {\n                flistboxarray = flistboxarray.filter(function (item) { return item !== i; });\n                tempLiColl.push(fListBox.ulElement.childNodes[i]);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                tempData.push(fListBox.listData[i]);\n            }\n        };\n        for (var i = 0; i < fListBox.ulElement.childElementCount; i++) {\n            _loop_3(i);\n        }\n        moveTo(fListBox.ulElement, tListBox.ulElement, flistboxarray, index);\n        this.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n        if (isKey) {\n            this.list.focus();\n        }\n        index = (index) ? index : listData.length;\n        for (var i = 0; i < flistboxarray.length; i++) {\n            listData.splice(index + i, 0, fListBox.listData[flistboxarray[i]]);\n        }\n        for (var i = 0; i < flistboxarray.length; i++) {\n            jsonData.splice(index + i, 0, fListBox.jsonData[flistboxarray[i]]);\n        }\n        var fliCollections = [];\n        if (tempLiColl.length > 0) {\n            fListBox.liCollections = tempLiColl;\n            fliCollections = [].slice.call(fListBox.liCollections);\n        }\n        else {\n            fliCollections = [].slice.call(fListBox.liCollections);\n            fListBox.liCollections = [];\n        }\n        var tliCollections = [].slice.call(tListBox.liCollections);\n        if (index) {\n            var toColl = tliCollections.splice(0, index);\n            tListBox.liCollections = toColl.concat(fliCollections).concat(tliCollections);\n        }\n        else {\n            tListBox.liCollections = tliCollections.concat(fliCollections);\n        }\n        fListBox.value = [];\n        listData = listData.filter(function (data) { return (data !== undefined); });\n        listData = listData\n            .filter(function (data) { return data.isHeader !== true; });\n        var sortedData = listData.filter(function (val) {\n            return tListBox.jsonData.indexOf(val) === -1;\n        });\n        for (var i = 0; i < sortedData.length; i++) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            tListBox.jsonData.splice(index + i, 0, sortedData[i]);\n        }\n        tListBox.listData = listData;\n        if (fListBox.listData.length === fListBox.jsonData.length) {\n            fListBox.listData = fListBox.sortedData = fListBox.jsonData = tempData;\n        }\n        else if (fListBox.allowFiltering) {\n            for (var i = 0; i < fListBox.listData.length; i++) {\n                for (var j = 0; j < fListBox.jsonData.length; j++) {\n                    if (fListBox.listData[i] === fListBox.jsonData[j]) {\n                        fListBox.jsonData.splice(j, 1);\n                    }\n                }\n            }\n            fListBox.listData = fListBox.sortedData = [];\n        }\n        if (isRefresh) {\n            var sourceElem = tListBox.renderItems(listData, tListBox.fields);\n            tListBox.updateListItems(sourceElem, tListBox.ulElement);\n            this.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n        }\n        else {\n            tListBox.sortedData = listData;\n        }\n        fListBox.updateSelectedOptions();\n        if (tempLiColl.length > 0) {\n            var wrap = this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n            var btn = wrap.querySelector('[data-value=\"' + this.toolbarAction + '\"]');\n            btn.disabled = true;\n        }\n        if (fListBox.listData.length === 0) {\n            fListBox.l10nUpdate();\n        }\n    };\n    ListBox.prototype.changeData = function (fromIdx, toIdx, jsonToIdx, ele) {\n        var listData = [].slice.call(this.listData);\n        var jsonData = [].slice.call(this.jsonData);\n        var sortData = [].slice.call(this.sortedData);\n        var jsonIdx = Array.prototype.indexOf.call(this.jsonData, this.getDataByElems([ele])[0]);\n        var sortIdx = Array.prototype.indexOf.call(this.sortedData, this.getDataByElems([ele])[0]);\n        var liColl = [].slice.call(this.liCollections);\n        listData.splice(toIdx, 0, listData.splice(fromIdx, 1)[0]);\n        jsonData.splice(jsonToIdx, 0, jsonData.splice(jsonIdx, 1)[0]);\n        sortData.splice(toIdx, 0, sortData.splice(sortIdx, 1)[0]);\n        liColl.splice(toIdx, 0, liColl.splice(fromIdx, 1)[0]);\n        this.listData = listData;\n        this.jsonData = jsonData;\n        this.liCollections = liColl;\n        this.sortedData = sortData;\n    };\n    ListBox.prototype.getSelectedItems = function () {\n        var ele = [];\n        if (this.selectionSettings.showCheckbox) {\n            [].slice.call(this.ulElement.getElementsByClassName('e-check')).forEach(function (cbox) {\n                ele.push(closest(cbox, '.' + 'e-list-item'));\n            });\n        }\n        else {\n            ele = [].slice.call(this.ulElement.getElementsByClassName(cssClass.selected));\n        }\n        return ele;\n    };\n    ListBox.prototype.getScopedListBox = function () {\n        var _this = this;\n        var listObj;\n        if (this.scope) {\n            [].slice.call(document.querySelectorAll(this.scope)).forEach(function (ele) {\n                if (getComponent(ele, _this.getModuleName())) {\n                    listObj = getComponent(ele, _this.getModuleName());\n                }\n            });\n        }\n        return listObj;\n    };\n    ListBox.prototype.getGrabbedItems = function (args) {\n        var grabbItems = false;\n        for (var i = 0; i < this.value.length; i++) {\n            if (this.value[i] === this.getFormattedValue(args.target.getAttribute('data-value'))) {\n                grabbItems = true;\n                break;\n            }\n        }\n        if (grabbItems) {\n            for (var i = 0; i < this.value.length; i++) {\n                var liColl = this.list.querySelectorAll('[aria-selected=\"true\"]');\n                for (var j = 0; j < liColl.length; j++) {\n                    if (this.value[i] === this.getFormattedValue(liColl[j].getAttribute('data-value'))) {\n                        liColl[j].classList.add('e-grabbed');\n                    }\n                }\n            }\n        }\n        var elems;\n        if (this.isAngular) {\n            elems = Array.prototype.slice.call(this.element.getElementsByClassName('e-list-parent')[0].querySelectorAll('.e-grabbed'));\n        }\n        else {\n            elems = Array.prototype.slice.call(this.element.nextElementSibling.querySelectorAll('.e-grabbed'));\n        }\n        return elems;\n    };\n    ListBox.prototype.getDragArgs = function (args, isDragEnd) {\n        var elems = this.getGrabbedItems(args);\n        if (elems.length) {\n            if (isDragEnd) {\n                elems.push(args.target);\n            }\n        }\n        else {\n            elems = [args.target];\n        }\n        return { elements: elems, items: this.getDataByElems(elems) };\n    };\n    ListBox.prototype.onKeyDown = function (e) {\n        this.keyDownHandler(e);\n        e.stopPropagation();\n    };\n    ListBox.prototype.keyDownHandler = function (e) {\n        if ([32, 35, 36, 37, 38, 39, 40, 65].indexOf(e.keyCode) > -1 && (!this.allowFiltering ||\n            (this.allowFiltering && e.target !== this.filterInput))) {\n            if (e.target && e.target.className.indexOf('e-edit-template') > -1) {\n                return;\n            }\n            e.preventDefault();\n            if (e.keyCode === 32 && this.ulElement.children.length) {\n                this.selectHandler({\n                    target: this.ulElement.getElementsByClassName('e-focused')[0],\n                    ctrlKey: e.ctrlKey, shiftKey: e.shiftKey\n                });\n            }\n            else if (e.keyCode === 65 && e.ctrlKey) {\n                this.selectAll();\n            }\n            else if ((e.keyCode === 38 || e.keyCode === 40) && e.ctrlKey && e.shiftKey) {\n                this.moveUpDown(e.keyCode === 38 ? true : false, true);\n            }\n            else if ((this.toolbarSettings.items.length || this.tBListBox) && (e.keyCode === 39 || e.keyCode === 37) && e.ctrlKey) {\n                var listObj = this.tBListBox || this.getScopedListBox();\n                if (e.keyCode === 39) {\n                    if (e.shiftKey) {\n                        this.moveAllData(this, listObj, true);\n                    }\n                    else {\n                        this.moveData(this, listObj, true);\n                    }\n                }\n                else {\n                    if (e.shiftKey) {\n                        this.moveAllData(listObj, this, true);\n                    }\n                    else {\n                        this.moveData(listObj, this, true);\n                    }\n                }\n            }\n            else if (e.keyCode !== 37 && e.keyCode !== 39 && e.code !== 'KeyA') {\n                this.upDownKeyHandler(e);\n            }\n        }\n        else if (this.allowFiltering) {\n            if (e.keyCode === 40 || e.keyCode === 38) {\n                this.upDownKeyHandler(e);\n            }\n        }\n    };\n    ListBox.prototype.upDownKeyHandler = function (e) {\n        var ul = this.ulElement;\n        var defaultIdx = (e.keyCode === 40 || e.keyCode === 36) ? 0 : ul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = ul.getElementsByClassName('e-focused')[0] || ul.getElementsByClassName(cssClass.selected)[0];\n        if (fli) {\n            if (e.keyCode !== 35 && e.keyCode !== 36) {\n                fliIdx = Array.prototype.indexOf.call(ul.children, fli);\n                if (e.keyCode === 40) {\n                    fliIdx++;\n                }\n                else {\n                    fliIdx--;\n                }\n                if (fliIdx < 0 || fliIdx > ul.childElementCount - 1) {\n                    return;\n                }\n            }\n            removeClass([fli], 'e-focused');\n        }\n        var cli = ul.children[fliIdx];\n        if (cli) {\n            fliIdx = this.getValidIndex(cli, fliIdx, e.keyCode);\n            if (fliIdx === -1) {\n                addClass([fli], 'e-focused');\n                return;\n            }\n            ul.children[fliIdx].focus();\n            ul.children[fliIdx].classList.add('e-focused');\n            if (!e.ctrlKey || !this.selectionSettings.showCheckbox && e.shiftKey && (e.keyCode === 36 || e.keyCode === 35)) {\n                this.selectHandler({ target: ul.children[fliIdx], ctrlKey: e.ctrlKey, shiftKey: e.shiftKey }, true);\n            }\n            if (this.selectionSettings.showCheckbox && e.ctrlKey && e.shiftKey && (e.keyCode === 36 || e.keyCode === 35)) {\n                var selectedidx = Array.prototype.indexOf.call(ul.children, fli);\n                var sidx = e.code === 'Home' ? 0 : selectedidx;\n                var eidx = e.code === 'Home' ? selectedidx : ul.children.length - 1;\n                for (var i = sidx; i <= eidx; i++) {\n                    var item = ul.children[i];\n                    this.notify('updatelist', { li: item, e: {\n                            target: this.ulElement.getElementsByClassName('e-focused')[0],\n                            ctrlKey: e.ctrlKey, shiftKey: e.shiftKey\n                        }, module: 'listbox' });\n                }\n            }\n        }\n    };\n    ListBox.prototype.KeyUp = function (e) {\n        var _this = this;\n        if (this.allowFiltering && e.ctrlKey && e.keyCode === 65) {\n            e.preventDefault();\n            return;\n        }\n        var char = String.fromCharCode(e.keyCode);\n        var isWordCharacter = char.match(/\\w/);\n        if (!isNullOrUndefined(isWordCharacter)) {\n            this.isValidKey = true;\n        }\n        this.isValidKey = (e.keyCode === 8) || (e.keyCode === 46) || this.isValidKey;\n        if (this.isValidKey) {\n            this.isValidKey = false;\n            switch (e.keyCode) {\n                default:\n                    if (this.allowFiltering) {\n                        var eventArgsData_1 = {\n                            preventDefaultAction: false,\n                            text: this.targetElement(),\n                            updateData: function (dataSource, query, fields) {\n                                if (eventArgsData_1.cancel) {\n                                    return;\n                                }\n                                _this.isFiltered = true;\n                                _this.remoteFilterAction = true;\n                                _this.dataUpdater(dataSource, query, fields);\n                            },\n                            event: e,\n                            cancel: false\n                        };\n                        this.trigger('filtering', eventArgsData_1, function (args) {\n                            _this.isDataFetched = false;\n                            if (args.cancel || (_this.filterInput.value !== '' && _this.isFiltered)) {\n                                return;\n                            }\n                            if (!args.cancel && !_this.isCustomFiltering && !args.preventDefaultAction) {\n                                _this.inputString = _this.filterInput.value;\n                                _this.filteringAction(_this.jsonData, new Query(), _this.fields);\n                                if (_this.toolbarSettings.items.length > 0) {\n                                    _this.updateToolBarState();\n                                }\n                            }\n                            if (!_this.isFiltered && !_this.isCustomFiltering && !args.preventDefaultAction) {\n                                _this.dataUpdater(_this.jsonData, new Query(), _this.fields);\n                            }\n                        });\n                    }\n            }\n        }\n    };\n    /**\n     * To filter the data from given data source by using query.\n     *\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}.\n     */\n    ListBox.prototype.filter = function (dataSource, query, fields) {\n        this.isCustomFiltering = true;\n        this.filteringAction(dataSource, query, fields);\n    };\n    ListBox.prototype.filteringAction = function (dataSource, query, fields) {\n        this.resetList(dataSource, fields, query);\n    };\n    ListBox.prototype.targetElement = function () {\n        this.targetInputElement = this.list.getElementsByClassName('e-input-filter')[0];\n        return this.targetInputElement.value;\n    };\n    ListBox.prototype.dataUpdater = function (dataSource, query, fields) {\n        this.isDataFetched = false;\n        var backCommand = true;\n        if (this.targetElement().trim() === '') {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (backCommand) {\n                this.remoteCustomValue = false;\n                if (this.isAngular && this.itemTemplate) {\n                    list = this.renderItems(this.listData, fields);\n                }\n                this.onActionComplete(list, this.jsonData);\n                this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.selectionSettings.showCheckbox, e: this });\n            }\n        }\n        else {\n            this.resetList(dataSource, fields, query);\n        }\n    };\n    ListBox.prototype.focusOutHandler = function () {\n        var ele = this.list.getElementsByClassName('e-focused')[0];\n        if (ele) {\n            ele.classList.remove('e-focused');\n        }\n        if (this.allowFiltering) {\n            this.refreshClearIcon();\n        }\n    };\n    ListBox.prototype.getValidIndex = function (cli, index, keyCode) {\n        var cul = this.ulElement;\n        if (cli.classList.contains('e-disabled') || cli.classList.contains(cssClass.group)) {\n            if (keyCode === 40 || keyCode === 36) {\n                index++;\n            }\n            else {\n                index--;\n            }\n        }\n        if (index < 0 || index === cul.childElementCount) {\n            return -1;\n        }\n        cli = cul.childNodes[index];\n        if (cli.classList.contains('e-disabled') || cli.classList.contains(cssClass.group)) {\n            index = this.getValidIndex(cli, index, keyCode);\n        }\n        return index;\n    };\n    ListBox.prototype.updateSelectedOptions = function () {\n        var _this = this;\n        var selectedOptions = [];\n        var values = [];\n        extend(values, this.value);\n        this.getSelectedItems().forEach(function (ele) {\n            if (!ele.classList.contains('e-grabbed')) {\n                selectedOptions.push(_this.getFormattedValue(ele.getAttribute('data-value')));\n            }\n        });\n        if (this.mainList.childElementCount === this.ulElement.childElementCount) {\n            if (this.allowFiltering && this.selectionSettings.showCheckbox) {\n                for (var i = 0; i < selectedOptions.length; i++) {\n                    if (values.indexOf(selectedOptions[i]) > -1) {\n                        continue;\n                    }\n                    else {\n                        values.push(selectedOptions[i]);\n                    }\n                }\n                this.setProperties({ value: values }, true);\n            }\n            else {\n                this.setProperties({ value: selectedOptions }, true);\n            }\n        }\n        this.updateSelectTag();\n        this.updateToolBarState();\n        if (this.tBListBox) {\n            this.tBListBox.updateToolBarState();\n        }\n    };\n    ListBox.prototype.clearSelection = function (values) {\n        var _this = this;\n        if (values === void 0) { values = this.value; }\n        if (this.selectionSettings.showCheckbox) {\n            var dvalue_1;\n            this.getSelectedItems().forEach(function (li) {\n                dvalue_1 = _this.getFormattedValue(li.getAttribute('data-value'));\n                if (values.indexOf(dvalue_1) < 0) {\n                    li.getElementsByClassName('e-check')[0].classList.remove('e-check');\n                    li.removeAttribute('aria-selected');\n                }\n            });\n        }\n    };\n    ListBox.prototype.setSelection = function (values, isSelect, isText, canFocus) {\n        var _this = this;\n        if (values === void 0) { values = this.value; }\n        if (isSelect === void 0) { isSelect = true; }\n        if (isText === void 0) { isText = false; }\n        if (canFocus === void 0) { canFocus = true; }\n        var li;\n        var liselect;\n        if (values) {\n            values.forEach(function (value) {\n                var text;\n                if (isText) {\n                    text = _this.getValueByText(value);\n                }\n                else {\n                    text = value;\n                }\n                if (typeof (text) === 'string') {\n                    text = text.split('\\\\').join('\\\\\\\\');\n                    li = _this.list.querySelector('[data-value=\"' + text.replace(/\"/g, '\\\\\"') + '\"]');\n                }\n                else {\n                    li = _this.list.querySelector('[data-value=\"' + text + '\"]');\n                }\n                if (li) {\n                    if (_this.selectionSettings.showCheckbox) {\n                        liselect = li.getElementsByClassName('e-frame')[0].classList.contains('e-check');\n                    }\n                    else {\n                        liselect = li.classList.contains('e-selected');\n                    }\n                    if (!isSelect && liselect || isSelect && !liselect && li) {\n                        if (_this.selectionSettings.showCheckbox) {\n                            _this.notify('updatelist', { li: li, module: 'listbox' });\n                            if (canFocus) {\n                                li.focus();\n                            }\n                        }\n                        else {\n                            if (isSelect) {\n                                li.classList.add(cssClass.selected);\n                                li.setAttribute('aria-selected', 'true');\n                                if (canFocus) {\n                                    li.focus();\n                                }\n                            }\n                            else {\n                                li.classList.remove(cssClass.selected);\n                                li.removeAttribute('aria-selected');\n                            }\n                        }\n                    }\n                }\n            });\n        }\n        this.updateSelectTag();\n    };\n    ListBox.prototype.updateSelectTag = function () {\n        var ele = this.getSelectTag();\n        var innerHTML = '';\n        ele.innerHTML = '';\n        if (this.value) {\n            for (var i = 0, len = this.value.length; i < len; i++) {\n                innerHTML += '<option selected>' + this.value[i] + '</option>';\n            }\n            ele.innerHTML += innerHTML;\n            for (var i = 0, len = ele.childNodes.length; i < len; i++) {\n                ele.childNodes[i].setAttribute('value', this.value[i].toString());\n            }\n        }\n        this.checkSelectAll();\n    };\n    ListBox.prototype.checkDisabledState = function (inst) {\n        return inst.ulElement.querySelectorAll('.' + cssClass.li).length === 0;\n    };\n    ListBox.prototype.updateToolBarState = function () {\n        var _this = this;\n        if (this.toolbarSettings.items.length) {\n            var listObj_1 = this.getScopedListBox();\n            var wrap_1 = this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n            this.toolbarSettings.items.forEach(function (value) {\n                var btn = wrap_1.querySelector('[data-value=\"' + value + '\"]');\n                switch (value) {\n                    case 'moveAllTo':\n                        btn.disabled = _this.checkDisabledState(_this);\n                        break;\n                    case 'moveAllFrom':\n                        btn.disabled = _this.checkDisabledState(listObj_1);\n                        break;\n                    case 'moveFrom':\n                        btn.disabled = listObj_1.value && listObj_1.value.length ? false : true;\n                        break;\n                    case 'moveUp':\n                        btn.disabled = _this.value && _this.value.length\n                            && !_this.isSelected(_this.ulElement.children[0]) ? false : true;\n                        break;\n                    case 'moveDown':\n                        btn.disabled = _this.value && _this.value.length\n                            && !_this.isSelected(_this.ulElement.children[_this.ulElement.childElementCount - 1]) ? false : true;\n                        break;\n                    default:\n                        btn.disabled = _this.value && _this.value.length ? false : true;\n                        break;\n                }\n            });\n        }\n    };\n    ListBox.prototype.setCheckboxPosition = function () {\n        var listWrap = this.list;\n        if (!this.initLoad && this.selectionSettings.checkboxPosition === 'Left') {\n            listWrap.classList.remove('e-right');\n        }\n        if (this.selectionSettings.checkboxPosition === 'Right') {\n            listWrap.classList.add('e-right');\n        }\n    };\n    ListBox.prototype.showCheckbox = function (showCheckbox) {\n        var index = 0;\n        var liColl = this.list.lastElementChild.querySelectorAll('li');\n        var liCollLen = this.list.lastElementChild.getElementsByClassName('e-list-item').length;\n        if (showCheckbox) {\n            this.ulElement = this.renderItems(this.listData, this.fields);\n            this.mainList = this.ulElement;\n            this.list.removeChild(this.list.getElementsByTagName('ul')[0]);\n            this.list.appendChild(this.ulElement);\n            if (this.selectionSettings.showSelectAll && !this.list.getElementsByClassName('e-selectall-parent')[0]) {\n                var l10nShow = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n                this.showSelectAll = true;\n                this.selectAllText = l10nShow.getConstant('selectAllText');\n                this.unSelectAllText = l10nShow.getConstant('unSelectAllText');\n                this.popupWrapper = this.list;\n                this.checkBoxSelectionModule.checkAllParent = null;\n                this.notify('selectAll', {});\n                this.checkSelectAll();\n            }\n        }\n        else {\n            if (this.list.getElementsByClassName('e-selectall-parent')[0]) {\n                this.list.removeChild(this.list.getElementsByClassName('e-selectall-parent')[0]);\n            }\n            for (index; index < liCollLen; index++) {\n                if (liColl[index].classList.contains('e-list-item')) {\n                    liColl[index].removeChild(liColl[index].getElementsByClassName('e-checkbox-wrapper')[0]);\n                }\n                if (liColl[index].hasAttribute('aria-selected')) {\n                    liColl[index].removeAttribute('aria-selected');\n                }\n            }\n            this.mainList = this.ulElement;\n        }\n        this.value = [];\n    };\n    ListBox.prototype.isSelected = function (ele) {\n        if (!isNullOrUndefined(ele)) {\n            return ele.classList.contains(cssClass.selected) || ele.querySelector('.e-check') !== null;\n        }\n        else {\n            return false;\n        }\n    };\n    ListBox.prototype.getSelectTag = function () {\n        return this.list.getElementsByClassName('e-hidden-select')[0];\n    };\n    ListBox.prototype.getToolElem = function () {\n        return this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n    };\n    ListBox.prototype.formResetHandler = function () {\n        this.value = this.initialSelectedOptions;\n    };\n    /**\n     * Return the module name.\n     *\n     * @private\n     * @returns {string} - Module name\n     */\n    ListBox.prototype.getModuleName = function () {\n        return 'listbox';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    ListBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ListBox.prototype.getLocaleName = function () {\n        return 'listbox';\n    };\n    ListBox.prototype.destroy = function () {\n        this.unwireEvents();\n        if (this.element.tagName === 'EJS-LISTBOX') {\n            this.element.innerHTML = '';\n        }\n        else {\n            this.element.style.display = 'inline-block';\n            if (this.toolbarSettings.items.length) {\n                this.list.parentElement.parentElement.insertBefore(this.list, this.list.parentElement);\n                detach(this.list.nextElementSibling);\n            }\n            this.list.parentElement.insertBefore(this.element, this.list);\n        }\n        _super.prototype.destroy.call(this);\n        this.enableRtlElements = [];\n        this.liCollections = null;\n        this.list = null;\n        this.ulElement = null;\n        this.mainList = null;\n        this.spinner = null;\n        this.rippleFun = null;\n        if (this.itemTemplate) {\n            this.clearTemplate();\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {ListBoxModel} newProp - Specifies the new properties.\n     * @param {ListBoxModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     * @private\n     */\n    ListBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrap = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrap], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrap], newProp.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.list.classList.add('e-rtl');\n                    }\n                    else {\n                        this.list.classList.remove('e-rtl');\n                    }\n                    break;\n                case 'value':\n                    removeClass(this.list.querySelectorAll('.' + cssClass.selected), cssClass.selected);\n                    this.clearSelection(this.value);\n                    this.setSelection();\n                    break;\n                case 'height':\n                    this.setHeight();\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'allowDragAndDrop':\n                    if (newProp.allowDragAndDrop) {\n                        this.initDraggable();\n                    }\n                    else {\n                        getComponent(this.ulElement, 'sortable').destroy();\n                    }\n                    break;\n                case 'allowFiltering':\n                    if (this.allowFiltering) {\n                        this.setFiltering();\n                    }\n                    else {\n                        this.list.removeChild(this.list.getElementsByClassName('e-filter-parent')[0]);\n                        this.filterParent = null;\n                        removeClass([this.list], 'e-filter-list');\n                    }\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this.allowFiltering) {\n                        if (this.filterInput) {\n                            Input.setPlaceholder(newProp.filterBarPlaceholder, this.filterInput);\n                        }\n                    }\n                    break;\n                case 'scope':\n                    if (this.allowDragAndDrop) {\n                        getComponent(this.ulElement, 'sortable').scope = newProp.scope;\n                    }\n                    if (this.toolbarSettings.items.length) {\n                        if (oldProp.scope) {\n                            getComponent(document.querySelector(oldProp.scope), this.getModuleName())\n                                .tBListBox = null;\n                        }\n                        if (newProp.scope) {\n                            getComponent(document.querySelector(newProp.scope), this.getModuleName())\n                                .tBListBox = this;\n                        }\n                    }\n                    break;\n                case 'toolbarSettings': {\n                    var ele = void 0;\n                    var pos = newProp.toolbarSettings.position;\n                    var toolElem = this.getToolElem();\n                    if (pos) {\n                        removeClass([wrap], ['e-right', 'e-left']);\n                        wrap.classList.add('e-' + pos.toLowerCase());\n                        if (pos === 'Left') {\n                            wrap.insertBefore(toolElem, this.list);\n                        }\n                        else {\n                            wrap.appendChild(toolElem);\n                        }\n                    }\n                    if (newProp.toolbarSettings.items) {\n                        if (oldProp.toolbarSettings && oldProp.toolbarSettings.items.length) {\n                            ele = this.list.parentElement;\n                            ele.parentElement.insertBefore(this.list, ele);\n                            detach(ele);\n                        }\n                        this.initToolbarAndStyles();\n                        this.wireToolbarEvent();\n                    }\n                    break;\n                }\n                case 'selectionSettings': {\n                    var showSelectAll = newProp.selectionSettings.showSelectAll;\n                    var showCheckbox = newProp.selectionSettings.showCheckbox;\n                    if (!isNullOrUndefined(showSelectAll)) {\n                        this.showSelectAll = showSelectAll;\n                        if (this.showSelectAll) {\n                            var l10nSel = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n                            this.checkBoxSelectionModule.checkAllParent = null;\n                            this.showSelectAll = true;\n                            this.selectAllText = l10nSel.getConstant('selectAllText');\n                            this.unSelectAllText = l10nSel.getConstant('selectAllText');\n                            this.popupWrapper = this.list;\n                        }\n                        this.notify('selectAll', {});\n                        this.checkSelectAll();\n                    }\n                    if (!isNullOrUndefined(showCheckbox)) {\n                        this.showCheckbox(showCheckbox);\n                    }\n                    if (this.selectionSettings.showCheckbox) {\n                        this.setCheckboxPosition();\n                    }\n                    break;\n                }\n                case 'dataSource':\n                    this.isDataSourceUpdate = true;\n                    this.jsonData = [].slice.call(this.dataSource);\n                    break;\n            }\n        }\n    };\n    var ListBox_1;\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property([])\n    ], ListBox.prototype, \"value\", void 0);\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"height\", void 0);\n    __decorate([\n        Property(true)\n    ], ListBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(1000)\n    ], ListBox.prototype, \"maximumSelectionLength\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"scope\", void 0);\n    __decorate([\n        Property(true)\n    ], ListBox.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(null)\n    ], ListBox.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property('None')\n    ], ListBox.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"beforeDrop\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"dataBound\", void 0);\n    __decorate([\n        Property(null)\n    ], ListBox.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], ListBox.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property(1000)\n    ], ListBox.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Complex({}, ToolbarSettings)\n    ], ListBox.prototype, \"toolbarSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], ListBox.prototype, \"selectionSettings\", void 0);\n    ListBox = ListBox_1 = __decorate([\n        NotifyPropertyChanges\n    ], ListBox);\n    return ListBox;\n}(DropDownBase));\nexport { ListBox };\nvar listBoxClasses = {\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    filterParent: 'e-filter-parent',\n    clearIcon: 'e-clear-icon'\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { compile, Property, EventHandler, Animation, formatUnit, append, attributes } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, detach, Event, Complex, addClass, removeClass, closest, isUndefined, getValue, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner, getZindexPartial } from '@syncfusion/ej2-popups';\nimport { highlightSearch, revertHighlightSearch } from '../common/highlight-search';\n/**\n * The Mention component is used to list someone or something based on user input in textarea, input,\n * or any other editable element from which the user can select.\n */\nvar Mention = /** @class */ (function (_super) {\n    __extends(Mention, _super);\n    /**\n     * * Constructor for creating the widget\n     *\n     * @param {MentionModel} options - Specifies the MentionComponent model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Mention(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     *\n     * @param {MentionModel} newProp - Returns the dynamic property value of the component.\n     * @param {MentionModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Mention.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'minLength':\n                    this.minLength = newProp.minLength;\n                    break;\n                case 'suffixText':\n                    this.suffixText = newProp.suffixText;\n                    break;\n                case 'allowSpaces':\n                    this.allowSpaces = newProp.allowSpaces;\n                    break;\n                case 'mentionChar':\n                    this.mentionChar = newProp.mentionChar;\n                    break;\n                case 'showMentionChar':\n                    this.showMentionChar = newProp.showMentionChar;\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n            }\n        }\n    };\n    Mention.prototype.updateCssClass = function (newClass, oldClass) {\n        if (!isNullOrUndefined(oldClass)) {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newClass)) {\n            newClass = (newClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.setCssClass(newClass, [this.inputElement], oldClass);\n        if (this.popupObj) {\n            this.setCssClass(newClass, [this.popupObj.element], oldClass);\n        }\n    };\n    Mention.prototype.setCssClass = function (cssClass, elements, oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(cssClass) && cssClass !== '') {\n            addClass(elements, cssClass.split(' '));\n        }\n    };\n    Mention.prototype.initializeData = function () {\n        this.isSelected = false;\n        this.isFiltered = false;\n        this.beforePopupOpen = false;\n        this.initRemoteRender = false;\n        this.isListResetted = false;\n        this.isPopupOpen = false;\n        this.isCollided = false;\n        this.lineBreak = false;\n        this.isRTE = false;\n        this.keyEventName = 'mousedown';\n    };\n    /**\n     * Execute before render the list items\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.preRender = function () {\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.render = function () {\n        var isSelector = typeof this.target === 'string';\n        this.inputElement = !isNullOrUndefined(this.target) ?\n            this.checkAndUpdateInternalComponent(isSelector\n                ? document.querySelector(this.target)\n                : this.target) : this.element;\n        if (this.isContentEditable(this.inputElement)) {\n            this.inputElement.setAttribute('contenteditable', 'true');\n            addClass([this.inputElement], ['e-mention']);\n            if (isNullOrUndefined(this.target)) {\n                addClass([this.inputElement], ['e-editable-element']);\n            }\n        }\n        this.inputElement.setAttribute('role', 'textbox');\n        this.inputElement.setAttribute('aria-label', 'mention');\n        this.queryString = this.elementValue();\n        this.wireEvent();\n    };\n    Mention.prototype.wireEvent = function () {\n        EventHandler.add(this.inputElement, 'keyup', this.onKeyUp, this);\n        this.bindCommonEvent();\n    };\n    Mention.prototype.unWireEvent = function () {\n        EventHandler.remove(this.inputElement, 'keyup', this.onKeyUp);\n        this.unBindCommonEvent();\n    };\n    Mention.prototype.bindCommonEvent = function () {\n        if (!Browser.isDevice) {\n            this.inputElement.addEventListener('keydown', this.keyDownHandler.bind(this), !this.isRTE);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.hideSpinner = function () {\n        this.hideWaitingSpinner();\n    };\n    Mention.prototype.hideWaitingSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n        }\n        if (!isNullOrUndefined(this.spinnerTemplate) && !isNullOrUndefined(this.spinnerTemplateElement)) {\n            detach(this.spinnerTemplateElement);\n        }\n    };\n    Mention.prototype.checkAndUpdateInternalComponent = function (targetElement) {\n        if (!this.isVue && targetElement.classList.contains('e-richtexteditor')) {\n            return targetElement.querySelector('.e-content');\n        }\n        if (this.isVue && targetElement.nodeName === 'TEXTAREA' && targetElement.classList.contains('e-rte-hidden')) {\n            var parentElement = targetElement.parentElement;\n            if (parentElement && parentElement.classList.contains('e-richtexteditor')) {\n                return parentElement.querySelector('.e-content');\n            }\n        }\n        if (targetElement && targetElement.parentElement && targetElement.parentElement.classList.contains('e-rte-content')) {\n            this.isRTE = true;\n            this.keyEventName = 'click';\n        }\n        return targetElement;\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.showWaitingSpinner = function () {\n        if (!isNullOrUndefined(this.popupObj)) {\n            if (isNullOrUndefined(this.spinnerTemplate) && isNullOrUndefined(this.spinnerElement)) {\n                this.spinnerElement = this.popupObj.element;\n                createSpinner({\n                    target: this.spinnerElement,\n                    width: Browser.isDevice ? '16px' : '14px'\n                }, this.createElement);\n                showSpinner(this.spinnerElement);\n            }\n            if (!isNullOrUndefined(this.spinnerTemplate)) {\n                this.setSpinnerTemplate();\n            }\n        }\n    };\n    Mention.prototype.keyDownHandler = function (e) {\n        var isKeyAction = true;\n        switch (e.keyCode) {\n            case 38:\n                e.action = e.altKey ? 'hide' : 'up';\n                break;\n            case 40:\n                e.action = e.altKey ? 'open' : 'down';\n                break;\n            case 33:\n                e.action = 'pageUp';\n                break;\n            case 34:\n                e.action = 'pageDown';\n                break;\n            case 36:\n                e.action = 'home';\n                break;\n            case 35:\n                e.action = 'end';\n                break;\n            case 9:\n                e.action = e.shiftKey ? 'close' : 'tab';\n                break;\n            case 27:\n                e.action = 'escape';\n                break;\n            case 32:\n                e.action = 'space';\n                break;\n            case 13:\n                e.action = 'enter';\n                break;\n            default:\n                isKeyAction = false;\n                break;\n        }\n        if (isKeyAction) {\n            this.keyActionHandler(e);\n        }\n    };\n    Mention.prototype.keyActionHandler = function (e) {\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        var isTabAction = e.action === 'tab' || e.action === 'close';\n        if (this.list === undefined && !this.isRequested && !isTabAction && e.action !== 'escape' && e.action !== 'space') {\n            this.renderList();\n        }\n        if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n            isNavigation && this.liCollections.length === 0) || this.isRequested) {\n            return;\n        }\n        if (e.action === 'escape') {\n            e.preventDefault();\n        }\n        this.isSelected = e.action === 'escape' ? false : this.isSelected;\n        switch (e.action) {\n            case 'down':\n            case 'up':\n                this.isUpDownKey = true;\n                this.updateUpDownAction(e);\n                break;\n            case 'tab':\n                if (this.isPopupOpen) {\n                    e.preventDefault();\n                    var li = this.list.querySelector('.' + dropDownBaseClasses.selected);\n                    if (li) {\n                        this.setSelection(li, e);\n                    }\n                    if (this.isPopupOpen) {\n                        this.hidePopup(e);\n                    }\n                }\n                break;\n            case 'enter':\n                if (this.isPopupOpen) {\n                    e.preventDefault();\n                    if (this.popupObj && this.popupObj.element.contains(this.selectedLI)) {\n                        this.updateSelectedItem(this.selectedLI, e, false, true);\n                    }\n                }\n                break;\n            case 'escape':\n                if (this.isPopupOpen) {\n                    this.hidePopup(e);\n                }\n                break;\n        }\n    };\n    Mention.prototype.updateUpDownAction = function (e) {\n        var focusEle = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (this.isSelectFocusItem(focusEle)) {\n            this.setSelection(focusEle, e);\n        }\n        else if (!isNullOrUndefined(this.liCollections)) {\n            var li = this.list.querySelector('.' + dropDownBaseClasses.selected);\n            if (!isNullOrUndefined(li)) {\n                var value = this.getFormattedValue(li.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n            }\n            var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n            var startIndex = 0;\n            startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n            index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n            var nextItem = isNullOrUndefined(this.activeIndex) ?\n                this.liCollections[startIndex] : this.liCollections[index];\n            if (!isNullOrUndefined(nextItem)) {\n                this.setSelection(nextItem, e);\n            }\n        }\n        if (this.isPopupOpen) {\n            e.preventDefault();\n        }\n    };\n    Mention.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    Mention.prototype.unBindCommonEvent = function () {\n        if (!Browser.isDevice) {\n            this.inputElement.removeEventListener('keydown', this.keyDownHandler.bind(this), !this.isRTE);\n        }\n    };\n    Mention.prototype.onKeyUp = function (e) {\n        var rangetextContent;\n        if (this.isUpDownKey && this.isPopupOpen && e.keyCode === 229) {\n            this.isUpDownKey = false;\n            return;\n        }\n        this.isTyped = e.code !== 'Enter' && e.code !== 'Space' && e.code !== 'ArrowDown' && e.code !== 'ArrowUp' ? true : false;\n        var isRteImage = document.activeElement.parentElement && document.activeElement.parentElement.querySelector('.e-rte-image') ? true : false;\n        if (document.activeElement != this.inputElement && isRteImage) {\n            this.inputElement.focus();\n        }\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n            rangetextContent = this.range.startContainer.textContent.split('');\n        }\n        var currentRange = this.getTextRange();\n        var lastWordRange = this.getLastLetter(currentRange);\n        var lastTwoLetters = this.mentionChar.toString() + this.mentionChar.toString();\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        var Regex = new RegExp(this.mentionChar.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'), 'g');\n        var charRegex = new RegExp('[a-zA-Z]', 'g');\n        if (e.key === 'Shift' || e.keyCode === 37 || e.keyCode === 39) {\n            return;\n        }\n        if (this.beforePopupOpen && this.isPopupOpen && lastWordRange == lastTwoLetters) {\n            this.hidePopup();\n            return;\n        }\n        if ((!currentRange || !lastWordRange) || e.code === 'Enter' || e.keyCode === 27 ||\n            (lastWordRange.match(Regex) && lastWordRange.match(Regex).length > 1) ||\n            (this.isContentEditable(this.inputElement) && this.range.startContainer &&\n                this.range.startContainer.previousElementSibling && this.range.startContainer.previousElementSibling.tagName !== 'BR' && this.range.startContainer.textContent.split('').length > 0 &&\n                (rangetextContent.length === 1 || rangetextContent[rangetextContent.length - 2].indexOf('') === -1 ||\n                    this.range.startContainer.nodeType === 1))) {\n            if (this.isPopupOpen && this.allowSpaces && currentRange && currentRange.trim() !== '' && charRegex.test(currentRange) && currentRange.indexOf(this.mentionChar) !== -1\n                && !this.isMatchedText() && (currentRange.length > 1 && currentRange.replace(/\\u00A0/g, ' ').charAt(currentRange.length - 2) !== ' ') &&\n                (this.list && this.list.querySelectorAll('ul').length > 0) && e.code !== 'Enter') {\n                this.queryString = currentRange.substring(currentRange.lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ');\n                this.searchLists(e);\n            }\n            else if (this.isPopupOpen && (!this.allowSpaces || !lastWordRange) && (e.code !== 'ArrowDown' && e.code !== 'ArrowUp')) {\n                this.hidePopup();\n                this.lineBreak = true;\n            }\n            return;\n        }\n        if (lastWordRange.includes(this.mentionChar)) {\n            this.queryString = lastWordRange.replace(this.mentionChar, '');\n        }\n        if (this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0) &&\n            this.queryString !== '' && e.keyCode !== 38 && e.keyCode !== 40 && !this.lineBreak) {\n            this.searchLists(e);\n            if (!this.isPopupOpen && this.queryString.length >= this.minLength) {\n                if (!this.isContentEditable(this.inputElement)) {\n                    this.showPopup();\n                }\n                else if (this.isContentEditable(this.inputElement) && this.range && this.range.startContainer !== this.inputElement && e.keyCode !== 9) {\n                    this.showPopup();\n                }\n            }\n        }\n        else if (lastWordRange.indexOf(this.mentionChar) === 0 && !this.isPopupOpen && e.keyCode !== 8 && (!this.popupObj ||\n            (isNullOrUndefined(this.target) && !document.body.contains(this.popupObj.element) ||\n                !isNullOrUndefined(this.target) && document.body.contains(this.popupObj.element)))) {\n            if (this.initRemoteRender && this.list && this.list.classList.contains('e-nodata')) {\n                this.searchLists(e);\n            }\n            this.resetList(this.dataSource, this.fields);\n            if (isNullOrUndefined(this.list)) {\n                this.initValue();\n            }\n            if (!this.isPopupOpen && e.keyCode !== 38 && e.keyCode !== 40 && this.queryString.length >= this.minLength) {\n                this.didPopupOpenByTypingInitialChar = true;\n                this.showPopup();\n                if (this.initRemoteRender && this.list.querySelectorAll('li').length === 0) {\n                    this.showWaitingSpinner();\n                }\n                this.lineBreak = false;\n            }\n        }\n        else if (this.allowSpaces && this.queryString !== '' && currentRange && currentRange.trim() !== '' && currentRange.replace('\\u00a0', ' ').lastIndexOf(' ') < currentRange.length - 1 &&\n            e.keyCode !== 38 && e.keyCode !== 40 && e.keyCode !== 8 && (this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0) || (this.liCollections && this.liCollections.length > 0))) {\n            this.queryString = currentRange.substring(currentRange.lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ');\n            this.searchLists(e);\n        }\n        else if (this.queryString === '' && this.isPopupOpen && e.keyCode !== 38 && e.keyCode !== 40 && this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0)) {\n            this.searchLists(e);\n            if (!this.isListResetted) {\n                this.resetList(this.dataSource, this.fields);\n            }\n        }\n        this.isListResetted = false;\n    };\n    Mention.prototype.isMatchedText = function () {\n        var isMatched = false;\n        for (var i = 0; i < (this.liCollections && this.liCollections.length); i++) {\n            if (this.getTextRange() &&\n                this.getTextRange().substring(this.getTextRange().lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ').trim() === this.liCollections[i].getAttribute('data-value').toLowerCase()) {\n                isMatched = true;\n            }\n        }\n        return isMatched;\n    };\n    Mention.prototype.getCurrentRange = function () {\n        this.range = this.inputElement.ownerDocument.getSelection().getRangeAt(0);\n        return this.range;\n    };\n    Mention.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isDataFetched = false;\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.render.call(this);\n            this.unWireListEvents();\n            this.wireListEvents();\n        }\n        if (e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.queryString,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this.isFiltered = true;\n                _this.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && !_this.isFiltered && !eventArgs.preventDefaultAction) {\n                _this.filterAction(_this.dataSource, null, _this.fields);\n            }\n        });\n    };\n    Mention.prototype.filterAction = function (dataSource, query, fields) {\n        this.beforePopupOpen = true;\n        if (this.queryString.length >= this.minLength) {\n            this.resetList(dataSource, fields, query);\n            this.isListResetted = true;\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            this.beforePopupOpen = false;\n        }\n        this.setDataIndex();\n        this.renderReactTemplates();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Mention.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isActive) {\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.inputElement.id + '_options', 'role': 'listbox', 'aria-hidden': 'false' });\n            }\n            var focusItem = ulElement.querySelector('.' + dropDownBaseClasses.li);\n            if (focusItem) {\n                focusItem.classList.add(dropDownBaseClasses.selected);\n                this.selectedLI = focusItem;\n                var value = this.getFormattedValue(focusItem.getAttribute('data-value'));\n                this.selectEventCallback(focusItem, this.getDataByValue(value), value, true);\n            }\n            if (this.beforePopupOpen && this.isPopupOpen) {\n                if (!isNullOrUndefined(this.popupObj.element)) {\n                    this.popupObj.element.remove();\n                }\n                this.renderPopup();\n            }\n        }\n    };\n    Mention.prototype.setDataIndex = function () {\n        for (var i = 0; this.liCollections && i < this.liCollections.length; i++) {\n            this.liCollections[i].setAttribute('data-index', i.toString());\n        }\n    };\n    Mention.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    if (_this.inputElement.tagName === _this.getNgDirective() && _this.itemTemplate) {\n                        setTimeout(function () {\n                            highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                        }, 0);\n                    }\n                    else {\n                        highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                    }\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                }\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n        return fields;\n    };\n    Mention.prototype.elementValue = function () {\n        if (!this.isContentEditable(this.inputElement)) {\n            return this.inputElement.value.replace(this.mentionChar, '');\n        }\n        else {\n            return this.inputElement.textContent.replace(this.mentionChar, '');\n        }\n    };\n    Mention.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var filterType = (this.queryString === '' && !isNullOrUndefined(this.elementValue())) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(this.elementValue())) ?\n            this.elementValue() : this.queryString;\n        if (this.isFiltered) {\n            return filterQuery;\n        }\n        if (this.queryString !== null && this.queryString !== '') {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var mapping = !isNullOrUndefined(this.fields.text) ? this.fields.text : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount)) {\n            // Since defualt value of suggestioncount is 25, checked the condition\n            if (this.suggestionCount !== 25) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        filterQuery.queries.splice(queryElements, 1);\n                    }\n                }\n            }\n            filterQuery.take(this.suggestionCount);\n        }\n        return filterQuery;\n    };\n    Mention.prototype.renderHightSearch = function () {\n        if (this.highlight) {\n            for (var i = 0; i < this.liCollections.length; i++) {\n                var isHighlight = this.ulElement.querySelector('.e-active');\n                if (!isHighlight) {\n                    revertHighlightSearch(this.liCollections[i]);\n                    highlightSearch(this.liCollections[i], this.queryString, this.ignoreCase, this.filterType);\n                }\n            }\n        }\n    };\n    Mention.prototype.getTextRange = function () {\n        var text;\n        if (!this.isContentEditable(this.inputElement)) {\n            var component = this.inputElement;\n            if (!isNullOrUndefined(component)) {\n                var startPos = component.selectionStart;\n                if (component.value && startPos >= 0) {\n                    text = component.value.substring(0, startPos);\n                }\n            }\n        }\n        else {\n            if (this.range) {\n                var selectedElem = this.range.startContainer;\n                if (!isNullOrUndefined(selectedElem)) {\n                    var workingNodeContent = selectedElem.textContent;\n                    var selectStartOffset = this.range.startOffset;\n                    if (workingNodeContent && selectStartOffset >= 0) {\n                        text = workingNodeContent.substring(0, selectStartOffset);\n                    }\n                }\n            }\n        }\n        return text;\n    };\n    Mention.prototype.getLastLetter = function (text) {\n        if (isNullOrUndefined(text)) {\n            return '';\n        }\n        var textValue = text.replace(/\\u00A0/g, ' ');\n        var words = textValue.split(/\\s+/);\n        var wordCnt = words.length - 1;\n        return words[wordCnt].trim();\n    };\n    Mention.prototype.isContentEditable = function (element) {\n        return element && element.nodeName !== 'INPUT' && element.nodeName !== 'TEXTAREA';\n    };\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.showPopup = function () {\n        this.beforePopupOpen = true;\n        if (document.activeElement != this.inputElement) {\n            this.inputElement.focus();\n        }\n        this.queryString = this.didPopupOpenByTypingInitialChar ? this.queryString : '';\n        this.didPopupOpenByTypingInitialChar = false;\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n        }\n        if (!this.isTyped) {\n            this.resetList(this.dataSource, this.fields);\n        }\n        if (isNullOrUndefined(this.list)) {\n            this.initValue();\n        }\n        this.renderPopup();\n        attributes(this.inputElement, { 'aria-activedescendant': this.selectedElementID });\n        if (this.selectedElementID == null) {\n            this.inputElement.removeAttribute('aria-activedescendant');\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in an open state.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.hidePopup = function (e) {\n        this.removeSelection();\n        this.closePopup(0, e);\n    };\n    Mention.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.inputElement.removeAttribute('aria-owns');\n        this.inputElement.removeAttribute('aria-activedescendant');\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var popupInstance = this.popupObj;\n        var eventArgs = { popup: popupInstance, cancel: false, animation: animModel, event: e || null };\n        this.trigger('closed', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && _this.popupObj) {\n                if (_this.isPopupOpen) {\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                }\n                else {\n                    _this.destroyPopup();\n                }\n            }\n        });\n    };\n    Mention.prototype.renderPopup = function () {\n        var _this = this;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                var popupEle_1;\n                if (isNullOrUndefined(_this.target)) {\n                    popupEle_1 = _this.createElement('div', {\n                        id: _this.inputElement.id + '_popup', className: 'e-mention e-popup ' + (_this.cssClass != null ? _this.cssClass : '')\n                    });\n                }\n                else {\n                    popupEle_1 = _this.element;\n                    if (_this.cssClass != null) {\n                        addClass([popupEle_1], _this.cssClass.split(' '));\n                    }\n                }\n                if (!isNullOrUndefined(_this.target)) {\n                    popupEle_1.id = _this.inputElement.id + '_popup';\n                }\n                _this.listHeight = formatUnit(_this.popupHeight);\n                if (!isNullOrUndefined(_this.list.querySelector('li')) && !_this.initRemoteRender) {\n                    var li = _this.list.querySelector('.' + dropDownBaseClasses.focus);\n                    if (!isNullOrUndefined(li)) {\n                        _this.selectedLI = li;\n                        var value = _this.getFormattedValue(li.getAttribute('data-value'));\n                        _this.selectEventCallback(li, _this.getDataByValue(value), value, true);\n                    }\n                }\n                append([_this.list], popupEle_1);\n                if (_this.inputElement.parentElement && _this.inputElement.parentElement.parentElement &&\n                    _this.inputElement.parentElement.parentElement.classList.contains('e-richtexteditor')) {\n                    if (popupEle_1.firstElementChild && popupEle_1.firstElementChild.childElementCount > 0) {\n                        popupEle_1.firstElementChild.setAttribute('aria-owns', _this.inputElement.parentElement.parentElement.id);\n                        addClass([popupEle_1], 'e-rte-elements');\n                    }\n                }\n                if ((!_this.popupObj || !document.body.contains(_this.popupObj.element)) ||\n                    !document.contains(popupEle_1) && isNullOrUndefined(_this.target)) {\n                    document.body.appendChild(popupEle_1);\n                }\n                var coordinates_1;\n                popupEle_1.style.visibility = 'hidden';\n                _this.setHeight(popupEle_1);\n                var offsetValue = 0;\n                var left = 0;\n                _this.initializePopup(popupEle_1, offsetValue, left);\n                _this.checkCollision(popupEle_1);\n                popupEle_1.style.visibility = 'visible';\n                var popupLeft_1 = popupEle_1.parentElement.offsetWidth - popupEle_1.offsetWidth;\n                var popupHeight_1 = popupEle_1.offsetHeight;\n                addClass([popupEle_1], ['e-mention', 'e-popup', 'e-popup-close']);\n                if (!isNullOrUndefined(_this.list)) {\n                    _this.unWireListEvents();\n                    _this.wireListEvents();\n                }\n                _this.selectedElementID = _this.selectedLI ? _this.selectedLI.id : null;\n                attributes(_this.inputElement, { 'aria-owns': _this.inputElement.id + '_options', 'aria-activedescendant': _this.selectedElementID });\n                if (_this.selectedElementID == null) {\n                    _this.inputElement.removeAttribute('aria-activedescendant');\n                }\n                var animModel = { name: 'FadeIn', duration: 100 };\n                _this.beforePopupOpen = true;\n                var popupInstance = _this.popupObj;\n                var eventArgs = { popup: popupInstance, cancel: false, animation: animModel };\n                _this.trigger('opened', eventArgs, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        _this.renderReactTemplates();\n                        if (_this.popupObj) {\n                            _this.popupObj.show(new Animation(eventArgs.animation), (_this.zIndex === 1000) ? _this.inputElement : null);\n                        }\n                        if (isNullOrUndefined(_this.getTriggerCharPosition())) {\n                            return;\n                        }\n                        coordinates_1 = _this.getCoordinates(_this.inputElement, _this.getTriggerCharPosition());\n                        if (!_this.isCollided) {\n                            popupEle_1.style.cssText = 'top: '.concat(coordinates_1.top.toString(), 'px;\\n left: ').concat(coordinates_1.left.toString(), 'px;\\nposition: absolute;\\n display: block;');\n                        }\n                        else {\n                            if (_this.collision.length > 0 && _this.collision.indexOf('right') > -1 && _this.collision.indexOf('bottom') === -1) {\n                                popupEle_1.style.cssText = 'top: '.concat(coordinates_1.top.toString(), 'px;\\n left: ').concat(popupLeft_1.toString(), 'px;\\nposition: absolute;\\n display: block;');\n                            }\n                            else if (_this.collision && _this.collision.length > 0 && _this.collision.indexOf('bottom') > -1 && _this.collision.indexOf('right') === -1) {\n                                popupEle_1.style.left = formatUnit(coordinates_1.left);\n                                popupEle_1.style.top = formatUnit(coordinates_1.top - parseInt(popupHeight_1.toString()));\n                            }\n                            else if (_this.collision && _this.collision.length > 0 && _this.collision.indexOf('bottom') > -1 && _this.collision.indexOf('right') > -1) {\n                                popupEle_1.style.left = formatUnit(popupLeft_1);\n                                popupEle_1.style.top = formatUnit(coordinates_1.top - parseInt(popupHeight_1.toString()));\n                            }\n                            else {\n                                popupEle_1.style.left = formatUnit(coordinates_1.left);\n                                popupEle_1.style.top = formatUnit(coordinates_1.top - parseInt(_this.popupHeight.toString()));\n                            }\n                            _this.isCollided = false;\n                            _this.collision = [];\n                        }\n                        popupEle_1.style.width = _this.popupWidth !== '100%' && !isNullOrUndefined(_this.popupWidth) ? formatUnit(_this.popupWidth) : 'auto';\n                        _this.setHeight(popupEle_1);\n                        popupEle_1.style.zIndex = _this.zIndex === 1000 ? getZindexPartial(popupEle_1).toString() : _this.zIndex.toString();\n                    }\n                    else {\n                        _this.beforePopupOpen = false;\n                        _this.destroyPopup();\n                    }\n                });\n            }\n            else {\n                _this.beforePopupOpen = false;\n            }\n        });\n    };\n    Mention.prototype.setHeight = function (popupEle) {\n        if (this.popupHeight !== 'auto' && this.list) {\n            this.list.style.maxHeight = (parseInt(this.listHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n            popupEle.style.maxHeight = formatUnit(this.popupHeight);\n        }\n        else {\n            popupEle.style.height = 'auto';\n        }\n    };\n    Mention.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'mention'))) {\n            var coordinates = this.getCoordinates(this.inputElement, this.getTriggerCharPosition());\n            this.collision = isCollide(popupEle, null, coordinates.left, coordinates.top);\n            if (this.collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n                this.isCollided = true;\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    Mention.prototype.getTriggerCharPosition = function () {\n        var mostRecentTriggerCharPos;\n        var currentRange = this.getTextRange();\n        if (currentRange !== undefined && currentRange !== null) {\n            mostRecentTriggerCharPos = 0;\n            var idx = currentRange.lastIndexOf(this.mentionChar);\n            if (idx >= mostRecentTriggerCharPos) {\n                mostRecentTriggerCharPos = idx;\n            }\n        }\n        return mostRecentTriggerCharPos ? mostRecentTriggerCharPos : 0;\n    };\n    Mention.prototype.initializePopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputElement, collision: { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left, position: { X: 'left', Y: 'bottom' }, actionOnScroll: 'hide',\n            zIndex: this.zIndex,\n            close: function () {\n                _this.destroyPopup();\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                _this.setDataIndex();\n            }\n        });\n    };\n    Mention.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputElement.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    Mention.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        this.popupObj.destroy();\n        if (isNullOrUndefined(this.target)) {\n            detach(this.popupObj.element);\n        }\n        else {\n            this.popupObj.element.innerHTML = '';\n            this.popupObj.element.removeAttribute('style');\n            this.popupObj.element.removeAttribute('aria-disabled');\n        }\n        if (this.list.classList.contains('e-nodata')) {\n            this.list = null;\n        }\n    };\n    Mention.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, '#' + this.popupObj.element.id))) {\n            this.hidePopup(e);\n        }\n    };\n    Mention.prototype.getCoordinates = function (element, position) {\n        var properties = ['direction', 'boxSizing', 'width', 'height', 'overflowX', 'overflowY', 'borderTopWidth', 'borderRightWidth', 'borderBottomWidth', 'borderLeftWidth', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch', 'fontSize', 'fontSizeAdjust', 'lineHeight', 'fontFamily', 'textAlign', 'textTransform', 'textIndent', 'textDecoration', 'letterSpacing', 'wordSpacing'];\n        var div;\n        var span;\n        var range;\n        var globalRange;\n        var coordinates;\n        var computed;\n        var rect;\n        if (!this.isContentEditable(this.inputElement)) {\n            div = this.createElement('div', { className: 'e-form-mirror-div' });\n            document.body.appendChild(div);\n            computed = getComputedStyle(element);\n            div.style.position = 'absolute';\n            div.style.visibility = 'hidden';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            properties.forEach(function (prop) {\n                // eslint-disable-next-line security/detect-object-injection\n                div.style[prop] = computed[prop];\n            });\n            div.textContent = element.value.substring(0, position);\n            if (this.inputElement.nodeName === 'INPUT') {\n                div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n            }\n            span = this.createElement('span');\n            span.textContent = element.value.substring(position) || '.';\n            div.appendChild(span);\n            rect = element.getBoundingClientRect();\n        }\n        else {\n            var selectedNodePosition = this.getTriggerCharPosition();\n            globalRange = this.range;\n            range = document.createRange();\n            if (this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) {\n                range.setStart(globalRange.startContainer, selectedNodePosition);\n                range.setEnd(globalRange.startContainer, selectedNodePosition);\n            }\n            else {\n                range.setStart(globalRange.startContainer, globalRange.startOffset);\n                range.setEnd(globalRange.startContainer, globalRange.endOffset);\n            }\n            this.isTyped = false;\n            range.collapse(false);\n            rect = range.getBoundingClientRect().top === 0 ? range.startContainer.getClientRects()[0] : range.getBoundingClientRect();\n        }\n        var rectTop = rect.top;\n        var rectLeft = rect.left;\n        var iframes = document.querySelectorAll('iframe');\n        if (iframes.length > 0) {\n            for (var i = 0; i < iframes.length; i++) {\n                // eslint-disable-next-line security/detect-object-injection\n                var iframe = iframes[i];\n                if (iframe.contentDocument && iframe.contentDocument.contains(element)) {\n                    var iframeRect = iframe.getBoundingClientRect();\n                    rectTop += iframeRect.top;\n                    rectLeft += iframeRect.left;\n                }\n            }\n        }\n        var doc = document.documentElement;\n        var windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n        var windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n        var width = 0;\n        if (!isNullOrUndefined(range) && range.getBoundingClientRect().top === 0) {\n            for (var i = 0; i < this.range.startContainer.childNodes.length; i++) {\n                if (this.range.startContainer.childNodes[i].nodeType !== Node.TEXT_NODE && this.range.startContainer.childNodes[i].textContent.trim() !== '') {\n                    width += this.range.startContainer.childNodes[i].getClientRects()[0].width;\n                }\n                else if (this.range.startContainer.childNodes[i].textContent !== '') {\n                    var span_1 = document.createElement(\"span\");\n                    span_1.innerHTML = this.range.startContainer.childNodes[i].nodeValue;\n                    document.body.appendChild(span_1);\n                    var textNodeWidth = span_1.offsetWidth;\n                    document.body.removeChild(span_1);\n                    width += textNodeWidth;\n                }\n            }\n        }\n        if (!this.isContentEditable(this.inputElement)) {\n            coordinates = {\n                top: rectTop + windowTop + span.offsetTop + parseInt(computed.borderTopWidth, 10) +\n                    parseInt(computed.fontSize, 10) + 3 - element.scrollTop - (this.isCollided ? 10 : 0),\n                left: rectLeft + windowLeft + span.offsetLeft + parseInt(computed.borderLeftWidth, 10)\n            };\n            document.body.removeChild(div);\n        }\n        else {\n            if (this.collision && this.collision.length > 0 && this.collision.indexOf('right') > -1 && this.collision.indexOf('bottom') === -1) {\n                coordinates = {\n                    top: rectTop + windowTop + parseInt(getComputedStyle(this.inputElement).fontSize, 10),\n                    left: rectLeft + windowLeft + width\n                };\n            }\n            else {\n                coordinates = {\n                    top: rectTop + windowTop + parseInt(getComputedStyle(this.inputElement).fontSize, 10) - (this.isCollided ? 10 : 0),\n                    left: rectLeft + windowLeft + width\n                };\n            }\n        }\n        return coordinates;\n    };\n    Mention.prototype.initValue = function () {\n        this.isDataFetched = false;\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    Mention.prototype.updateValues = function () {\n        var li = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (!isNullOrUndefined(li)) {\n            this.setSelection(li, null);\n        }\n    };\n    Mention.prototype.renderList = function () {\n        _super.prototype.render.call(this);\n        this.unWireListEvents();\n        this.wireListEvents();\n    };\n    /**\n     * Event binding for list\n     *\n     * @returns {void}\n     */\n    Mention.prototype.wireListEvents = function () {\n        EventHandler.add(this.list, this.keyEventName, this.onMouseClick, this);\n        EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    };\n    /**\n     * Event un binding for list items.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.unWireListEvents = function () {\n        EventHandler.remove(this.list, this.keyEventName, this.onMouseClick);\n        EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n    };\n    Mention.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        this.isSelected = true;\n        this.setSelection(li, e);\n        var delay = 100;\n        this.closePopup(delay, e);\n        this.inputElement.focus();\n        if (!this.isRTE) {\n            e.preventDefault();\n        }\n    };\n    Mention.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n        var _this = this;\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = this.getFormattedValue(li.getAttribute('data-value'));\n        var selectedData = this.getDataByValue(value);\n        if (!preventSelect && !isNullOrUndefined(e) && !(e.action === \"down\" || e.action === \"up\")) {\n            var items = this.detachChanges(selectedData);\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: li,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    li.classList.remove(dropDownBaseClasses.selected);\n                    _this.isSelected = false;\n                    _this.isSelectCancel = true;\n                }\n                else {\n                    _this.selectEventCallback(li, selectedData, value);\n                    if (isSelection) {\n                        _this.setSelectOptions(li, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.selectEventCallback(li, selectedData, value);\n            if (isSelection) {\n                this.setSelectOptions(li, e);\n            }\n        }\n    };\n    Mention.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || (this.isPopupOpen && this.isSelected\n            && li.classList.contains(dropDownBaseClasses.selected)))) {\n            this.updateSelectedItem(li, e, false, true);\n        }\n        else {\n            this.setSelectOptions(li, e);\n        }\n    };\n    Mention.prototype.setSelectOptions = function (li, e) {\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI)) {\n            this.setScrollPosition(e);\n        }\n        if (e && (e.keyCode === 38 || e.keyCode === 40)) {\n            return;\n        }\n        if (isNullOrUndefined(e) || this.setValue(e)) {\n            return;\n        }\n    };\n    Mention.prototype.setScrollPosition = function (e) {\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.scrollBottom();\n                    break;\n                default:\n                    this.scrollTop();\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n    };\n    Mention.prototype.scrollBottom = function (isInitial) {\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var currentOffset = this.list.offsetHeight;\n            var nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n            nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset;\n            var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            if (this.activeIndex === 0) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = nextOffset;\n            }\n        }\n    };\n    Mention.prototype.scrollTop = function () {\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var nextOffset = this.selectedLI.offsetTop - this.list.scrollTop;\n            nextOffset = this.fields.groupBy && nextOffset;\n            var boxRange = (this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop);\n            if (this.activeIndex === 0) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextOffset < 0) {\n                this.list.scrollTop = this.list.scrollTop + nextOffset;\n            }\n            else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = this.selectedLI.offsetTop;\n            }\n        }\n    };\n    Mention.prototype.selectEventCallback = function (li, selectedData, value, selectLi) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        this.item = li;\n        this.itemData = selectedData;\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        if (selectLi) {\n            addClass([li], dropDownBaseClasses.selected);\n        }\n        li.setAttribute('aria-selected', 'true');\n        this.activeIndex = this.getIndexByValue(value);\n    };\n    Mention.prototype.detachChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    Mention.prototype.setValue = function (e) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            if (!isNullOrUndefined(this.displayTemplate)) {\n                this.setDisplayTemplate();\n            }\n            this.updateMentionValue(e);\n            return true;\n        }\n        else {\n            if (!isNullOrUndefined(this.displayTemplate)) {\n                this.setDisplayTemplate(e);\n            }\n            else {\n                this.updateMentionValue(e);\n            }\n            return true;\n        }\n    };\n    Mention.prototype.updateMentionValue = function (e) {\n        var dataItem = this.getItemData();\n        var textSuffix;\n        var value;\n        var endPos;\n        var range;\n        var globalRange;\n        var selection = this.inputElement.ownerDocument.getSelection();\n        var startPos = this.getTriggerCharPosition();\n        textSuffix = typeof this.suffixText === 'string' ? this.suffixText : '';\n        if (this.isSelectCancel) {\n            this.isSelectCancel = false;\n            return;\n        }\n        if (dataItem.text !== null) {\n            value = this.mentionVal(dataItem.text);\n        }\n        if (!this.isContentEditable(this.inputElement)) {\n            var myField = this.inputElement;\n            var currentTriggerSnippet = this.getTextRange().substring(startPos + this.mentionChar.length, this.getTextRange().length);\n            value += textSuffix;\n            endPos = startPos + this.mentionChar.length;\n            endPos += currentTriggerSnippet.length;\n            myField.value = myField.value.substring(0, startPos) + value + myField.value.substring(endPos, myField.value.length);\n            myField.selectionStart = startPos + value.length;\n            myField.selectionEnd = startPos + value.length;\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            this.onChangeEvent(e);\n        }\n        else {\n            endPos = this.getTriggerCharPosition() + this.mentionChar.length;\n            if (this.range && (this.range.startContainer.textContent.trim() !== this.mentionChar)) {\n                endPos = this.range.endOffset;\n            }\n            globalRange = this.range;\n            range = document.createRange();\n            if (((this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) || this.getTextRange() && this.getTextRange().trim() === this.mentionChar)) {\n                range.setStart(globalRange.startContainer, startPos);\n                range.setEnd(globalRange.startContainer, endPos);\n            }\n            else {\n                if (globalRange.commonAncestorContainer.textContent.trim() !== '' && !isNullOrUndefined(globalRange.commonAncestorContainer.textContent.trim()) && this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) {\n                    range.setStart(globalRange.startContainer, globalRange.startOffset - 1);\n                    range.setEnd(globalRange.startContainer, globalRange.endOffset - 1);\n                }\n                else {\n                    range.setStart(globalRange.startContainer, globalRange.startOffset);\n                    range.setEnd(globalRange.startContainer, globalRange.endOffset);\n                }\n            }\n            this.isTyped = false;\n            range.deleteContents();\n            var element = this.createElement('div');\n            element.innerHTML = value;\n            var frag = document.createDocumentFragment();\n            var node = void 0;\n            var lastNode = void 0;\n            // eslint-disable-next-line no-cond-assign\n            while (node = element.firstChild) {\n                lastNode = frag.appendChild(node);\n            }\n            range.insertNode(frag);\n            if (lastNode) {\n                range = range.cloneRange();\n                range.setStartAfter(lastNode);\n                range.collapse(true);\n                selection.removeAllRanges();\n                selection.addRange(range);\n            }\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            //New event to update the RichTextEditor value, when a mention item is selected using mouse click action.\n            if (!isNullOrUndefined(e.pointerType) && e.pointerType === 'mouse') {\n                var event_1 = new CustomEvent('content-changed', { detail: { click: true } });\n                this.inputElement.dispatchEvent(event_1);\n            }\n            ;\n            this.onChangeEvent(e);\n        }\n    };\n    Mention.prototype.mentionVal = function (value) {\n        var showChar = this.showMentionChar ? this.mentionChar : '';\n        if (!isNullOrUndefined(this.displayTemplate) && !isNullOrUndefined(this.displayTempElement)) {\n            value = this.displayTempElement.innerHTML;\n        }\n        if (this.isContentEditable(this.inputElement)) {\n            if (Browser.isAndroid) {\n                return '<span contenteditable=\"true\" class=\"e-mention-chip\">' + showChar + value + '</span>'.concat(typeof this.suffixText === 'string' ? this.suffixText : ' ');\n            }\n            else {\n                return '<span contenteditable=\"false\" class=\"e-mention-chip\">' + showChar + value + '</span>'.concat(typeof this.suffixText === 'string' ? this.suffixText : ' ');\n            }\n        }\n        else {\n            return showChar + value;\n        }\n    };\n    Mention.prototype.setDisplayTemplate = function (e) {\n        var _this = this;\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['displayTemplate']);\n            if (this.displayTempElement) {\n                detach(this.displayTempElement);\n                this.displayTempElement = null;\n            }\n        }\n        if (!this.displayTempElement) {\n            this.displayTempElement = this.createElement('div');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.displayTempElement.innerHTML = '';\n        }\n        compiledString = compile(this.displayTemplate);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var displayCompTemp = compiledString(this.itemData, this, 'displayTemplate', this.displayTemplateId, this.isStringTemplate, null, this.displayTempElement);\n        if (displayCompTemp && displayCompTemp.length > 0) {\n            append(displayCompTemp, this.displayTempElement);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.renderTemplates();\n        }\n        else {\n            this.renderTemplates(function () {\n                _this.updateMentionValue(e);\n            });\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Mention.prototype.renderTemplates = function (callBack) {\n        this.renderReactTemplates(callBack);\n    };\n    Mention.prototype.setSpinnerTemplate = function () {\n        var _this = this;\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['spinnerTemplate']);\n            if (this.spinnerTemplateElement) {\n                detach(this.spinnerTemplateElement);\n                this.spinnerTemplateElement = null;\n            }\n        }\n        if (!this.spinnerTemplateElement) {\n            this.spinnerTemplateElement = this.createElement('div');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.spinnerTemplateElement.innerHTML = '';\n        }\n        compiledString = compile(this.spinnerTemplate);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var spinnerCompTemp = compiledString(null, this, 'spinnerTemplate', this.spinnerTemplateId, this.isStringTemplate, null, this.spinnerTemplateElement);\n        if (spinnerCompTemp && spinnerCompTemp.length > 0) {\n            for (var i = 0; i < spinnerCompTemp.length; i++) {\n                this.spinnerTemplateElement.appendChild(spinnerCompTemp[i]);\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.renderTemplates();\n            this.popupObj.element.appendChild(this.spinnerTemplateElement);\n        }\n        else {\n            this.renderTemplates(function () {\n                _this.popupObj.element.appendChild(_this.spinnerTemplateElement);\n            });\n        }\n    };\n    Mention.prototype.onChangeEvent = function (eve) {\n        this.isSelected = false;\n        var items = this.detachMentionChanges(this.itemData);\n        var preItems;\n        if (typeof this.previousItemData === 'string' ||\n            typeof this.previousItemData === 'boolean' ||\n            typeof this.previousItemData === 'number') {\n            preItems = Object.defineProperties({}, {\n                value: {\n                    value: this.previousItemData,\n                    enumerable: true\n                },\n                text: {\n                    value: this.previousItemData,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            preItems = this.previousItemData;\n        }\n        var eventArgs = {\n            e: eve,\n            item: this.item,\n            itemData: items,\n            previousItem: this.previousSelectedLI,\n            previousItemData: preItems,\n            isInteracted: eve ? true : false,\n            value: this.item.innerHTML,\n            element: this.inputElement\n        };\n        this.trigger('change', eventArgs);\n    };\n    Mention.prototype.detachMentionChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    Mention.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    Mention.prototype.removeSelection = function () {\n        if (this.list) {\n            var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n            if (selectedItems.length) {\n                removeClass(selectedItems, dropDownBaseClasses.selected);\n                selectedItems[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    Mention.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    Mention.prototype.setHover = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    Mention.prototype.removeHover = function () {\n        if (this.list) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.hover);\n            }\n        }\n    };\n    Mention.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    Mention.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.search = function (text, positionX, positionY) {\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n        }\n        var currentRange = this.getTextRange();\n        var lastWordRange = this.getLastLetter(currentRange);\n        if ((this.ignoreCase && (text === lastWordRange || text === lastWordRange.toLowerCase()))\n            || !this.ignoreCase && text === lastWordRange) {\n            this.resetList(this.dataSource, this.fields);\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            return;\n        }\n        if (isNullOrUndefined(this.list)) {\n            this.renderList();\n            this.renderPopup();\n        }\n        else {\n            this.showPopup();\n        }\n        this.popupObj.element.style.left = formatUnit(positionX);\n        this.popupObj.element.style.top = formatUnit(positionY);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    Mention.prototype.destroy = function () {\n        this.hidePopup();\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n        }\n        if (this.inputElement && !this.inputElement.classList.contains('e-' + this.getModuleName())) {\n            return;\n        }\n        this.previousSelectedLI = null;\n        this.item = null;\n        this.selectedLI = null;\n        this.popupObj = null;\n        _super.prototype.destroy.call(this);\n    };\n    Mention.prototype.getLocaleName = function () {\n        return 'mention';\n    };\n    Mention.prototype.getNgDirective = function () {\n        return 'EJS-MENTION';\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    Mention.prototype.getModuleName = function () {\n        return 'mention';\n    };\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('@')\n    ], Mention.prototype, \"mentionChar\", void 0);\n    __decorate([\n        Property(false)\n    ], Mention.prototype, \"showMentionChar\", void 0);\n    __decorate([\n        Property(false)\n    ], Mention.prototype, \"allowSpaces\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"suffixText\", void 0);\n    __decorate([\n        Property(25)\n    ], Mention.prototype, \"suggestionCount\", void 0);\n    __decorate([\n        Property(0)\n    ], Mention.prototype, \"minLength\", void 0);\n    __decorate([\n        Property('None')\n    ], Mention.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], Mention.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], Mention.prototype, \"highlight\", void 0);\n    __decorate([\n        Property()\n    ], Mention.prototype, \"locale\", void 0);\n    __decorate([\n        Property('auto')\n    ], Mention.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property('300px')\n    ], Mention.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"displayTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], Mention.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"spinnerTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Mention.prototype, \"target\", void 0);\n    __decorate([\n        Property([])\n    ], Mention.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"query\", void 0);\n    __decorate([\n        Property('Contains')\n    ], Mention.prototype, \"filterType\", void 0);\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], Mention.prototype, \"fields\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"opened\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"closed\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"destroyed\", void 0);\n    Mention = __decorate([\n        NotifyPropertyChanges\n    ], Mention);\n    return Mention;\n}(DropDownBase));\nexport { Mention };\n"],"names":["incrementalSearch","keyCode","items","selectedIndex","ignoreCase","elementId","queryStringUpdated","currentValue","isVirtual","refresh","queryString","prevString","tempQueryString","String","fromCharCode","setTimeout","index","toLowerCase","prevElementId","listItems","strLength","length","item","i","matches","innerText","substr","push","indexUpdated","i_1","textContent","classList","contains","activeClass","Search","inputVal","searchType","dataSource","fields","type","undefined","itemData","queryStr","toLocaleLowerCase","escapeCharRegExp","_loop_1","itemsData","filterValue","text","checkField_1","fieldValue_1","split","filter","data","Array","prototype","slice","call","forEach","value","isHeader","toString","indexOf","getAttribute","replace","RegExp","test","state_1","resetIncrementalSearchValues","highlightSearch","element","query","match","charCodeAt","ignoreRegex","replaceQuery","findTextNode","pattern","childNodes","nodeType","trim","nodeValue","innerHTML","revertHighlightSearch","content","contentElement","querySelectorAll","parent_1","parentNode","document","createTextNode","replaceChild","createFloatLabel","overAllWrapper","searchWrapper","inputElement","floatLabelType","placeholder","floatLinelement","createElement","className","FLOATLINE","floatLabelElement","FLOATTEXT","id","getUniqueID","isNullOrUndefined","setAttribute","attributes","aria-labelledby","encodePlaceholder","removeAttribute","appendChild","add","updateFloatLabelState","LABELBOTTOM","removeClass","addClass","LABELTOP","label","removeFloating","componentWrapper","placeholderText","placeholderElement","querySelector","floatLine","setPlaceHolder","detach","remove","floatLabelFocus","floatLabelBlur","result","spanElement","children","__assign","Object","assign","t","s","n","arguments","p","hasOwnProperty","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","__generator","body","verb","v","op","f","TypeError","_","y","ops","pop","trys","g","sent","throw","return","Symbol","iterator","VirtualScroll","parent","_this","sentinelInfo","up","check","rect","info","top","containerElementRect","entered","listItemHeight","virtualItemCount","axis","down","popupContentElement","clientHeight","bottom","removeEventListener","addEventListener","isDestroyed","on","observe","setGeneratedData","dataProcessAsync","setCurrentViewDataAsync","bindScrollEvent","off","component","scrollArgs","scrollListener","callback","getBoundingClientRect","EventHandler","popupScrollHandler","touchModule","Touch","scroll","bind","virtualScrollHandler","getModuleName","isMouseScrollAction","isPreventScrollAction","getPageQuery","virtualStartIndex","virtualEndIndex","allowFiltering","skip","qStartIndex","recentlyGeneratedData","loopIteration","endIndex","listData","virtualItemStartIndex","generatedDataObject","slicedData","generateAndExecuteQueryAsync","virtualItemEndIndex","isQueryGenerated","newQuery","removeSkipAndTakeEvents","clone","tempCustomFilter","isCustomFilter","totalData","DataManager","json","totalItemCount","typedString","resetList","queries","event","fn","currentData","isResetListCalled","isListUpdated","viewPortInfo","mode","isArray","enableSelectionOrder","startIndex","updateVirtualReOrderList","itemCount","oldUlElement","list","removeChild","getForQuery","take","appendUncheckList","setCurrentView","reOrderList","skipvalue","totalItemsCount","alreadyAddedData","hideSelectedItem","getValue","allowCustomValue","virtualCustomData","splice","virtualCustomSelectData","concat","renderItems","updatevirtualizationList","getSkeletonCount","virtualTrackElement","getElementsByClassName","style","GetVirtualTrackHeight","skeletonCount","popupWrapper","virualElement","styles","UpdateSkeleton","liCollections","virtualContentElement","getTransformValues","groupBy","scrollStop","isScrollChanged","currentFocuedListElement","currentSelectElem","getElementByValue","addListFocus","generateQueryAndSetQueryIndexAsync","isPopupOpen","isStartIndexInitialised","queryStartIndex","queryEndIndex","vEndIndex","isRequesting","isOpenPopup","selectedValueInfo","Query","virtualScrollRefreshAsync","_a","isTyped","filterInput","dataCount","keyboardEvent","handleVirtualKeyboardActions","pageCount","customFilterQuery","isVirtualTrackHeight","preventSetCurrentData","sentinel","pStartIndex","previousStartIndex","getInfoFromView","direction","offset","isUpwardScrolling","isKeyBoardAction","isScrollActionTriggered","isPreventKeyAction","virtualListCount","listElement","translateY","offsetHeight","transform","currentPageNumber","virtualListInfo","isVirtualScrolling","getPageCount","popupObj","select","updateSelectionList","getItems","previousInfo","isscrollAction","infoType","offsets","previousEndIndex","vHeight","height","rowHeight","exactTopIndex","infoViewIndices","exactEndIndex","pageSizeBy4","sIndex","Math","round","floor","eIndex","ceil","idxAddedToExactTop","scrollPreStartIndex","delay","Browser","name","prevTop","debounced100","debounce","debounced50","target","scrollTop","left","scrollLeft","current","pstartIndex","scrollOffsetargs","debounceFunction","focusElement","activeElement","destroy","__extends","extendStatics","d","b","setPrototypeOf","__proto__","__","constructor","create","__decorate","decorators","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","FieldSettings","_super","Property","ChildProperty","dropDownBaseClasses","root","rtl","selected","hover","noData","fixedHead","focus","li","group","disabled","grouping","virtualList","DropDownBase","options","preventChange","isAngular","isPreventChange","isDynamicDataChange","addedNewItem","isAddNewItemTemplate","isVirtualizationEnabled","isCustomDataUpdated","isAllowFiltering","virtualizedItemsCount","isCheckBoxSelection","remoteDataCount","isRemoteDataUpdated","isIncrementalRequest","virtualListHeight","virtualSelectAll","incrementalQueryString","incrementalEndIndex","incrementalStartIndex","incrementalPreQueryString","isObjectCustomValue","getInitialData","preventPopupOpen","virtualSelectAllState","CurrentEvent","getPropObject","prop","newProp","oldProp","newProperty","oldProperty","propName","getValueByText","ignoreAccent","checkValueCase","isTextByValue","typeOfData","typeof","_i","dataSource_1","checkingAccent","checkIgnoreCase","getItemValue","checkNonIgnoreCase","itemValue","compareValue_1","dataItem","DataUtil","ignoreDiacritics","textItem","typedText","getFormattedValue","templateCompiler","baseTemplate","checkTemplate","selectAll","exception","l10nUpdate","actionFailure","ele","ulElement","noRecordsTemplate","actionFailureTemplate","template","compiledString","templateId","actionFailureTemplateId","noRecordsTemplateId","tempaltecheck","compile","templateName","noDataElement","isStringTemplate","nodeName","liElem","HTMLElement","Text","renderReactTemplates","componentLocale","L10n","getLocaleName","locale","getConstant","l10n","checkAndResetCache","updateIncrementalInfo","updateVirtualItemIndex","updateIncrementalView","getFilteringSkeletonCount","currentSkeletonCount","skeletonUpdated","abs","retainSkeleton","listContainerHeight","parseInt","actualCount","heightDimension","isSkeletonCountChange","isContainSkeleton","isContainVirtualList","totalSkeletonCount","liElement","itemTemplate","skeleton","Skeleton","shape","width","cssClass","appendTo","firstChild","insertBefore","getTextByValue","properties","parseFloat","setEnableRtl","enableRtlElements","enableRtl","initialize","bindEvent","tagName","jsonElement","ListBase","createJsonFromElement","setProperties","setListData","renderItemsBySelect","getPersistData","addOnPersist","updateDataAttribute","invalidAttr","attr","a","extend","htmlAttributes","option","getJSONfromOption","optionGroup","child","updateFields","iconCss","field","options_1","preRender","scrollTimer","isRequested","isDataFetched","itemTemplateId","displayTemplateId","spinnerTemplateId","valueTemplateId","groupTemplateId","headerTemplateId","footerTemplateId","isActive","eventArgs","cancel","trigger","showSpinner","isWhereExist_1","emptyDataRequest","executeQuery","getQuery","isReOrder","queryElements","count","nos","condition","operator","onActionComplete","groupTemplate","renderGroupTemplate","bindChildItems","notify","module","virtualSelectAllData","virtualSelectionAll","catch","onActionFailure","hideSpinner","virtualGroupDataSource","executeLocal","records","dataManager","localDataArgs","childElementCount","updateDataList","updatePopupState","state","updateRemoteData","childNode","remainingItems","sortedData","append","updateListValues","raiseDataBound","isObjectInArray","objectToFind","array","some","keys","every","findListElement","findNode","attribute","listArr","dataBoundEventArgs","spliceData","listElements","templateListItem","createListItemFromArray","listOption","createListItemFromJson","isReact","clearTemplate","fixedHeaderElement","setStyleAttribute","zIndex","postRender","focusItem","selectedItem","updateVirtualizationProperties","filtering","isCheckbox","listEle","groupTemplateID","headerItems","groupcheck","groupValue","tempHeaders","isGroupChecking","createListItems","sortOrder","getSortedDataSource","groupDataSource","createList","fieldValues","showIcon","ariaAttributes","groupItemRole","setFloatingHeader","display","prepend","setFixedHeader","isDownkey","liHeight","getComputedStyle","getValidLi","getPropertyValue","topIndex","updateGroupHeader","returnExactCount","updateGroupFixedHeader","position","parentElement","offsetTop","window","scrollY","isCheckBoxUpdate","virtualUlElement","updateListElements","createVirtualContent","incrementalLiCollections","incrementalUlElement","incrementalListData","templateID","itemcheck","renderContentTemplate","borderWidth","defaultView","isNaN","liWidth","offsetWidth","firstLi","textField","getDataSource","addSorting","getIndexByValue","getIndexByValueFilter","dispatchEvent","evt","createEvent","initEvent","setFields","selectData","updateSelectElementData","isFiltering","updateSelection","renderList","render","updateDataSource","props","oldProps","setUpdateInitial","updateData","j","onPropertyChanged","setZIndex","isEmptyData","attrs","tabindex","rippleModel","duration","selector","rippleFun","rippleEffect","wrapperElement","removeScrollEvent","addItem","itemIndex","newList","itemsCount","isListboxEmpty","selectedItemValue","itemText","itemCheck","addItemTemplate","updateActionCompleteData","updateAddItemList","listGroupItem","tempLi","validationAttribute","hidden","getDataByValue","_b","_c","Complex","Event","NotifyPropertyChanges","Component","dropDownListClasses","disable","base","input","inputFocus","icon","iconAnimation","device","backIcon","filterBarClearIcon","filterParent","mobileFilter","footer","header","clearIcon","clearIconHide","popupFullScreen","disableIcon","hiddenElement","inputObject","container","buttons","DropDownList","isListSearched","isTouched","IsScrollerAtEnd","scrollHeight","removeAllChildren","valueTempElement","opacity","initializeData","activeIndex","isDocumentClick","isInteracted","isFilterFocus","beforePopupOpen","initial","initialRemoteRender","isNotSearchList","isSelected","preventFocus","preventAutoFill","isValidKey","isEscapeKey","isPreventBlur","isTabKey","actionCompleteData","isUpdated","actionData","prevSelectPoints","isSelectCustom","isDropDownClick","preventAltUp","isSecondClick","previousValue","keyConfigure","tab","enter","escape","end","home","pageUp","pageDown","open","close","hide","space","requiredModules","modules","enableVirtualization","args","member","unWireListEvents","wireListEvents","floatLabelChange","floatElement","inputWrapper","resetHandler","preventDefault","clearAll","resetFocusElement","removeHover","removeSelection","removeFocus","previousItemData","resetSelection","getItemData","allowObjectBinding","allowCustom","onChangeEvent","updateInitialData","cloneNode","selectedLI","setSelection","updateIconState","cloneElements","setHTMLAttributes","htmlAttr","updatedClassValue","enabled","setEnable","readonly","defaultAttr","Input","setPlaceholder","dataBind","getAriaAttributes","aria-disabled","role","aria-expanded","aria-live","setEnabled","targetElement","tabIndex","hidePopup","preventTabIndex","getNgDirective","getElementByText","listItems_1","liItem","initValue","updateValues","setHiddenValue","setValue","showClearButton","onBlurHandler","relatedTarget","currentTarget","isFilterLayout","focusOutAction","focusOut","onFocusOut","clearButton","onFocus","resetValueHandler","formElement","closest","val","wireEvent","dropDownClick","focusIn","onSearch","windowResize","bindCommonEvent","isDevice","keyboardModule","KeyboardEvents","keyAction","mobileKeyActionHandler","keyConfigs","eventName","keyActionHandler","bindClearEvent","refreshPosition","unBindCommonEvent","onMouseClick","onMouseOver","onMouseLeave","charCode","searchKeyEvent","onServerIncrementalSearch","isValidLI","history","back","closePopup","currentLi","setHover","hoveredItem","hasAttribute","updateIncrementalItemIndex","updatingincrementalindex","setScrollPosition","selectedLiOffsetTop","spinnerElement","filterInputObj","createSpinner","preventAction","action","preventHomeEnd","isNavigation","isEditTextBox","isTabAction","updateUpDownAction","pageUpSelection","pageDownSelection","updateHomeEndAction","showPopup","focusDropDown","selectCurrentItem","selectCurrentValueOnTab","isVirtualKeyAction","value_1","filterIndex","focusEle","isSelectFocusItem","virtualIndex","nextItem","value_2","selectedData","value_3","focusAtFirstElement","value_4","aria-activedescendant","findLi","steps","previousItem","PageUpDownSelection","unWireEvent","checkSelector","onDocumentClick","isIE","activeStateChange","which","button","proxy_1","updateSelectedItem","preventSelect","isSelection","selectEventCallback","setSelectOptions","detachChanges","checkFieldValue","focusedItem","activeItem","valueTemplate","setValueTemplate","previousSibling","clearElement","removeProperty","getItem","where","Predicate","previousSelectedLI","aria-describedby","dropdownCompiler","dropdownTemplate","valuecheck","valueCompTemp","selectedItems","dataValue","dataText","isUndefined","eve","isCustomValue","datas","foundIndex","findIndex","detachChangeEvent","defineProperties","enumerable","preItems","selectedElement","onFilterUp","ctrlKey","firstItem","searchLists","onFilterDown","getSelectionPoints","removeFillSelection","selection","setSelectionRange","filterQuery","filterType","dataType","takeValue","getTakeValue","alreadySkipAdded","queryTakeValue","querySkipValue","queryElements_1","queryElements_2","queryElements_3","requiresCount","start","selectionStart","selectionEnd","visibility","eventArgs_1","preventDefaultAction","filteringAction","baseEventArgs","isNoData","focusIndexItem","setSearchBox","popupElement","createInput","filterBarPlaceholder","autocomplete","autocapitalize","spellcheck","clearIconElement","clearText","searchKeyModule","onInput","pasteHandler","renderPopup","outerHeight","updateActionCompleteDataValues","tempItemCount","aria-hidden","aria-label","value_5","checkVal","x","setInputValue","isValueInList","addNewItem","valueToFind","fieldValue","checkField","newElement","value_6","actionCompleteDataUpdate","findEle","highlightedItem","refreshPopup","popupEle","searchBox","formatUnit","popupHeight","headerTemplate","setHeaderTemplate","footerTemplate","setFooterTemplate","listitems","searchBoxHeight","maxHeight","offsetValue","getOffsetValue","isEmptyList","textIndent","paddingLeft","borderLeftWidth","createPopup","getFocusElement","checkCollision","popupWidth","outerWidth","collision","X","Y","setSearchBoxPosition","backIconElement","clickOnBackIcon","scrollParentElements_1","getScrollableParent","scrollHandler","selectedElementID","enable","scrollBottom","aria-owns","aria-controls","inputParent","popup","animation","destroyPopup","show","Animation","isCollide","marginTop","resolveCollision","popupStyles","borderTop","borderTopWidth","borderBottom","borderBottomWidth","setPopupPosition","Popup","setWidth","targetType","relateTo","offsetY","offsetX","actionList","targetExitViewport","isElementInViewport","elementRect","innerHeight","right","innerWidth","border","popupOffset","lastItem","listHeight","paddingBottom","isInitial","isInitialSelection","lastElementValue","currentOffset","nextBottom","nextOffset","isScrollerCHanged","paddingTop","boxRange","currentElementValue","liCount","firstElementValue","isPageUpKeyAction","scrollTo","isPopupButton","setEleWidth","isFilterValue","scrollableParentElements_1","animModel","fixedHeader","dataSourceCount","preselectedIndex","updatedCssClassValues","class","setReadOnly","calculateWidth","getListHeight","selectElement","onselect","stopImmediatePropagation","onchange","renderComplete","listParent","listParentHeight","footercheck","footerCompTemp","headercheck","headerCompTemp","contentEle","setOldText","setOldValue","checkData","isChangeValue","isChangeText","checkCustomValue","updateInputFields","this_1","setReadonly","setCssClass","checkValidLi","setSelectionData","listLength_1","listLength_2","value_7","addFloating","setClearButton","ddlProps","newClass","oldClass","invokeRenderPopup","isOpen","proxy_2","onpopstate","pushState","renderHightSearch","isSelectVal","isFocused","blur","attrArray","clear","DROPDOWNICON","SHOW_CHIP","SHOW_CLEAR","SHOW_DD_ICON","CHIP_INPUT","INPUTFOCUS","CHIP_CLOSE","HIDEICON","DDTHIDEICON","CHECKALLPARENT","CHECKALLHIDE","CHECK","CHECKBOXWRAP","NODATA","OVERFLOW_VIEW","SHOW_TEXT","TOTAL_COUNT_WRAPPER","REMAIN_COUNT","Fields","TreeSettings","DropDownTree","filterTimer","isFilteredData","isFilterRestore","filterDelayTime","isClicked","isCheckAllCalled","isFromFilterChange","isFirstRender","isInitialized","currentText","oldValue","removeValue","selectedText","treeItems","isNodeSelected","isDynamicChange","clearIconWidth","customTemplateId","altUp","altDown","shiftTab","moveDown","moveLeft","moveRight","moveUp","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","ctrlA","isTree","popupDiv","inputEle","isNOU","inputObj","showDropDownIcon","getDirective","createHiddenElement","createClearIcon","setElementWidth","setAttributes","tree","destroyPopupOnHide","wireTreeEvents","renderTree","isRemoteData","allowMultiSelection","showCheckBox","createChip","wrapText","overFlowWrapper","setTreeValue","setTreeText","updateHiddenValue","setSelectedValue","updateView","wireEvents","firstUl","treeObj","hasTemplate","customTemplate","hideCheckAll","flag","checkAllEle","renderFilter","filterContainer","filterObj","TextBox","filterChangeHandler","clearTimeout","filterHandler","isChildObject","expandedNodes","treeData","getTreeData","filterFields","cloneFields","treeDataType","selfReferencefilter","remoteDataFilter","getTreeFields","nestedFilter","portals","filteredFields","map","remoteChildFilter","filteredChild","node","isChild","isChildFiltering","isMatchedNode","matchedChildren","filteredItems","matchedDataSource","nestedChildFilter","matchedData","parentId","parentValue","checkValue","tempChild","mouseIn","overAllClear","treeAction","wireCheckAllWrapperEvents","checkAllParent","checkAllAction","unWireEvents","isClearButtonClick","showOverAllClear","isValue","chipWrapper","changeOnBlur","triggerChangeEvent","updateOverFlowView","ensurePlaceHolder","ddtCompareValues","isChipDelete","newValue","observedArgs","isValueChange","keyEventArgs","showSelectAll","clickHandler","focusedElement","resetValue","overAllContainer","temp","tempData","tempIndex","wrapperleng","remaining","downIconWidth","overflowCountTemplate","totalCountTemplate","remainContent","totalContent","remainElement","remainSize","delimiterChar","getOverflowVal","enableHtmlSanitizer","SanitizeHtmlHelper","sanitize","textArr","join","chips","lastChild","updateRemainTemplate","updateDelimMode","getSelectedData","treeSettings","loadOnDemand","multiple","chipCollection","getValidMode","checkWrapper","createSelectAllWrapper","selectAllSpan","touchClass","checkBoxElement","createCheckBox","setLocale","firstElementChild","lastElementChild","checkElement","changeState","wrapper","ariaState","frameSpan","isReverseUpdate","uncheckAll","checkAll","setMultiSelect","unSelect","selectAllText","unSelectAllText","setValidValue","valArr","selectedNodes","updateMode","checkedNodes","updateSelectedValues","autoCheck","givenText","getNestedItems","newData","objlen","dataId","getChildType","childData","mapper","TreeView","nodeSelected","onNodeSelected","nodeChecked","onNodeChecked","nodeChecking","beforeCheck","nodeExpanded","onNodeExpanded","nodeClicked","onNodeClicked","dataBound","OnDataBound","expandOn","nodeSelecting","onBeforeSelect","nodeTemplate","isCancelled","POPUP_CLASS","includes","reactCallBack","updatePopupHeight","oldFocussedNode","nodes","checkSelectAll","wrap","getHeight","inputWidth","ddElement","documentElement","isFilter","isFooter","isScroller","getTreeDataType","expandAll","restoreFilterSelection","elements","setEnableRTL","cloneChildField","hasChildren","expanded","imageUrl","selectable","tableName","tooltip","parentID","getTreeChildren","isChecked","childFields","getActualProperties","ds","len","updateTemplate","getEventArgs","nodeData","getNode","removeSelectedData","updateClearButton","nextSibling","chipClose","updateDropDownIconState","spinIcon","appendSpan","isValid","ensureClearIconPosition","setMultiSelectValue","newValues","selectedValues","ddtValue","checkSelection","getNodeData","getChildNodeData","obj","newChildItems","getChildMapperFields","childNodeData","muteOnChange","textValue","hiddenInputValue","setChipValues","setTagValues","chip","data-value","chipContent","removeChip","tempArr","templateComplier","setSelectAllWrapper","updateOverflowWrapper","clearCheckAll","selectAllItems","arr","updateTreeSettings","updateValue","updateCheckBoxState","checkBox","noRecord","templatestring","updateRecordTemplate","updateMultiSelection","updateOption","updateAllowFiltering","destroyFilter","updateFilterPlaceHolder","updateText","updateModelMode","overFlow","ensureVisible","getData","SPINNER_CLASS","ComboBox","preventBlur","targetFocus","inputValue","customValue","valueMuteChange","doesItemExist","currentValue_1","aria-autocomplete","aria-readonly","setHoverList","inlineSearch","autofill","setAutoFill","isHover","currentFillValue","isAndroidAutoFill","setAutoFillSelection","isAndroid","currentPoints","prevEnd","curEnd","prevStart","curStart","property","isKeyNavigate","previousValue_1","updateCustomValueCallback","emptyObject","changeData","comboProps","isEscape","searchItem","AutoComplete","_this_1","isFiltered","searchList","mapping","suggestionCount","filterAction","isNoDataElement","minLength","postBackAction","fieldsSettings","itemCreated","highlight","itemCreated_1","showPopupButton","checkFields_1_1","_this_2","atcProps","isHighlight","FOCUS","HIDE_LIST","CHIP","CHIP_SELECTED","ZERO_SIZE","CLOSEICON_CLASS","CLOSE_ICON_HIDE","DISABLE_ICON","dropdownIcon","CUSTOM_WIDTH","FILTERINPUT","MultiSelect","previousFilterText","selectAllEventData","selectAllEventEle","resetMainList","resetFilteredData","isSelectAllLoop","scrollFocusStatus","keyDownStatus","enableRTL","enableGroupCheckBox","prevOnChange","isProtectedOnChange","closePopupOnSelect","updateHTMLAttribute","refreshPlaceHolder","updateReadonly","updateCssClass","updateOldPropCssClass","onPopupShown","focusAtFirstListItem","updateListItems","mainList","updateAriaActiveDescendant","isFirstClick","loadTemplate","selectedListData","mainListItems","findGroupStart","deselectHeader","refreshListItems","valueEle","focusAtLastListItem","updateListARIA","disableStatus","ensureAriaDisabled","status","removelastSelection","chipCollectionWrapper","tempValues","removeChipSelection","updateDelimeter","makeTextBoxEmpty","refreshSelection","checkPlaceholderSize","removeSelectedChip","targetInputElement","predicate","or","and","adaptor","JsonAdaptor","presentItemValue","addNonPresentItems","updateActionList","isCustomRendered","checkForCustomValue","remoteCustomValue","mainData","mainListCollection","tempQuery","unwireListEvents","setInitialValue","selectAllAction","setDynValue","initialTextUpdate","initialValueUpdate","initialUpdate","updateValueState","previousElementSibling","nextElementSibling","hideGroupItem","checkMaxSelection","element1","temp1","groupItemLength","listItem","searchCount","searchActiveCount","maximumSelectionLength","openClick","openOnClick","keyUp","isWordCharacter","expandTextbox","search","remoteFilterAction","dataUpdater","virtualFilterQuery","isSkip","backCommand","dataChecks","customData","dataItem_1","random","emptyObject_1","JSON","parse","stringify","tempCount","isRemoteSelection","wrapperClick","isDocClickFromCheck","addTagOnBlur","listLiElement","updateListSelection","updateDelimView","focused","removeChipFocus","refreshInputHight","createSpanElement","elementWidth","clientWidth","paddingRight","dropIcon","marginRight","setPlaceholderSize","validateValues","sort","newVal","oldVal","initStatus","updateTempValue","collection","previousFocusItem","focusInHandler","showDelimWrapper","viewWrapper","delimiterWrapper","hideDelimWrapper","size","mobFilter","calcPopupWidth","checkTextLength","popupKeyActions","updateAriaAttribute","homeNavigation","isHome","scrollEle","arrowDown","arrowUp","onKeyDown","altKey","selectByKey","spaceKeySelection","escapeAction","keyNavigation","checkBackCommand","moveByList","focuseElem","focusFirstListItem","selectAllParent","li_1","moveBy","selectListByKey","hideOverAllClear","limit","selectAllItem","selectAllCheckBox","selectedElem","addChipSelection","currentChip","moveByTop","filterInputClassName","updateCheck","isVirtualElement","elementIndex","chipClick","elem","onChipRemove","customVal","setFloatLabelType","removeAllItems","isClearAll","mainElement","indexOfObjectInArray","removeVal","invokeCheckboxSelection","updateMainList","updateChipStatus","isSelectAll","targetEle","element_1","val_1","removeIndex","hideElement","currentValue_2","targetEle_1","isSelectAllTarget","clearAllCallback","element2","addValue","updateWrapperText","textValues","addListSelection","addChip","dispatchSelect","isNotTrigger","val_2","isServerRendered","updateListSelectEventCallback","getChip","closeElements","onMobileChipInteraction","chipElem","multiCompiler","multiselectTemplate","encodeHtmlEntities","title","setClass","classes","mouseOut","fieldProperty","listCurrentOptions","checkboxFilter","overAllHeight","selectAllHeight","unwireScrollEvents","checkboxFilterInput","wireScrollEvents","onListMouseDown","textVal","delim","valueLength","hiddenElementContent","valueItem","listValue","isChipRemove","addValidInputClass","isInitialVirtualData","removeListSelection","isCustomData","indexItem","noDataEle","isDynamicGroupItemUpdate","isReactTemplateUpdate","isAngularTemplateUpdate","temp_1","data_1","selectItems","mainlist","addListHover","delimChar","visibleListElements","groupValues","findGroupAttrtibutes","updateCheckBox","checked","unChecked","groupHeader","filterClear","wrapperType","wrapperData","l10nLocale","raminElement","remainCompildTemp","checkClearIconWidth","totalWidth","updateRemainWidth","updateRemainingText","remainTemp","totalTemp","newTemp","selectionLimit","textboxValueUpdate","firstItems","fragment_1","createDocumentFragment","concatenatedNodeList","updatedataValueItems","updateHiddenElement","beforeSelectArgs","preventSelectEvent","index_2","count_1","hiddenValue","wrapperText","isRemoveAll","onLoadSelect","updateVal","dropDownIcon","reInitializePoup","msProps","checkvalue","typedValue","mainLiLength","liLength","SEARCHBOX_WRAPPER","DELIMITER_VIEW","checkInitialValue","isData","optionsElement","valueCol","textCol","optionsLen","opt","listItems_2","checkAutoFocus","CheckBoxSelection","activeLi","activeEle","listSelection","setSelectAll","setDeviceSearchBox","getFocus","setReorder","getActiveList","checboxCreate","setPopupFullScreen","checkboxEle","checkboxWrapper","validateCheckNode","checkWrap","isCheck","isPrevent","boundPreventListSelection","preventListSelection","stopPropagation","activeLiCount","remLi","ulEle_1","SelectionSettings","ToolbarSettings","ListBox","isDataSourceUpdate","ListBox_1","originalElement","clonedElement","inputString","initLoad","isCustomFiltering","initialSelectedOptions","inputFormName","initWrapper","hiddenSelect","groupHdrs","aria-multiselectable","selectionSettings","updateSelectionSettings","showCheckbox","l10nSelect","checkBoxSelectionModule","initDraggable","allowDragAndDrop","Sortable","scope","itemClass","dragStart","triggerDragStart","drag","triggerDrag","beforeDrop","beforeDragEnd","drop","dragEnd","placeHolder","helper","sender","refEle","getZindexPartial","jsonData","initToolbar","pos","toolbarSettings","prevScope","toolElem","createButtons","updateToolBarState","tBListBox","getComponent","getElementById","moveTo","moveFrom","moveAllTo","moveAllFrom","Button","required","setHeight","spinner","refreshClearIcon","KeyUp","listBoxClasses","searchEle","filterElem","txtLength","noRecElem","filterWireEvents","inputSearch","isRendered","initToolbarAndStyles","setCheckboxPosition","setFiltering","badge","getDragArgs","dragSelected","isIos","overflow","dragEventArgs","allowDragAll","scrollParent","boundRect","stopTimer","clientY","timer","setInterval","setScrollDown","scrollElem","scrollPixel","isScrollDown","clearInterval","dragValue","droppedElement","getDataByValues","customDraggedItem","liColl","droppedData","selectedOptions","dropValue","listObj","getArgs","sourceArgs","previousData","destArgs","dragArgs","source","previousIndex","currentIndex","sourceArgs1","destination","targetListObj","ul_1","toSortIdx_1","toIdx_1","getCurIdx","rIdx","jsonIdx","sIdx","idx","jsonIdx_1","sIdx_1","fLiColl_1","currIdx_1","ul_2","fListData_1","fSortData_1","srcIdx","jsonSrcIdx","sortIdx","destIdx","liCollElem_1","removeSelected","sourceElem","sortable","placeHolderElement","dragArgs1","liCollElem","destElem","elems","triggerBeforeItemRender","curData","enableItems","getSelectedItems","updateSelectedOptions","selElems","triggerChange","addItems","removeItems","removeItem","dupData","itemIdx","removeIdxes","removeLiIdxes","k","updateLiCollection","getElemByValue","moveUpDown","moveTop","moveBottom","targetId","tlistbox","getScopedListBox","moveData","moveAllData","getDataList","getSortedList","sortData","liEle","getElementsByTagName","dataValue1","_loop_2","dataValue2","this_2","ulList","mainCount","ulEleCount","listindex","valueindex","form","keyDownHandler","focusOutHandler","wireToolbarEvent","formResetHandler","getToolElem","toolbarClickHandler","unwireEvents","clearFilterIconElem","selectHandler","liItems","autocorrect","isKey","currSelIdx","isSelect","selectedLi","metaKey","shiftKey","min","prevSelIdx","max","liDataValue_1","values","value1","selectedLis","getDataByElements","getDataByElems","btn","toolbarAction","moveItemTo","moveItemFrom","moveAllItemTo","moveAllItemFrom","isUp","isTop","isBottom","tempItems","reverse","jsonToIdx","fListBox","tListBox","dataIdx","tListData","tSortData","fliCollections","dataLiIdx","tliCollections","isRefresh","rLiCollection_1","n1","n2","toColl","tJsonData","selectNextList","inst","liIdx","childCnt","validIdx","getValidIndex","tempLiColl","flistboxarray","Number","_loop_3","fromIdx","toIdx","cbox","getGrabbedItems","grabbItems","isDragEnd","code","upDownKeyHandler","ul","fliIdx","fli","cli","selectedidx","sidx","eidx","eventArgsData_1","cul","updateSelectTag","clearSelection","dvalue_1","isText","canFocus","liselect","getSelectTag","checkDisabledState","listObj_1","wrap_1","listWrap","checkboxPosition","liCollLen","l10nShow","l10nSel","Mention","suffixText","allowSpaces","mentionChar","showMentionChar","initRemoteRender","isListResetted","isCollided","lineBreak","isRTE","keyEventName","isSelector","checkAndUpdateInternalComponent","isContentEditable","elementValue","onKeyUp","hideWaitingSpinner","spinnerTemplate","spinnerTemplateElement","isVue","showWaitingSpinner","setSpinnerTemplate","isKeyAction","isUpDownKey","rangetextContent","isRteImage","range","getCurrentRange","startContainer","currentRange","getTextRange","lastWordRange","getLastLetter","lastTwoLetters","Regex","charRegex","isMatchedText","charAt","substring","lastIndexOf","didPopupOpenByTypingInitialChar","isMatched","ownerDocument","getSelection","getRangeAt","setDataIndex","workingNodeContent","selectStartOffset","startOffset","startPos","words","popupEle_1","coordinates_1","initializePopup","popupLeft_1","popupHeight_1","getTriggerCharPosition","getCoordinates","cssText","coordinates","mostRecentTriggerCharPos","actionOnScroll","div","span","globalRange","computed","selectedNodePosition","createRange","setStart","setEnd","endOffset","collapse","getClientRects","rectTop","rectLeft","iframes","iframe","contentDocument","iframeRect","doc","windowLeft","pageXOffset","clientLeft","windowTop","pageYOffset","clientTop","Node","TEXT_NODE","span_1","textNodeWidth","fontSize","offsetLeft","isSelectCancel","selectLi","displayTemplate","updateMentionValue","setDisplayTemplate","textSuffix","endPos","mentionVal","commonAncestorContainer","deleteContents","frag","lastNode","insertNode","cloneRange","setStartAfter","removeAllRanges","addRange","pointerType","event_1","CustomEvent","detail","click","myField","currentTriggerSnippet","showChar","displayTempElement","displayCompTemp","renderTemplates","callBack","spinnerCompTemp","detachMentionChanges","positionX","positionY"],"mappings":"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"}